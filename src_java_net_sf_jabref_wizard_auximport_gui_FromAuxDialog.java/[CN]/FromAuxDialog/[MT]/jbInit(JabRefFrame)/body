{
  JPanel panel1=new JPanel();
  panel1.setLayout(new BorderLayout());
  okButton.setText(Globals.lang("Ok"));
  okButton.setEnabled(false);
  okButton.addActionListener(new FromAuxDialog_ok_actionAdapter(this));
  cancelButton.setText(Globals.lang("Cancel"));
  cancelButton.addActionListener(new FromAuxDialog_Cancel_actionAdapter(this));
  generateButton.setText(Globals.lang("Generate"));
  generateButton.addActionListener(new FromAuxDialog_generate_actionAdapter(this));
  initOptionsPanel(parent);
  initStatusPanel();
  ButtonBarBuilder bb=new ButtonBarBuilder();
  JPanel buttonPanel=bb.getPanel();
  buttonPanel.setBorder(BorderFactory.createEmptyBorder(2,2,2,2));
  bb.addGlue();
  bb.addGridded(generateButton);
  bb.addGridded(okButton);
  bb.addGridded(cancelButton);
  bb.addGlue();
  this.setModal(true);
  this.setResizable(false);
  this.setTitle(Globals.lang("AUX file import"));
  getContentPane().add(panel1);
  JPanel desc=getDescriptionPanel();
  if (desc != null) {
    panel1.add(desc,BorderLayout.NORTH);
    panel1.add(buttonPanel,BorderLayout.SOUTH);
    JPanel centerPane=new JPanel(new BorderLayout());
    centerPane.add(buttons,BorderLayout.NORTH);
    centerPane.add(statusPanel,BorderLayout.CENTER);
    panel1.add(centerPane,BorderLayout.CENTER);
  }
 else {
    panel1.add(buttons,BorderLayout.NORTH);
    panel1.add(buttonPanel,BorderLayout.SOUTH);
    panel1.add(statusPanel,BorderLayout.CENTER);
  }
  ActionMap am=statusPanel.getActionMap();
  InputMap im=statusPanel.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW);
  im.put(parent.prefs().getKey("Close dialog"),"close");
  am.put("close",new AbstractAction(){
    public void actionPerformed(    ActionEvent e){
      dispose();
    }
  }
);
}
