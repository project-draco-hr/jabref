{
  if (pluginLayoutFormatter == null) {
    pluginLayoutFormatter=new HashMap<String,LayoutFormatter>();
    JabRefPlugin plugin=JabRefPlugin.getInstance(PluginCore.getManager());
    if (plugin != null) {
      for (      LayoutFormatterExtension e : plugin.getLayoutFormatterExtensions()) {
        LayoutFormatter formatter=e.getLayoutFormatter();
        String name=e.getName();
        if (name == null)         name=e.getId();
        if (formatter != null) {
          pluginLayoutFormatter.put(name,formatter);
        }
      }
    }
  }
  if (pluginLayoutFormatter.containsKey(formatterName)) {
    Class<? extends LayoutFormatter> c=pluginLayoutFormatter.get(formatterName).getClass();
    try {
      return c.getConstructor().newInstance();
    }
 catch (    Throwable e) {
      e.printStackTrace();
    }
    return pluginLayoutFormatter.get(formatterName);
  }
 else   return null;
}
