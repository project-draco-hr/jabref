{
  LayoutFormatter formatter;
  try {
    try {
      formatter=(LayoutFormatter)Class.forName(classPrefix + formatterName).newInstance();
    }
 catch (    Throwable ex2) {
      formatter=(LayoutFormatter)Class.forName(formatterName).newInstance();
    }
  }
 catch (  ClassNotFoundException ex) {
    throw new Exception(Globals.lang("Formatter not found") + ": " + formatterName);
  }
catch (  InstantiationException ex) {
    throw new Exception(formatterName + " can not be instantiated.");
  }
catch (  IllegalAccessException ex) {
    throw new Exception(formatterName + " can't be accessed.");
  }
  if (formatter == null) {
    throw new Exception(Globals.lang("Formatter not found") + ": " + formatterName);
  }
  return formatter;
}
