{
  LayoutFormatter f=null;
  if (className.length() > 0) {
    try {
      try {
        f=(LayoutFormatter)Class.forName(classPrefix + className).newInstance();
      }
 catch (      Throwable ex2) {
        f=(LayoutFormatter)Class.forName(className).newInstance();
      }
    }
 catch (    ClassNotFoundException ex) {
      throw new Exception(Globals.lang("Formatter not found") + ": " + className);
    }
catch (    InstantiationException ex) {
      throw new Exception(className + " can not be instantiated.");
    }
catch (    IllegalAccessException ex) {
      throw new Exception(className + " can't be accessed.");
    }
  }
  return f;
}
