{
  String[] formatters=formatterName.split(",");
  LayoutFormatter[] formatter=new LayoutFormatter[formatters.length];
  for (int i=0; i < formatter.length; i++) {
    try {
      try {
        formatter[i]=(LayoutFormatter)Class.forName(classPrefix + formatters[i]).newInstance();
      }
 catch (      Throwable ex2) {
        formatter[i]=(LayoutFormatter)Class.forName(formatters[i]).newInstance();
      }
    }
 catch (    ClassNotFoundException ex) {
      throw new Exception(Globals.lang("Formatter not found") + ": " + formatters[i]);
    }
catch (    InstantiationException ex) {
      throw new Exception(formatterName + " can not be instantiated.");
    }
catch (    IllegalAccessException ex) {
      throw new Exception(formatterName + " can't be accessed.");
    }
    if (formatter == null) {
      throw new Exception(Globals.lang("Formatter not found") + ": " + formatters[i]);
    }
  }
  return formatter;
}
