{
  String s="The regular expression <b>" + regExp + "</b> is invalid:<p><tt>"+ e.getMessage().replaceAll("\\n","<br>");
  if (!(e instanceof PatternSyntaxException))   return s;
  int lastNewline=s.lastIndexOf("<br>");
  int hat=s.lastIndexOf("^");
  if (lastNewline >= 0 && hat >= 0 && hat > lastNewline)   return s.substring(0,lastNewline + 4) + s.substring(lastNewline + 4).replaceAll(" ","&nbsp;");
  return s;
}
