{
  String s=Globals.lang("The regular expression <b>%0</b> is invalid%c",regExp) + "<p><tt>" + e.getMessage().replaceAll("\\n","<br>")+ "</tt>";
  if (!(e instanceof PatternSyntaxException))   return s;
  int lastNewline=s.lastIndexOf("<br>");
  int hat=s.lastIndexOf("^");
  if (lastNewline >= 0 && hat >= 0 && hat > lastNewline)   return s.substring(0,lastNewline + 4) + s.substring(lastNewline + 4).replaceAll(" ","&nbsp;");
  return s;
}
