{
  StringBuffer value=new StringBuffer();
  consume('{');
  int brackets=0;
  while (!((peek() == '}') && (brackets == 0))) {
    int character=read();
    if (isEOFCharacter(character)) {
      throw new RuntimeException("Error in line " + line + ": EOF in mid-string");
    }
 else     if (character == '{') {
      brackets++;
    }
 else     if (character == '}') {
      brackets--;
    }
    value.append((char)character);
  }
  consume('}');
  return value;
}
