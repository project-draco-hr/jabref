{
  Objects.requireNonNull(in);
  if (Globals.prefs == null) {
    Globals.prefs=JabRefPreferences.getInstance();
  }
  autoDoubleBraces=Globals.prefs.getBoolean(JabRefPreferences.AUTO_DOUBLE_BRACES);
  pushbackReader=new PushbackReader(in,BibtexParser.LOOKAHEAD);
  entryTypeNames=new LinkedList<>();
  entryTypeNames.addAll(BibLatexEntryTypes.ENTRY_TYPE_NAMES);
  entryTypeNames.addAll(BibtexEntryTypes.ENTRY_TYPE_NAMES);
  entryTypeNames.addAll(IEEETranEntryTypes.ENTRY_TYPE_NAMES);
  entryTypeNames.add(CustomEntryType.ENTRYTYPE_FLAG);
  preProcessReader();
}
