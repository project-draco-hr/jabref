{
  BibEntry one=new BibEntry(IdGenerator.next(),BibtexEntryTypes.ARTICLE.getName());
  BibEntry two=new BibEntry(IdGenerator.next(),BibtexEntryTypes.ARTICLE.getName());
  one.setField("author","Billy Bob");
  two.setField("author","Billy Bob");
  assertTrue(DuplicateCheck.isDuplicate(one,two,BibDatabaseMode.BIBTEX));
  two.setField("author","James Joyce");
  assertFalse(DuplicateCheck.isDuplicate(one,two,BibDatabaseMode.BIBTEX));
  two.setField("author","Billy Bob");
  two.setType(BibtexEntryTypes.BOOK);
  assertFalse(DuplicateCheck.isDuplicate(one,two,BibDatabaseMode.BIBTEX));
  two.setType(BibtexEntryTypes.ARTICLE);
  one.setField("year","2005");
  two.setField("year","2005");
  one.setField("title","A title");
  two.setField("title","A title");
  one.setField("journal","A");
  two.setField("journal","A");
  assertTrue(DuplicateCheck.isDuplicate(one,two,BibDatabaseMode.BIBTEX));
  assertEquals(1.01,DuplicateCheck.compareEntriesStrictly(one,two),0.01);
  two.setField("journal","B");
  assertTrue(DuplicateCheck.isDuplicate(one,two,BibDatabaseMode.BIBTEX));
  assertEquals(0.75,DuplicateCheck.compareEntriesStrictly(one,two),0.01);
  two.setField("journal","A");
  one.setField("number","1");
  two.setField("volume","21");
  one.setField("pages","334--337");
  two.setField("pages","334--337");
  assertTrue(DuplicateCheck.isDuplicate(one,two,BibDatabaseMode.BIBTEX));
  two.setField("number","1");
  one.setField("volume","21");
  assertTrue(DuplicateCheck.isDuplicate(one,two,BibDatabaseMode.BIBTEX));
  two.setField("volume","22");
  assertTrue(DuplicateCheck.isDuplicate(one,two,BibDatabaseMode.BIBTEX));
  two.setField("journal","B");
  assertTrue(DuplicateCheck.isDuplicate(one,two,BibDatabaseMode.BIBTEX));
  one.setField("journal","");
  two.setField("journal","");
  assertTrue(DuplicateCheck.isDuplicate(one,two,BibDatabaseMode.BIBTEX));
  two.setField("title","Another title");
  assertFalse(DuplicateCheck.isDuplicate(one,two,BibDatabaseMode.BIBTEX));
}
