{
  try {
    BasePanel panel=frame.getCurrentBasePanel();
    if (panel != null) {
      final BibDatabase database=panel.database();
      BibEntry[] entries=panel.getSelectedEntries();
      ArrayList<BibEntry> el=new ArrayList<>();
      Collections.addAll(el,entries);
      BstWrapper wrapper=new BstWrapper();
      wrapper.loadBstFile(new File("/home/usr/share/texmf-tetex/bibtex/bst/ams/amsalpha.bst"));
      Map<String,String> result=wrapper.processEntries(el,database);
      for (      Entry<String,String> entry : result.entrySet()) {
        LOGGER.debug("Key: " + entry.getKey() + " Entry: "+ entry.getValue());
        ooBase.insertMarkedUpTextAtViewCursor(entry.getValue(),"Default");
      }
    }
  }
 catch (  Exception ex) {
    LOGGER.warn("Could not insert entry",ex);
  }
}
