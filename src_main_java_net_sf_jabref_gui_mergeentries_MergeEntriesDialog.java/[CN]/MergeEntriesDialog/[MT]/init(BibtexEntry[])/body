{
  if (selected.length != 2) {
    JOptionPane.showMessageDialog(frame,Localization.lang("You have to choose exactly two entries to merge."),Localization.lang("Merge entries"),JOptionPane.INFORMATION_MESSAGE);
    this.dispose();
    return;
  }
  one=selected[0];
  two=selected[1];
  mergeEntries=new MergeEntries(one,two);
  ce=new NamedCompound(Localization.lang("Merge entries"));
  FormLayout layout=new FormLayout("fill:700px:grow","p, 4px, p, 5px, p");
  this.setLayout(layout);
  this.add(mergeEntries.getMergeEntryPanel(),cc.xy(1,1));
  this.add(new JSeparator(),cc.xy(1,3));
  ButtonBarBuilder bb=new ButtonBarBuilder();
  bb.addGlue();
  JButton cancel=new JButton(Localization.lang("Cancel"));
  cancel.setActionCommand("cancel");
  cancel.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      buttonPressed(e.getActionCommand());
    }
  }
);
  JButton newentry=new JButton(Localization.lang("Add new entry and keep both old entries"));
  newentry.setActionCommand("newentry");
  newentry.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      buttonPressed(e.getActionCommand());
    }
  }
);
  JButton replaceentries=new JButton(Localization.lang("Replace old entries with new entry"));
  replaceentries.setActionCommand("replace");
  replaceentries.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      buttonPressed(e.getActionCommand());
    }
  }
);
  bb.addButton(new JButton[]{replaceentries,newentry,cancel});
  this.add(bb.getPanel(),cc.xy(1,5));
  layout.appendRow(RowSpec.decode("5px"));
  layout.appendColumn(ColumnSpec.decode("5px"));
  layout.insertRow(1,RowSpec.decode("5px"));
  layout.insertColumn(1,ColumnSpec.decode("5px"));
  pack();
  if (getHeight() > DIM.height) {
    setSize(new Dimension(getWidth(),DIM.height));
  }
  if (getWidth() > DIM.width) {
    setSize(new Dimension(DIM.width,getHeight()));
  }
  setVisible(true);
  pack();
}
