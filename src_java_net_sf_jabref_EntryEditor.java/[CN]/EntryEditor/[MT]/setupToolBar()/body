{
  tlb=new JToolBar(JToolBar.VERTICAL);
  tlb.setMargin(new Insets(0,0,0,2));
  ActionMap am=tlb.getActionMap();
  InputMap im=tlb.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW);
  im.put(prefs.getKey("Close entry editor"),"close");
  am.put("close",closeAction);
  im.put(prefs.getKey("Entry editor, store field"),"store");
  am.put("store",storeFieldAction);
  im.put(prefs.getKey("Autogenerate BibTeX keys"),"generateKey");
  am.put("generateKey",generateKeyAction);
  im.put(prefs.getKey("Automatically link files"),"autoLink");
  am.put("autoLink",autoLink);
  im.put(prefs.getKey("Entry editor, previous entry"),"prev");
  am.put("prev",prevEntryAction);
  im.put(prefs.getKey("Entry editor, next entry"),"next");
  am.put("next",nextEntryAction);
  im.put(prefs.getKey("Undo"),"undo");
  am.put("undo",undoAction);
  im.put(prefs.getKey("Redo"),"redo");
  am.put("redo",redoAction);
  im.put(prefs.getKey("Help"),"help");
  am.put("help",helpAction);
  tlb.setFloatable(false);
  typeLabel=new TypeLabel(entry.getType().getName());
  tlb.add(closeAction);
  tlb.add(typeLabel);
  tlb.addSeparator();
  tlb.add(generateKeyAction);
  tlb.add(autoLink);
  tlb.add(writeXmp);
  tlb.addSeparator();
  tlb.add(deleteAction);
  tlb.add(prevEntryAction);
  tlb.add(nextEntryAction);
  tlb.addSeparator();
  tlb.add(helpAction);
  Component[] comps=tlb.getComponents();
  for (int i=0; i < comps.length; i++)   ((JComponent)comps[i]).setOpaque(false);
  add(tlb,BorderLayout.WEST);
}
