{
  _prefs=prefs;
  _frame=frame;
  setLayout(new BorderLayout());
  autoOpenForm=new JCheckBox(Globals.lang("Open editor when a new entry is created"));
  defSource=new JCheckBox(Globals.lang("Show BibTeX source by default"));
  showSource=new JCheckBox(Globals.lang("Show BibTeX source panel"));
  editSource=new JCheckBox(Globals.lang("Enable source editing"));
  disableOnMultiple=new JCheckBox(Globals.lang("Disable entry editor when multiple entries are selected"));
  autoComplete=new JCheckBox(Globals.lang("Enable word/name autocompletion"));
  autoCompFields=new JTextField(40);
  JPanel general=new JPanel();
  Insets marg=new Insets(0,12,3,0);
  editSource.setMargin(marg);
  defSource.setMargin(marg);
  showSource.addChangeListener(new ChangeListener(){
    public void stateChanged(    ChangeEvent event){
      defSource.setEnabled(showSource.isSelected());
      editSource.setEnabled(showSource.isSelected());
    }
  }
);
  autoComplete.addChangeListener(new ChangeListener(){
    public void stateChanged(    ChangeEvent event){
      autoCompFields.setEnabled(autoComplete.isSelected());
    }
  }
);
  FormLayout layout=new FormLayout("8dlu, left:pref, 8dlu, fill:150dlu, 4dlu, fill:pref","pref, 6dlu, pref, 6dlu, pref, 6dlu, pref, 6dlu, pref, 6dlu, " + "pref, 6dlu, pref, 6dlu, pref, 6dlu, pref");
  DefaultFormBuilder builder=new DefaultFormBuilder(layout);
  CellConstraints cc=new CellConstraints();
  builder.addSeparator(Globals.lang("Editor options"),cc.xyw(1,1,5));
  builder.add(autoOpenForm,cc.xy(2,3));
  builder.add(disableOnMultiple,cc.xy(2,5));
  builder.add(showSource,cc.xy(2,7));
  builder.add(defSource,cc.xy(2,9));
  builder.add(autoComplete,cc.xy(2,11));
  JLabel label=new JLabel(Globals.lang("Use autocompletion for the following fields") + ":");
  DefaultFormBuilder builder3=new DefaultFormBuilder(new FormLayout("left:pref, 4dlu, fill:150dlu",""));
  builder3.append(label);
  builder3.append(autoCompFields);
  builder.add(builder3.getPanel(),cc.xyw(2,13,3));
  JPanel pan=builder.getPanel();
  pan.setBorder(BorderFactory.createEmptyBorder(5,5,5,5));
  add(pan,BorderLayout.CENTER);
}
