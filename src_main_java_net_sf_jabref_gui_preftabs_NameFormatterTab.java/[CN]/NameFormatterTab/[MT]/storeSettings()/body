{
  if (table.isEditing()) {
    int col=table.getEditingColumn();
    int row=table.getEditingRow();
    table.getCellEditor(row,col).stopCellEditing();
  }
  if (tableChanged) {
    int i=0;
    while (i < tableRows.size()) {
      if (tableRows.get(i).getName().isEmpty()) {
        tableRows.remove(i);
      }
 else {
        i++;
      }
    }
    String[] names=new String[tableRows.size()];
    String[] formats=new String[tableRows.size()];
    for (i=0; i < tableRows.size(); i++) {
      TableRow tr=tableRows.get(i);
      names[i]=tr.getName();
      formats[i]=tr.getFormat();
    }
    Globals.prefs.putStringArray(NameFormatterTab.NAME_FORMATER_KEY,names);
    Globals.prefs.putStringArray(NameFormatterTab.NAME_FORMATTER_VALUE,formats);
  }
}
