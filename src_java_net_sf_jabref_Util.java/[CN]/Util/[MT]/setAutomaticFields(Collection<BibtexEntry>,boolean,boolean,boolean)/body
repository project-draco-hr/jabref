{
  String timeStampField=Globals.prefs.get("timeStampField");
  String defaultOwner=Globals.prefs.get("defaultOwner");
  String timestamp=easyDateFormat();
  boolean globalSetOwner=Globals.prefs.getBoolean("useOwner"), globalSetTimeStamp=Globals.prefs.getBoolean("useTimeStamp");
  if (!(globalSetOwner || globalSetTimeStamp || markEntries))   return;
  for (  BibtexEntry curEntry : bibs) {
    boolean setOwner=globalSetOwner && (overwriteOwner || (curEntry.getField(BibtexFields.OWNER) == null));
    boolean setTimeStamp=globalSetTimeStamp && (overwriteTimestamp || (curEntry.getField(timeStampField) == null));
    setAutomaticFields(curEntry,setOwner,defaultOwner,setTimeStamp,timeStampField,timestamp);
    if (markEntries)     Util.markEntry(curEntry,new NamedCompound(""));
  }
}
