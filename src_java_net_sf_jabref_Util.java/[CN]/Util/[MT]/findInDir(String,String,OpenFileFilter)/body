{
  File f=new File(dir);
  File[] all=f.listFiles();
  if (all == null)   return null;
  int numFiles=all.length;
  for (int i=0; i < numFiles; i++) {
    File curFile=all[i];
    if (curFile.isFile()) {
      String name=curFile.getName();
      if (name.startsWith(key + ".") && off.accept(name))       return curFile.getPath();
    }
 else     if (curFile.isDirectory()) {
      String found=findInDir(key,curFile.getPath(),off);
      if (found != null)       return found;
    }
  }
  return null;
}
