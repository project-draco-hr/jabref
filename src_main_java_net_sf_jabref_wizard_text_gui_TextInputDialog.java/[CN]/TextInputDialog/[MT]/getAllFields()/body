{
  ArrayList<String> f=new ArrayList<>();
  EntryType type=EntryTypes.getType(entry.getType());
  List<String> req=type.getRequiredFieldsFlat();
  List<String> opt=type.getOptionalFields();
  List<String> allFields=BibtexFields.getAllFieldNames();
  f.addAll(req);
  f.addAll(opt);
  for (  String allField : allFields) {
    if (!f.contains(allField)) {
      f.add(allField);
    }
  }
  return f.toArray(new String[f.size()]);
}
