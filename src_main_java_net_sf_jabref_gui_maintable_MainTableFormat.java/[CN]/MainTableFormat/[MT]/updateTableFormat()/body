{
  tableColumns.clear();
  tableColumns.add(SpecialMainTableColumns.NUMBER_COL);
  String[] colSettings=Globals.prefs.getStringArray(JabRefPreferences.COLUMN_NAMES);
  for (int i=0; i < colSettings.length; i++) {
    String columnName=colSettings[i];
    String[] fields=colSettings[i].split(MainTableFormat.COL_DEFINITION_FIELD_SEPARATOR);
    tableColumns.add(new MainTableColumn(columnName,fields));
  }
  if (Globals.prefs.getBoolean(SpecialFieldsUtils.PREF_SPECIALFIELDSENABLED)) {
    if (Globals.prefs.getBoolean(SpecialFieldsUtils.PREF_SHOWCOLUMN_RANKING)) {
      tableColumns.add(SpecialMainTableColumns.RANKING_COLUMN);
    }
    if (Globals.prefs.getBoolean(SpecialFieldsUtils.PREF_SHOWCOLUMN_RELEVANCE)) {
      tableColumns.add(SpecialMainTableColumns.RELEVANCE_COLUMN);
    }
    if (Globals.prefs.getBoolean(SpecialFieldsUtils.PREF_SHOWCOLUMN_QUALITY)) {
      tableColumns.add(SpecialMainTableColumns.QUALITY_COLUMN);
    }
    if (Globals.prefs.getBoolean(SpecialFieldsUtils.PREF_SHOWCOLUMN_PRIORITY)) {
      tableColumns.add(SpecialMainTableColumns.PRIORITY_COLUMN);
    }
    if (Globals.prefs.getBoolean(SpecialFieldsUtils.PREF_SHOWCOLUMN_PRINTED)) {
      tableColumns.add(SpecialMainTableColumns.PRINTED_COLUMN);
    }
    if (Globals.prefs.getBoolean(SpecialFieldsUtils.PREF_SHOWCOLUMN_READ)) {
      tableColumns.add(SpecialMainTableColumns.READ_STATUS_COLUMN);
    }
  }
  if (Globals.prefs.getBoolean(JabRefPreferences.FILE_COLUMN)) {
    tableColumns.add(SpecialMainTableColumns.FILE_COLUMN);
  }
  if (Globals.prefs.getBoolean(JabRefPreferences.PDF_COLUMN)) {
    tableColumns.add(SpecialMainTableColumns.createIconColumn(JabRefPreferences.PDF_COLUMN,MainTableFormat.PDF));
  }
  if (Globals.prefs.getBoolean(JabRefPreferences.URL_COLUMN)) {
    if (Globals.prefs.getBoolean(JabRefPreferences.PREFER_URL_DOI)) {
      tableColumns.add(SpecialMainTableColumns.createIconColumn(JabRefPreferences.URL_COLUMN,MainTableFormat.DOI_FIRST));
    }
 else {
      tableColumns.add(SpecialMainTableColumns.createIconColumn(JabRefPreferences.URL_COLUMN,MainTableFormat.URL_FIRST));
    }
  }
  if (Globals.prefs.getBoolean(JabRefPreferences.ARXIV_COLUMN)) {
    tableColumns.add(SpecialMainTableColumns.createIconColumn(JabRefPreferences.ARXIV_COLUMN,MainTableFormat.ARXIV));
  }
  if (Globals.prefs.getBoolean(JabRefPreferences.EXTRA_FILE_COLUMNS)) {
    String[] desiredColumns=Globals.prefs.getStringArray(JabRefPreferences.LIST_OF_FILE_COLUMNS);
    for (    String desiredColumn : desiredColumns) {
      tableColumns.add(SpecialMainTableColumns.createFileIconColumn(desiredColumn));
    }
  }
  namesNatbib=Globals.prefs.getBoolean(JabRefPreferences.NAMES_NATBIB);
  namesLastOnly=Globals.prefs.getBoolean(JabRefPreferences.NAMES_LAST_ONLY);
  namesAsIs=Globals.prefs.getBoolean(JabRefPreferences.NAMES_AS_IS);
  abbr_names=Globals.prefs.getBoolean(JabRefPreferences.ABBR_AUTHOR_NAMES);
  namesFf=Globals.prefs.getBoolean(JabRefPreferences.NAMES_FIRST_LAST);
  namesLf=!(namesAsIs || namesFf || namesNatbib|| namesLastOnly);
}
