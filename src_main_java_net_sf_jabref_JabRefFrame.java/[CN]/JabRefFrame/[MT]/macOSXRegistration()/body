{
  if (Globals.osName.equals(Globals.MAC)) {
    try {
      Class<?> osxAdapter=Class.forName("osxadapter.OSXAdapter");
      Class<?>[] defArgs={Object.class,Method.class};
      Class<?> thisClass=JabRefFrame.class;
      Method registerMethod=osxAdapter.getDeclaredMethod("setAboutHandler",defArgs);
      if (registerMethod != null) {
        Object[] args={this,thisClass.getDeclaredMethod("about",(Class[])null)};
        registerMethod.invoke(osxAdapter,args);
      }
      registerMethod=osxAdapter.getDeclaredMethod("setPreferencesHandler",defArgs);
      if (registerMethod != null) {
        Object[] args={this,thisClass.getDeclaredMethod("preferences",(Class[])null)};
        registerMethod.invoke(osxAdapter,args);
      }
      registerMethod=osxAdapter.getDeclaredMethod("setQuitHandler",defArgs);
      if (registerMethod != null) {
        Object[] args={this,thisClass.getDeclaredMethod("quit",(Class[])null)};
        registerMethod.invoke(osxAdapter,args);
      }
      registerMethod=osxAdapter.getDeclaredMethod("setFileHandler",defArgs);
      if (registerMethod != null) {
        Object[] args={this,thisClass.getDeclaredMethod("openAction",String.class)};
        registerMethod.invoke(osxAdapter,args);
      }
    }
 catch (    NoClassDefFoundError e) {
      System.err.println("This version of Mac OS X does not support the Apple EAWT.  Application Menu handling has been disabled (" + e + ")");
    }
catch (    ClassNotFoundException e) {
      System.err.println("This version of Mac OS X does not support the Apple EAWT.  Application Menu handling has been disabled (" + e + ")");
    }
catch (    Exception e) {
      System.err.println("Exception while loading the OSXAdapter:");
      e.printStackTrace();
    }
  }
}
