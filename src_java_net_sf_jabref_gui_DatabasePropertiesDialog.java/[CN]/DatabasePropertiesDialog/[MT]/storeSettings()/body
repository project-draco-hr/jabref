{
  String oldEncoding=panel.getEncoding();
  String newEncoding=(String)encoding.getSelectedItem();
  panel.setEncoding(newEncoding);
  Vector<String> dir=new Vector<String>(1);
  String text=fileDir.getText().trim();
  if (text.length() > 0) {
    dir.add(text);
    metaData.putData(GUIGlobals.FILE_FIELD + "Directory",dir);
  }
 else   metaData.remove(GUIGlobals.FILE_FIELD + "Directory");
  dir=new Vector<String>(1);
  text=pdfDir.getText().trim();
  if (text.length() > 0) {
    dir.add(text);
    metaData.putData("pdfDirectory",dir);
  }
 else   metaData.remove("pdfDirectory");
  dir=new Vector<String>(1);
  text=psDir.getText().trim();
  if (text.length() > 0) {
    dir.add(text);
    metaData.putData("psDirectory",dir);
  }
 else   metaData.remove("psDirectory");
  boolean changed=!newEncoding.equals(oldEncoding) || !oldPdfVal.equals(pdfDir.getText()) || !oldPsVal.equals(psDir.getText());
  if (changed)   panel.markNonUndoableBaseChanged();
}
