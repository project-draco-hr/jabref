{
  EnumSet<CleanupStep> activeJobs=EnumSet.noneOf(CleanupStep.class);
  if (preferences.getBoolean(JabRefPreferences.CLEANUP_SUPERSCRIPTS)) {
    activeJobs.add(CleanupStep.CLEAN_UP_SUPERSCRIPTS);
  }
  if (preferences.getBoolean(JabRefPreferences.CLEANUP_DOI)) {
    activeJobs.add(CleanupStep.CLEAN_UP_DOI);
  }
  if (preferences.getBoolean(JabRefPreferences.CLEANUP_MONTH)) {
    activeJobs.add(CleanupStep.CLEAN_UP_MONTH);
  }
  if (preferences.getBoolean(JabRefPreferences.CLEANUP_PAGE_NUMBERS)) {
    activeJobs.add(CleanupStep.CLEAN_UP_PAGE_NUMBERS);
  }
  if (preferences.getBoolean(JabRefPreferences.CLEANUP_DATE)) {
    activeJobs.add(CleanupStep.CLEAN_UP_DATE);
  }
  if (preferences.getBoolean(JabRefPreferences.CLEANUP_MAKE_PATHS_RELATIVE)) {
    activeJobs.add(CleanupStep.MAKE_PATHS_RELATIVE);
  }
  if (preferences.getBoolean(JabRefPreferences.CLEANUP_RENAME_PDF)) {
    activeJobs.add(CleanupStep.RENAME_PDF);
  }
  if (preferences.getBoolean(JabRefPreferences.CLEANUP_RENAME_PDF_ONLY_RELATIVE_PATHS)) {
    activeJobs.add(CleanupStep.RENAME_PDF_ONLY_RELATIVE_PATHS);
  }
  if (preferences.getBoolean(JabRefPreferences.CLEANUP_UPGRADE_EXTERNAL_LINKS)) {
    activeJobs.add(CleanupStep.CLEAN_UP_UPGRADE_EXTERNAL_LINKS);
  }
  if (preferences.getBoolean(JabRefPreferences.CLEANUP_HTML)) {
    activeJobs.add(CleanupStep.CONVERT_HTML_TO_LATEX);
  }
  if (preferences.getBoolean(JabRefPreferences.CLEANUP_CASE)) {
    activeJobs.add(CleanupStep.CONVERT_CASE);
  }
  if (preferences.getBoolean(JabRefPreferences.CLEANUP_LATEX)) {
    activeJobs.add(CleanupStep.CONVERT_LATEX);
  }
  if (preferences.getBoolean(JabRefPreferences.CLEANUP_UNITS)) {
    activeJobs.add(CleanupStep.CONVERT_UNITS);
  }
  if (preferences.getBoolean(JabRefPreferences.CLEANUP_UNICODE)) {
    activeJobs.add(CleanupStep.CONVERT_UNICODE_TO_LATEX);
  }
  if (preferences.getBoolean(JabRefPreferences.CLEANUP_CONVERT_TO_BIBLATEX)) {
    activeJobs.add(CleanupStep.CONVERT_TO_BIBLATEX);
  }
  if (preferences.getBoolean(JabRefPreferences.CLEANUP_FIX_FILE_LINKS)) {
    activeJobs.add(CleanupStep.FIX_FILE_LINKS);
  }
  return new CleanupPreset(activeJobs);
}
