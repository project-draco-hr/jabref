{
  if (out instanceof Connection) {
    try (Statement response=(Statement)SQLUtil.processQueryWithResults(out,"SELECT database_id FROM jabref_database WHERE database_name='" + dbName + "';");ResultSet rs=response.getResultSet()){
      if (rs.next()) {
        return rs.getInt("database_id");
      }
 else {
        insertJabRefDatabase(databaseContext,out,dbName);
        return getDatabaseIDByName(databaseContext,out,dbName);
      }
    }
   }
 else {
    insertJabRefDatabase(databaseContext,out,dbName);
    return 1;
  }
}
