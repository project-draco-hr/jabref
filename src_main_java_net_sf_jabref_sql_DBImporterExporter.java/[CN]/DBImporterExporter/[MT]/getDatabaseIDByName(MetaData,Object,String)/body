{
  if (out instanceof Connection) {
    Object response=SQLUtil.processQueryWithResults(out,"SELECT database_id FROM jabref_database WHERE database_name='" + dbName + "';");
    ResultSet rs=((Statement)response).getResultSet();
    if (rs.next())     return rs.getInt("database_id");
 else {
      insertJabRefDatabase(metaData,out,dbName);
      return getDatabaseIDByName(metaData,out,dbName);
    }
  }
 else {
    insertJabRefDatabase(metaData,out,dbName);
    return 1;
  }
}
