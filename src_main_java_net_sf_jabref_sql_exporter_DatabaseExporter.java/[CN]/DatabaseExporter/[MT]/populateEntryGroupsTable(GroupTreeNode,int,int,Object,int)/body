{
  if (cursor == null) {
    return -1;
  }
  if (cursor.getGroup() instanceof ExplicitGroup) {
    ExplicitGroup grp=(ExplicitGroup)cursor.getGroup();
    for (    BibEntry be : grp.getEntries()) {
      SQLUtil.processQuery(out,"INSERT INTO entry_group (entries_id, groups_id) " + "VALUES (" + "(SELECT entries_id FROM entries WHERE jabref_eid=" + '\'' + be.getId()+ "' AND database_id = "+ database_id+ "), "+ "(SELECT groups_id FROM groups WHERE database_id="+ '\''+ database_id+ "' AND parent_id="+ '\''+ parentID+ "' AND label="+ '\''+ grp.getName()+ "')"+ ");");
    }
  }
  if (out instanceof Connection) {
    String query="SELECT groups_id FROM groups WHERE label='" + cursor.getGroup().getName() + "' AND database_id='"+ database_id+ "' AND parent_id='"+ parentID+ "';";
    try (Statement statement=((Connection)out).createStatement();ResultSet resultSet=statement.executeQuery(query)){
      ++currentID;
      int myID=currentID;
      resultSet.next();
      myID=resultSet.getInt("groups_id");
      for (Enumeration<GroupTreeNode> e=cursor.children(); e.hasMoreElements(); ) {
        currentID=populateEntryGroupsTable(e.nextElement(),myID,currentID,out,database_id);
      }
    }
 catch (    Exception e) {
      LOGGER.warn("Cannot close resource",e);
    }
  }
  return currentID;
}
