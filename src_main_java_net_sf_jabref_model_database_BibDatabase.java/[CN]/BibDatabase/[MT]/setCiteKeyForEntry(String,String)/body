{
  if (!entries.containsKey(id)) {
    return false;
  }
  BibEntry entry=getEntryById(id);
  String oldKey=entry.getCiteKey();
  if (key != null) {
    entry.setField(BibEntry.KEY_FIELD,key);
  }
 else {
    entry.clearField(BibEntry.KEY_FIELD);
  }
  return checkForDuplicateKeyAndAdd(oldKey,entry.getCiteKey());
}
