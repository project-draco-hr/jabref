{
  if ("bibtextype".equals(field)) {
    return EntryUtil.capitalizeFirst(entry.getType());
  }
  Object o=entry.getFieldOrAlias(field);
  if ((o == null) && (database != null) && database.followCrossrefs&& !field.equals(BibEntry.KEY_FIELD)) {
    Optional<String> crossrefKey=entry.getFieldOptional("crossref");
    if (crossrefKey.isPresent()) {
      BibEntry referred=database.getEntryByKey(crossrefKey.get());
      if (referred != null) {
        Optional<String> crossrefContent=referred.getFieldOptional(field);
        if (crossrefContent.isPresent()) {
          o=crossrefContent.get();
        }
      }
    }
  }
  return BibDatabase.getText((String)o,database);
}
