{
  ExternalFileType type=Globals.prefs.getExternalFileTypeByName(getElementIfAvailable(contents,2));
  if (deduceUnknownType && (type instanceof UnknownExternalFileType)) {
    type=Globals.prefs.getExternalFileTypeByMimeType(getElementIfAvailable(contents,2));
    if (type == null) {
      ExternalFileType typeGuess=null;
      String link=getElementIfAvailable(contents,1);
      Optional<String> extension=FileUtil.getFileExtension(link);
      if (extension.isPresent()) {
        typeGuess=Globals.prefs.getExternalFileTypeByExt(extension.get());
      }
      if (typeGuess != null) {
        type=typeGuess;
      }
    }
  }
  return new FileListEntry(getElementIfAvailable(contents,0),getElementIfAvailable(contents,1),type);
}
