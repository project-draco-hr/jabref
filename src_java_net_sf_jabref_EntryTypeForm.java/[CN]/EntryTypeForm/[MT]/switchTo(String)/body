{
  if (id != null) {
    if (true) {
      BibtexEntry be=panel.database.getEntryById(id);
      if (entry.getType() == be.getType()) {
        entry=be;
        updateAllFields();
        updateSource();
      }
 else {
        EntryTypeForm form=new EntryTypeForm(frame,panel,be,prefs);
        form.setLocation(ths.getLocation());
        form.setVisible(true);
        dispose();
      }
    }
 else {
      dispose();
    }
  }
}
