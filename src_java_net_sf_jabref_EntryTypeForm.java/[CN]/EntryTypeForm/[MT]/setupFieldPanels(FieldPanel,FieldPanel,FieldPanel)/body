{
  String[] reqFields=entry.getRequiredFields(), optFields=entry.getOptionalFields(), genFields=entry.getGeneralFields();
  int iter, rmax, omax, gmax;
  gmax=genFields.length;
  if (reqFields == null) {
    iter=optFields.length;
    rmax=0;
    omax=optFields.length;
  }
 else   if (optFields == null) {
    iter=reqFields.length;
    rmax=reqFields.length;
    omax=0;
  }
 else {
    iter=Math.max(reqFields.length,optFields.length);
    rmax=reqFields.length;
    omax=optFields.length;
  }
  FieldTextArea ta1=null, ta2=null, ta3=null, firstR=null, firstO=null;
  String stringContent;
  Object content;
  req.setLayout(gbl);
  opt.setLayout(gbl);
  gen.setLayout(gbl);
  con.insets=new Insets(10,5,0,5);
  con.anchor=GridBagConstraints.WEST;
  for (int i=0; i < iter; i++) {
    con.gridwidth=1;
    con.weightx=0;
    con.weighty=0;
    con.fill=GridBagConstraints.NONE;
    if (i < rmax) {
      if ((content=entry.getField(reqFields[i])) != null) {
        stringContent=content.toString();
      }
 else       stringContent=null;
      ta1=new FieldTextArea(reqFields[i],stringContent);
      setupJTextComponent(ta1);
      if (i == 0) {
        firstR=ta1;
        req.setActive(ta1);
      }
    }
    if (i < omax) {
      if ((content=entry.getField(optFields[i])) != null) {
        stringContent=content.toString();
      }
 else       stringContent=null;
      ta2=new FieldTextArea(optFields[i],stringContent);
      setupJTextComponent(ta2);
      if (i == 0) {
        firstO=ta2;
        opt.setActive(ta2);
      }
    }
    if (i < gmax) {
      if ((content=entry.getField(genFields[i])) != null) {
        stringContent=content.toString();
      }
 else       stringContent=null;
      ta3=new FieldTextArea(genFields[i],stringContent);
      setupJTextComponent(ta3);
      if (genFields[i].equals("pdf") || genFields[i].equals("url"))       ta3.addMouseListener(new ExternalViewerListener());
      if (i == 0) {
        firstO=ta3;
        gen.setActive(ta3);
      }
    }
    if (i < rmax) {
      gbl.setConstraints(ta1.getLabel(),con);
      req.add(ta1.getLabel());
    }
    if (i < omax) {
      gbl.setConstraints(ta2.getLabel(),con);
      opt.add(ta2.getLabel());
    }
    if (i < gmax) {
      gbl.setConstraints(ta3.getLabel(),con);
      gen.add(ta3.getLabel());
    }
    con.gridwidth=GridBagConstraints.REMAINDER;
    con.weightx=1;
    con.fill=GridBagConstraints.BOTH;
    if (i < rmax) {
      con.weighty=GUIGlobals.getFieldWeight(reqFields[i]);
      reqW+=con.weighty;
      gbl.setConstraints(ta1.getPane(),con);
      req.add(ta1.getPane());
    }
    if (i < omax) {
      con.weighty=GUIGlobals.getFieldWeight(optFields[i]);
      optW+=con.weighty;
      gbl.setConstraints(ta2.getPane(),con);
      opt.add(ta2.getPane());
    }
    if (i < gmax) {
      con.weighty=GUIGlobals.getFieldWeight(genFields[i]);
      genW+=con.weighty;
      gbl.setConstraints(ta3.getPane(),con);
      gen.add(ta3.getPane());
    }
  }
  con.insets.top+=25;
  con.insets.bottom=10;
  con.gridwidth=1;
  con.weighty=0;
  con.weightx=0;
  con.anchor=GridBagConstraints.SOUTHWEST;
  con.fill=GridBagConstraints.NONE;
  FieldTextField tf=new FieldTextField(KEY_PROPERTY,(String)entry.getField(KEY_PROPERTY));
  gbl.setConstraints(tf.getLabel(),con);
  req.add(tf.getLabel());
  con.gridwidth=GridBagConstraints.REMAINDER;
  con.weightx=1;
  con.fill=GridBagConstraints.HORIZONTAL;
  setupJTextComponent(tf);
  gbl.setConstraints(tf,con);
  req.add(tf);
}
