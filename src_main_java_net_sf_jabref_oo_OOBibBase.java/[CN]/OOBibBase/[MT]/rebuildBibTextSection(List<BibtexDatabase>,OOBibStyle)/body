{
  List<String> cited=findCitedKeys();
  HashMap<String,BibtexDatabase> linkSourceBase=new HashMap<String,BibtexDatabase>();
  Map<BibtexEntry,BibtexDatabase> entries=findCitedEntries(databases,cited,linkSourceBase);
  String[] names=sortedReferenceMarks;
  if (style.isSortByPosition()) {
    entries=getSortedEntriesFromSortedRefMarks(names,entries,linkSourceBase);
  }
 else {
    SortedMap<BibtexEntry,BibtexDatabase> newMap=new TreeMap<BibtexEntry,BibtexDatabase>(entryComparator);
    for (    Map.Entry<BibtexEntry,BibtexDatabase> bibtexEntryBibtexDatabaseEntry : entries.entrySet()) {
      newMap.put(bibtexEntryBibtexDatabaseEntry.getKey(),bibtexEntryBibtexDatabaseEntry.getValue());
    }
    entries=newMap;
  }
  clearBibTextSectionContent2();
  populateBibTextSection(entries,style);
}
