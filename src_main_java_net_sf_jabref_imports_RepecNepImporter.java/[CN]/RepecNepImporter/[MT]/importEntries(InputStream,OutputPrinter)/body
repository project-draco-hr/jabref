{
  ArrayList<BibtexEntry> bibitems=new ArrayList<BibtexEntry>();
  String paperNoStr=null;
  this.line=0;
  try {
    this.in=new BufferedReader(ImportFormatReader.getReaderDefaultEncoding(stream));
    readLine();
    while (this.lastLine != null) {
      if (this.lastLine.startsWith("-----------------------------")) {
        this.inOverviewSection=this.preLine.startsWith("In this issue we have");
      }
      if (isStartOfWorkingPaper()) {
        BibtexEntry be=new BibtexEntry(IdGenerator.next());
        be.setType(BibtexEntryType.getType("techreport"));
        paperNoStr=this.lastLine.substring(0,this.lastLine.indexOf('.'));
        parseTitleString(be);
        if (startsWithKeyword(RepecNepImporter.recognizedFields)) {
          parseAdditionalFields(be,false);
        }
 else {
          readLine();
          parseAuthors(be);
          readLine();
        }
        if (!startsWithKeyword(RepecNepImporter.recognizedFields)) {
          parseAbstract(be);
        }
        parseAdditionalFields(be,true);
        bibitems.add(be);
        paperNoStr=null;
      }
 else {
        this.preLine=this.lastLine;
        readLine();
      }
    }
  }
 catch (  Exception e) {
    String message="Error in REPEC-NEP import on line " + this.line;
    if (paperNoStr != null) {
      message+=", paper no. " + paperNoStr + ": ";
    }
    message+=e.getMessage();
    RepecNepImporter.logger.log(Level.SEVERE,message,e);
    if (!(e instanceof IOException)) {
      e.printStackTrace();
      e=new IOException(message);
    }
    throw (IOException)e;
  }
  return bibitems;
}
