{
  super(baseFrame);
  this.baseFrame=baseFrame;
  this.panel=panel;
  this.base=base;
  this.prefs=prefs;
  addWindowListener(new WindowAdapter(){
    public void windowClosing(    WindowEvent e){
      closeAction.actionPerformed(null);
    }
    public void windowOpened(    WindowEvent e){
      ed.requestFocus();
    }
  }
);
  setFocusTraversalPolicy(new LayoutFocusTraversalPolicy(){
    protected boolean accept(    Component c){
      return (super.accept(c) && (c instanceof FieldEditor));
    }
  }
);
  int prefHeight=(int)(GUIGlobals.PE_HEIGHT * GUIGlobals.FORM_HEIGHT[prefs.getInt("entryTypeFormHeightFactor")]);
  setSize(GUIGlobals.FORM_WIDTH[prefs.getInt("entryTypeFormWidth")],prefHeight);
  pan.setLayout(gbl);
  con.fill=GridBagConstraints.BOTH;
  con.weighty=1;
  con.insets=new Insets(10,5,10,5);
  String content=base.getPreamble();
  ed=new FieldTextArea("Preamble",((content != null) ? content : ""));
  setupJTextComponent((FieldTextArea)ed);
  gbl.setConstraints(ed.getLabel(),con);
  pan.add(ed.getLabel());
  con.weightx=1;
  gbl.setConstraints(ed.getPane(),con);
  pan.add(ed.getPane());
  conPane.add(pan,BorderLayout.CENTER);
  setTitle(Globals.lang("Edit preamble"));
}
