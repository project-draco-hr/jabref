{
{
    List<String> dirsToSearch=Arrays.asList(root.getAbsolutePath(),root.getAbsolutePath() + "/pdfs/");
    String pdf=FileFinder.findPdf(entry,"pdf",dirsToSearch);
    AssertUtil.assertEqualPaths("HipKro03 - Hello.pdf",pdf);
    Optional<File> fullPath=FileUtil.expandFilename(pdf,dirsToSearch);
    Assert.assertTrue(fullPath.isPresent());
    Assert.assertTrue(fullPath.get().exists());
    AssertUtil.assertEqualPaths(root.getAbsolutePath() + "/HipKro03 - Hello.pdf",fullPath.get().getAbsolutePath());
    String tmp=dirsToSearch.get(1);
    dirsToSearch.set(1,dirsToSearch.get(0));
    dirsToSearch.set(0,tmp);
    fullPath=FileUtil.expandFilename(pdf,dirsToSearch);
    Assert.assertTrue(fullPath.isPresent());
    Assert.assertTrue(fullPath.get().exists());
    AssertUtil.assertEqualPaths(root.getAbsolutePath() + "/HipKro03 - Hello.pdf",fullPath.get().getAbsolutePath());
    fullPath=FileUtil.expandFilename(pdf,Collections.singletonList(dirsToSearch.get(0)));
    Assert.assertFalse(fullPath.isPresent());
    fullPath=FileUtil.expandFilename(pdf,Collections.singletonList(dirsToSearch.get(1)));
    Assert.assertTrue(fullPath.isPresent());
    Assert.assertTrue(fullPath.get().exists());
    AssertUtil.assertEqualPaths(root.getAbsolutePath() + "/HipKro03 - Hello.pdf",fullPath.get().getAbsolutePath());
  }
  List<String> dirsToSearch=Arrays.asList(root.getAbsolutePath() + "/pdfs/",root.getAbsolutePath());
  String pdf=FileFinder.findPdf(entry,"pdf",dirsToSearch);
  AssertUtil.assertEqualPaths("sub/HipKro03-sub.pdf",pdf);
  Optional<File> fullPath=FileUtil.expandFilename(pdf,dirsToSearch);
  Assert.assertTrue(fullPath.isPresent());
  Assert.assertTrue(fullPath.get().exists());
  AssertUtil.assertEqualPaths(root.getAbsolutePath() + "/pdfs/sub/HipKro03-sub.pdf",fullPath.get().getAbsolutePath());
  String tmp=dirsToSearch.get(1);
  dirsToSearch.set(1,dirsToSearch.get(0));
  dirsToSearch.set(0,tmp);
  fullPath=FileUtil.expandFilename(pdf,dirsToSearch);
  Assert.assertTrue(fullPath.isPresent());
  Assert.assertTrue(fullPath.get().exists());
  AssertUtil.assertEqualPaths(root.getAbsolutePath() + "/pdfs/sub/HipKro03-sub.pdf",fullPath.get().getAbsolutePath());
  fullPath=FileUtil.expandFilename(pdf,Collections.singletonList(dirsToSearch.get(0)));
  Assert.assertFalse(fullPath.isPresent());
  fullPath=FileUtil.expandFilename(pdf,Collections.singletonList(dirsToSearch.get(1)));
  Assert.assertTrue(fullPath.isPresent());
  Assert.assertTrue(fullPath.get().exists());
  AssertUtil.assertEqualPaths(root.getAbsolutePath() + "/pdfs/sub/HipKro03-sub.pdf",fullPath.get().getAbsolutePath());
}
