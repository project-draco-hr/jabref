{
  BasePanel panel=frame.basePanel();
  NamedCompound ce=new NamedCompound(Globals.lang("Mark entries"));
  BibtexEntry[] bes=panel.getSelectedEntries();
  besLength=bes.length;
  if (rankingLevel == 0) {
    for (int i=0; i < bes.length; i++) {
      Util.resetRanking(bes[i],false,this.frame.basePanel().database(),ce);
    }
    ce.end();
    panel.undoManager.addEdit(ce);
  }
 else {
    for (int i=0; i < bes.length; i++) {
      Util.setRanking(bes[i],false,this.frame.basePanel().database(),ce,rankingLevel);
    }
    ce.end();
    panel.undoManager.addEdit(ce);
  }
}
