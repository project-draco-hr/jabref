{
  JPanel leftPan=new JPanel();
  leftPan.setLayout(new BorderLayout());
  JToolBar toolBar=new OSXCompatibleToolbar(SwingConstants.VERTICAL);
  toolBar.setBorder(null);
  toolBar.setRollover(true);
  toolBar.setMargin(new Insets(0,0,0,2));
  ActionMap actionMap=toolBar.getActionMap();
  InputMap inputMap=toolBar.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW);
  inputMap.put(Globals.getKeyPrefs().getKey(KeyBinding.CLOSE_ENTRY_EDITOR),"close");
  actionMap.put("close",closeAction);
  inputMap.put(Globals.getKeyPrefs().getKey(KeyBinding.ENTRY_EDITOR_STORE_FIELD),"store");
  actionMap.put("store",getStoreFieldAction());
  inputMap.put(Globals.getKeyPrefs().getKey(KeyBinding.AUTOGENERATE_BIBTEX_KEYS),"generateKey");
  actionMap.put("generateKey",getGenerateKeyAction());
  inputMap.put(Globals.getKeyPrefs().getKey(KeyBinding.AUTOMATICALLY_LINK_FILES),"autoLink");
  actionMap.put("autoLink",autoLinkAction);
  inputMap.put(Globals.getKeyPrefs().getKey(KeyBinding.ENTRY_EDITOR_PREVIOUS_ENTRY),"prev");
  actionMap.put("prev",getPrevEntryAction());
  inputMap.put(Globals.getKeyPrefs().getKey(KeyBinding.ENTRY_EDITOR_NEXT_ENTRY),"next");
  actionMap.put("next",getNextEntryAction());
  inputMap.put(Globals.getKeyPrefs().getKey(KeyBinding.UNDO),"undo");
  actionMap.put("undo",undoAction);
  inputMap.put(Globals.getKeyPrefs().getKey(KeyBinding.REDO),"redo");
  actionMap.put("redo",redoAction);
  inputMap.put(Globals.getKeyPrefs().getKey(KeyBinding.HELP),"help");
  actionMap.put("help",getHelpAction());
  toolBar.setFloatable(false);
  JButton closeBut=new JButton(closeAction);
  closeBut.setText(null);
  closeBut.setBorder(null);
  closeBut.setMargin(new Insets(8,0,8,0));
  leftPan.add(closeBut,BorderLayout.NORTH);
  TypedBibEntry typedEntry=new TypedBibEntry(entry,Optional.empty(),panel.getBibDatabaseContext().getMode());
  leftPan.add(new TypeLabel(typedEntry.getTypeForDisplay()),BorderLayout.CENTER);
  TypeButton typeButton=new TypeButton();
  toolBar.add(typeButton);
  toolBar.add(getGenerateKeyAction());
  toolBar.add(autoLinkAction);
  toolBar.add(writeXmp);
  toolBar.addSeparator();
  toolBar.add(deleteAction);
  toolBar.add(getPrevEntryAction());
  toolBar.add(getNextEntryAction());
  toolBar.addSeparator();
  toolBar.add(getHelpAction());
  Component[] comps=toolBar.getComponents();
  for (  Component comp : comps) {
    ((JComponent)comp).setOpaque(false);
  }
  leftPan.add(toolBar,BorderLayout.SOUTH);
  add(leftPan,BorderLayout.WEST);
}
