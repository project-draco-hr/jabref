{
  if (prefs.get("savedSession") == null) {
    output(Localization.lang("No saved session found."));
    return;
  }
  if (running) {
    return;
  }
 else {
    running=true;
  }
  output(Localization.lang("Loading session..."));
  JabRefExecutorService.INSTANCE.execute(new Runnable(){
    @Override public void run(){
      HashSet<String> currentFiles=new HashSet<>();
      if (tabbedPane.getTabCount() > 0) {
        for (int i=0; i < tabbedPane.getTabCount(); i++) {
          if (getBasePanelAt(i).getDatabaseFile() != null) {
            currentFiles.add(getBasePanelAt(i).getDatabaseFile().getPath());
          }
        }
      }
      int i0=tabbedPane.getTabCount();
      String[] names=prefs.getStringArray("savedSession");
      for (int i=0; i < names.length; i++) {
        if (!currentFiles.contains(names[i])) {
          File file=new File(names[i]);
          if (file.exists()) {
            LOGGER.debug("Opening last edited file:" + file.getName());
            open.openIt(file,i == 0);
          }
        }
      }
      output(Localization.lang("Files opened") + ": " + (tabbedPane.getTabCount() - i0));
      running=false;
    }
  }
);
}
