{
  mb.setBorder(null);
  JMenu file=JabRefFrame.subMenu(Localization.menuTitle("File"));
  JMenu edit=JabRefFrame.subMenu(Localization.menuTitle("Edit"));
  JMenu search=JabRefFrame.subMenu(Localization.menuTitle("Search"));
  JMenu groups=JabRefFrame.subMenu(Localization.menuTitle("Groups"));
  JMenu bibtex=JabRefFrame.subMenu(Localization.menuTitle("BibTeX"));
  JMenu quality=JabRefFrame.subMenu(Localization.menuTitle("Quality"));
  JMenu view=JabRefFrame.subMenu(Localization.menuTitle("View"));
  JMenu tools=JabRefFrame.subMenu(Localization.menuTitle("Tools"));
  JMenu options=JabRefFrame.subMenu(Localization.menuTitle("Options"));
  JMenu newSpec=JabRefFrame.subMenu(Localization.menuTitle("New entry..."));
  JMenu helpMenu=JabRefFrame.subMenu(Localization.menuTitle("Help"));
  file.add(newBibtexDatabaseAction);
  file.add(newBiblatexDatabaseAction);
  file.add(getOpenDatabaseAction());
  file.add(mergeDatabaseAction);
  file.add(save);
  file.add(saveAs);
  file.add(saveAll);
  file.add(saveSelectedAs);
  file.add(saveSelectedAsPlain);
  file.addSeparator();
  file.add(importNew);
  file.add(importCurrent);
  file.add(exportAll);
  file.add(exportSelected);
  file.addSeparator();
  file.add(dbConnect);
  file.add(dbImport);
  file.add(dbExport);
  file.addSeparator();
  file.add(databaseProperties);
  file.add(editModeAction);
  file.addSeparator();
  file.add(fileHistory);
  file.addSeparator();
  file.add(closeDatabaseAction);
  file.add(quit);
  mb.add(file);
  edit.add(undo);
  edit.add(redo);
  edit.addSeparator();
  edit.add(cut);
  edit.add(copy);
  edit.add(paste);
  edit.addSeparator();
  edit.add(copyKey);
  edit.add(copyCiteKey);
  edit.add(copyKeyAndTitle);
  edit.add(exportToClipboard);
  edit.add(sendAsEmail);
  edit.addSeparator();
  edit.add(mark);
  JMenu markSpecific=JabRefFrame.subMenu(Localization.menuTitle("Mark specific color"));
  for (int i=0; i < EntryMarker.MAX_MARKING_LEVEL; i++) {
    markSpecific.add(new MarkEntriesAction(this,i).getMenuItem());
  }
  edit.add(markSpecific);
  edit.add(unmark);
  edit.add(unmarkAll);
  edit.addSeparator();
  if (Globals.prefs.getBoolean(SpecialFieldsUtils.PREF_SPECIALFIELDSENABLED)) {
    JMenu m;
    if (Globals.prefs.getBoolean(SpecialFieldsUtils.PREF_SHOWCOLUMN_RANKING)) {
      m=new JMenu();
      RightClickMenu.populateSpecialFieldMenu(m,Rank.getInstance(),this);
      edit.add(m);
    }
    if (Globals.prefs.getBoolean(SpecialFieldsUtils.PREF_SHOWCOLUMN_RELEVANCE)) {
      edit.add(toggleRelevance);
    }
    if (Globals.prefs.getBoolean(SpecialFieldsUtils.PREF_SHOWCOLUMN_QUALITY)) {
      edit.add(toggleQualityAssured);
    }
    if (Globals.prefs.getBoolean(SpecialFieldsUtils.PREF_SHOWCOLUMN_PRIORITY)) {
      m=new JMenu();
      RightClickMenu.populateSpecialFieldMenu(m,Priority.getInstance(),this);
      edit.add(m);
    }
    if (Globals.prefs.getBoolean(SpecialFieldsUtils.PREF_SHOWCOLUMN_PRINTED)) {
      edit.add(togglePrinted);
    }
    if (Globals.prefs.getBoolean(SpecialFieldsUtils.PREF_SHOWCOLUMN_READ)) {
      m=new JMenu();
      RightClickMenu.populateSpecialFieldMenu(m,ReadStatus.getInstance(),this);
      edit.add(m);
    }
    edit.addSeparator();
  }
  edit.add(getManageKeywords());
  edit.addSeparator();
  edit.add(selectAll);
  mb.add(edit);
  search.add(normalSearch);
  search.add(replaceAll);
  search.add(getMassSetField());
  search.addSeparator();
  search.add(generalFetcher.getAction());
  if (prefs.getBoolean(JabRefPreferences.WEB_SEARCH_VISIBLE)) {
    sidePaneManager.register(generalFetcher.getTitle(),generalFetcher);
    sidePaneManager.show(generalFetcher.getTitle());
  }
  mb.add(search);
  groups.add(toggleGroups);
  groups.addSeparator();
  groups.add(addToGroup);
  groups.add(removeFromGroup);
  groups.add(moveToGroup);
  groups.addSeparator();
  groups.add(toggleHighlightAny);
  groups.add(toggleHighlightAll);
  mb.add(groups);
  view.add(back);
  view.add(forward);
  view.add(focusTable);
  view.add(nextTab);
  view.add(prevTab);
  view.add(sortTabs);
  view.addSeparator();
  view.add(increaseFontSize);
  view.add(decreseFontSize);
  view.addSeparator();
  view.add(toggleToolbar);
  view.add(generalFetcher.getAction());
  view.add(toggleGroups);
  view.add(togglePreview);
  view.add(switchPreview);
  mb.add(view);
  bibtex.add(newEntryAction);
  for (  NewEntryAction a : newSpecificEntryAction) {
    newSpec.add(a);
  }
  bibtex.add(newSpec);
  bibtex.add(plainTextImport);
  bibtex.addSeparator();
  bibtex.add(editEntry);
  bibtex.add(editPreamble);
  bibtex.add(editStrings);
  bibtex.addSeparator();
  bibtex.add(customizeAction);
  bibtex.addSeparator();
  bibtex.add(deleteEntry);
  mb.add(bibtex);
  quality.add(dupliCheck);
  quality.add(mergeEntries);
  quality.addSeparator();
  quality.add(resolveDuplicateKeys);
  quality.add(checkIntegrity);
  quality.add(cleanupEntries);
  quality.add(makeKeyAction);
  quality.addSeparator();
  quality.add(autoSetFile);
  quality.add(findUnlinkedFiles);
  quality.add(autoLinkFile);
  quality.add(downloadFullText);
  mb.add(quality);
  tools.add(newSubDatabaseAction);
  tools.add(writeXmpAction);
  OpenOfficePanel otp=OpenOfficePanel.getInstance();
  otp.init(this,sidePaneManager);
  tools.add(otp.getMenuItem());
  tools.add(pushExternalButton.getMenuAction());
  tools.addSeparator();
  tools.add(openFolder);
  tools.add(openFile);
  tools.add(openUrl);
  tools.addSeparator();
  tools.add(abbreviateIso);
  tools.add(abbreviateMedline);
  tools.add(unabbreviate);
  mb.add(tools);
  options.add(showPrefs);
  AbstractAction genFieldsCustomization=new GenFieldsCustomizationAction();
  options.add(genFieldsCustomization);
  options.add(customExpAction);
  options.add(customImpAction);
  options.add(customFileTypesAction);
  options.add(manageJournals);
  options.add(manageSelectors);
  options.add(selectKeys);
  mb.add(options);
  helpMenu.add(help);
  helpMenu.addSeparator();
  helpMenu.add(errorConsole);
  helpMenu.addSeparator();
  helpMenu.add(forkMeOnGitHubAction);
  helpMenu.add(donationAction);
  helpMenu.addSeparator();
  helpMenu.add(about);
  mb.add(helpMenu);
  createDisabledIconsForMenuEntries(mb);
}
