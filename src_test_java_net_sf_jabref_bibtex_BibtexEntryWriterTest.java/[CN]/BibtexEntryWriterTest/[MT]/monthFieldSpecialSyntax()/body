{
  String bibtexEntry="@Article{test," + Globals.NEWLINE + "  Author                   = {Foo Bar},"+ Globals.NEWLINE+ "  Month                    = mar,"+ Globals.NEWLINE+ "  Number                   = {1}"+ Globals.NEWLINE+ "}"+ Globals.NEWLINE;
  ParserResult result=BibtexParser.parse(new StringReader(bibtexEntry));
  Collection<BibtexEntry> entries=result.getDatabase().getEntries();
  Assert.assertEquals(1,entries.size());
  BibtexEntry entry=entries.iterator().next();
  Assert.assertEquals("test",entry.getCiteKey());
  Assert.assertEquals(4,entry.getAllFields().size());
  Set<String> fields=entry.getAllFields();
  Assert.assertTrue(fields.contains("month"));
  Assert.assertEquals("#mar#",entry.getField("month"));
  StringWriter stringWriter=new StringWriter();
  writer.write(entry,stringWriter);
  String actual=stringWriter.toString();
  assertEquals(bibtexEntry,actual);
}
