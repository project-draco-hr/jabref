{
  GroupTreeNode parent=GroupTreeNode.fromGroup(new ExplicitGroup("parent",GroupHierarchyType.INDEPENDENT,Globals.prefs));
  GroupTreeNode node=parent.addSubgroup(new ExplicitGroup("node",GroupHierarchyType.REFINING,Globals.prefs));
  AndMatcher matcher=new AndMatcher();
  matcher.addRule(node.getGroup());
  matcher.addRule(parent.getGroup());
  assertEquals(matcher,node.getSearchRule());
}
