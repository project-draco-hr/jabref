{
  if (c.isOpaque()) {
    Graphics2D g2D=(Graphics2D)g;
    Color colorBackground=c.getBackground();
    int shadow=KunststoffLookAndFeel.getBackgroundGradientShadow();
    if (colorBackground != null) {
      Rectangle clipBounds=g.getClipBounds();
      if (shadow == 0) {
        g2D.setColor(colorBackground);
        g2D.fill(clipBounds);
      }
 else {
        int red=colorBackground.getRed();
        int green=colorBackground.getGreen();
        int blue=colorBackground.getBlue();
        Color colorShadow=new Color(red >= shadow ? red - shadow : 0,green >= shadow ? green - shadow : 0,blue >= shadow ? blue - shadow : 0);
        if (isToolkitTrueColor) {
          Rectangle rect=new Rectangle(0,0,list.getWidth(),list.getHeight());
          KunststoffUtilities.drawGradient(g,colorBackground,colorShadow,rect,clipBounds,false);
        }
 else {
          g2D.setColor(colorBackground);
          g2D.fill(clipBounds);
          Color colorShadowFaded=KunststoffUtilities.getTranslucentColor(colorShadow,0);
          GradientPaint gradientTop=new GradientPaint(0f,0f,colorShadow,0f,5f,colorShadowFaded);
          g2D.setPaint(gradientTop);
          g2D.fill(new Rectangle(clipBounds.x,clipBounds.y,clipBounds.width,20));
          GradientPaint gradientLeft=new GradientPaint(0f,0f,colorShadow,5f,0f,colorShadowFaded);
          g2D.setPaint(gradientLeft);
          g2D.fill(new Rectangle(clipBounds.x,clipBounds.y,20,clipBounds.height));
        }
      }
    }
  }
  paint(g,c);
}
