{
  File tempBib=File.createTempFile("JabRef",".bib");
  try (FileWriter fileWriter=new FileWriter(tempBib)){
    fileWriter.write(t1BibtexString());
    fileWriter.write(t2BibtexString());
{
      PrintStream oldOut=System.out;
      try (ByteArrayOutputStream s=new ByteArrayOutputStream()){
        System.setOut(new PrintStream(s));
        XMPUtil.main(new String[]{"canh05",tempBib.getAbsolutePath(),pdfFile.getAbsolutePath()});
      }
  finally {
        System.setOut(oldOut);
      }
      List<BibtexEntry> l=XMPUtil.readXMP(pdfFile);
      Assert.assertEquals(1,l.size());
      assertEqualsBibtexEntry(t1BibtexEntry(),l.get(0));
    }
    try (ByteArrayOutputStream s=new ByteArrayOutputStream()){
      PrintStream oldOut=System.out;
      System.setOut(new PrintStream(s));
      try {
        XMPUtil.main(new String[]{"OezbekC06",tempBib.getAbsolutePath(),pdfFile.getAbsolutePath()});
      }
  finally {
        System.setOut(oldOut);
      }
    }
     List<BibtexEntry> l=XMPUtil.readXMP(pdfFile);
    Assert.assertEquals(1,l.size());
    assertEqualsBibtexEntry(t2BibtexEntry(),l.get(0));
  }
  finally {
    tempBib.delete();
  }
}
