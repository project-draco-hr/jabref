{
  File tempBib=File.createTempFile("JabRef",".bib");
  FileWriter fileWriter=null;
  try {
    fileWriter=new FileWriter(tempBib);
    fileWriter.write(t1BibtexString());
    fileWriter.write(t2BibtexString());
    fileWriter.close();
{
      ByteArrayOutputStream s=new ByteArrayOutputStream();
      PrintStream oldOut=System.out;
      System.setOut(new PrintStream(s));
      try {
        XMPUtil.main("canh05",tempBib.getAbsolutePath(),pdfFile.getAbsolutePath());
      }
  finally {
        System.setOut(oldOut);
        s.close();
      }
      List<BibtexEntry> l=XMPUtil.readXMP(pdfFile);
      Assert.assertEquals(1,l.size());
      assertEqualsBibtexEntry(t1BibtexEntry(),l.get(0));
    }
    ByteArrayOutputStream s=new ByteArrayOutputStream();
    PrintStream oldOut=System.out;
    System.setOut(new PrintStream(s));
    try {
      XMPUtil.main("OezbekC06",tempBib.getAbsolutePath(),pdfFile.getAbsolutePath());
    }
  finally {
      System.setOut(oldOut);
      s.close();
    }
    List<BibtexEntry> l=XMPUtil.readXMP(pdfFile);
    Assert.assertEquals(1,l.size());
    assertEqualsBibtexEntry(t2BibtexEntry(),l.get(0));
  }
  finally {
    if (fileWriter != null) {
      fileWriter.close();
    }
    tempBib.delete();
  }
}
