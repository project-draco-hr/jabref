{
  String baseUrl="http://eutils.ncbi.nlm.nih.gov/entrez/eutils";
  String medlineUrl=baseUrl + "/esearch.fcgi?retmax=20&usehistory=y&db=pubmed&term=";
  Pattern idPattern=Pattern.compile("<Id>(\\d+)</Id>");
  Pattern countPattern=Pattern.compile("<Count>(\\d+)<\\/Count>");
  Matcher matcher;
  boolean doCount=true;
  int count=0;
  String[] id=new String[10];
  try {
    URL ncbi=new URL(medlineUrl + term);
    HttpURLConnection ncbiCon=(HttpURLConnection)ncbi.openConnection();
    BufferedReader in=new BufferedReader(new InputStreamReader(ncbi.openStream()));
    String inLine;
    while ((inLine=in.readLine()) != null) {
      if (doCount) {
        matcher=countPattern.matcher(inLine);
        if (matcher.find()) {
          count=Integer.parseInt(matcher.group(1));
          id=new String[count];
          count=0;
          doCount=false;
        }
      }
 else {
        matcher=idPattern.matcher(inLine);
        if (matcher.find()) {
          id[count++]=matcher.group(1);
        }
      }
    }
  }
 catch (  MalformedURLException e) {
    System.out.println("bad url");
    e.printStackTrace();
  }
catch (  IOException e) {
    System.out.println("connection failed");
    e.printStackTrace();
  }
  return id;
}
