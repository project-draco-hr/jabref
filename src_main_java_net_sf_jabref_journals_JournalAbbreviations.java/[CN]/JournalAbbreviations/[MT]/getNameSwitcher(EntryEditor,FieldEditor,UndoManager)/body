{
  JButton button=new JButton(Globals.lang("Toggle abbreviation"));
  button.setToolTipText(JournalAbbreviations.TOOLTIPTEXT);
  button.addActionListener(new ActionListener(){
    boolean withDots=true;
    @Override public void actionPerformed(    ActionEvent actionEvent){
      String text=editor.getText();
      if (Globals.journalAbbrev.isKnownName(text)) {
        String s;
        if (Globals.journalAbbrev.isAbbreviatedName(text)) {
          if (!withDots) {
            s=Globals.journalAbbrev.getAbbreviatedName(text,false);
            withDots=true;
          }
 else {
            s=Globals.journalAbbrev.getFullName(text);
          }
        }
 else {
          s=Globals.journalAbbrev.getAbbreviatedName(text,true);
          withDots=false;
        }
        if (s != null) {
          editor.setText(s);
          entryEditor.storeFieldAction.actionPerformed(new ActionEvent(editor,0,""));
          undoManager.addEdit(new UndoableFieldChange(entryEditor.getEntry(),editor.getFieldName(),text,s));
        }
      }
    }
  }
);
  return button;
}
