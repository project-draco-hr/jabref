{
  File fileToOpen=null;
  if (showDialog) {
    String chosenFile=Globals.getNewFile(frame,Globals.prefs,new File(Globals.prefs.get("workingDirectory")),".bib",JFileChooser.OPEN_DIALOG,true);
    if (chosenFile != null) {
      fileToOpen=new File(chosenFile);
    }
  }
 else {
    Util.pr(NAME);
    Util.pr(e.getActionCommand());
    fileToOpen=new File(Util.checkName(e.getActionCommand()));
  }
  if (fileToOpen != null) {
    final File theFile=fileToOpen;
    (new Thread(){
      public void run(){
        openIt(theFile,true);
      }
    }
).start();
    frame.getFileHistory().newFile(fileToOpen.getPath());
  }
}
