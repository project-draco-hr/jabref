{
  if (selectionModel.getSelected().size() != 1) {
    return;
  }
  final BibEntry entry=selectionModel.getSelected().get(0);
  if (entry.getCiteKey() == null) {
    int answer=JOptionPane.showConfirmDialog(frame,Localization.lang("This entry has no BibTeX key. Generate key now?"),Localization.lang("Download file"),JOptionPane.OK_CANCEL_OPTION,JOptionPane.QUESTION_MESSAGE);
    if (answer == JOptionPane.OK_OPTION) {
      generateKeySelectedEntry();
    }
 else {
      return;
    }
  }
  final FileListTableModel localModel=new FileListTableModel();
  String oldVal=entry.getField(Globals.FILE_FIELD);
  if (oldVal != null) {
    localModel.setContent(oldVal);
  }
  JDialog diag=new JDialog(ImportInspectionDialog.this,true);
  JabRefExecutorService.INSTANCE.execute(net.sf.jabref.util.Util.autoSetLinks(entry,localModel,metaData,new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      if (e.getID() > 0) {
        entries.getReadWriteLock().writeLock().lock();
        entry.setField(Globals.FILE_FIELD,localModel.getStringRepresentation());
        entries.getReadWriteLock().writeLock().unlock();
        glTable.repaint();
      }
    }
  }
,diag));
}
