{
  if (LA(1) == null) {
    consumeFirst();
  }
  CommonHiddenStreamToken monitored=LA(1);
  monitored.setHiddenBefore(lastHiddenToken);
  lastHiddenToken=null;
  consume();
  CommonHiddenStreamToken p=monitored;
  while (hideMask.member(LA(1).getType()) || discardMask.member(LA(1).getType())) {
    if (hideMask.member(LA(1).getType())) {
      p.setHiddenAfter(LA(1));
      if (p != monitored) {
        LA(1).setHiddenBefore(p);
      }
      p=lastHiddenToken=LA(1);
    }
    consume();
  }
  return monitored;
}
