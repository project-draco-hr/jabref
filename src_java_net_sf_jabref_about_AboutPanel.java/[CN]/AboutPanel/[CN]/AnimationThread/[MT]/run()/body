{
  Object mutex=new Object();
  mode=1;
  runMode=true;
  while (running) {
synchronized (mutex) {
      try {
        do {
          mutex.wait(sleepTime);
        }
 while (!runMode);
      }
 catch (      Exception e) {
      }
    }
    if (mode == 1) {
      int counter=0;
      for (Enumeration myE=textBlocks.elements(); myE.hasMoreElements(); ) {
        TextBlock block=(TextBlock)myE.nextElement();
        AboutTextLine head=block.getHeading();
        counter=performStep(head);
        for (Enumeration myEnum=block.getEnumeration(); myEnum.hasMoreElements(); ) {
          AboutTextLine line=(AboutTextLine)myEnum.nextElement();
          counter+=performStep(line);
        }
      }
      if (counter < 1) {
        mode=2;
      }
      repaint(borders[0] - 10,borders[2] - 10,borders[1] + 10,borders[3] + 10);
    }
 else     if (mode == 2) {
      if (sleepTime < 2)       sleepTime=5;
 else       sleepTime-=sleepTime / 3;
      image.setImage(createImage(iProducer));
      filter.nextStep();
      repaint(0,0,WIDTH,HEIGHT);
    }
  }
}
