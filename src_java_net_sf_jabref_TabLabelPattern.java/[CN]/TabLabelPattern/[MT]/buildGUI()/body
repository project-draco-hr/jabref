{
  JPanel pan=new JPanel();
  JScrollPane sp=new JScrollPane(pan);
  sp.setBorder(BorderFactory.createEmptyBorder());
  pan.setLayout(gbl);
  setLayout(gbl);
  lblEntryType=new JLabel(Globals.lang("Entry type"));
  Font f=new Font("plain",Font.BOLD,12);
  lblEntryType.setFont(f);
  con.gridx=0;
  con.gridy=0;
  con.gridwidth=1;
  con.gridheight=1;
  con.fill=GridBagConstraints.VERTICAL;
  con.anchor=GridBagConstraints.WEST;
  con.insets=new Insets(5,5,10,0);
  gbl.setConstraints(lblEntryType,con);
  pan.add(lblEntryType);
  lblKeyPattern=new JLabel(Globals.lang("Key pattern"));
  lblKeyPattern.setFont(f);
  con.gridx=1;
  con.gridy=0;
  con.gridheight=1;
  con.fill=GridBagConstraints.HORIZONTAL;
  con.anchor=GridBagConstraints.WEST;
  con.insets=new Insets(5,5,10,5);
  gbl.setConstraints(lblKeyPattern,con);
  pan.add(lblKeyPattern);
  con.gridy=1;
  con.gridx=0;
  JLabel lab=new JLabel(Globals.lang("Default pattern"));
  gbl.setConstraints(lab,con);
  pan.add(lab);
  con.gridx=1;
  gbl.setConstraints(defaultPat,con);
  pan.add(defaultPat);
  con.insets=new Insets(5,5,10,5);
  btnDefault=new JButton(Globals.lang("Default"));
  btnDefault.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent event){
      defaultPat.setText((String)Globals.prefs.defaults.get("defaultLabelPattern"));
    }
  }
);
  con.gridx=2;
  int y=2;
  gbl.setConstraints(btnDefault,con);
  pan.add(btnDefault);
  Iterator i=BibtexEntryType.ALL_TYPES.keySet().iterator();
  while (i.hasNext()) {
    String s=(String)i.next();
    textFields.put(s,addEntryType(pan,s,y));
    y++;
  }
  con.fill=GridBagConstraints.BOTH;
  con.gridx=0;
  con.gridy=1;
  con.gridwidth=3;
  con.weightx=1;
  con.weighty=1;
  gbl.setConstraints(sp,con);
  add(sp);
  con.gridwidth=1;
  con.gridx=1;
  con.gridy=2;
  con.fill=GridBagConstraints.HORIZONTAL;
  con.weightx=0;
  con.weighty=0;
  con.anchor=GridBagConstraints.SOUTHEAST;
  con.insets=new Insets(0,5,0,5);
  JButton hlb=new JButton(new ImageIcon(GUIGlobals.helpSmallIconFile));
  hlb.setToolTipText(Globals.lang("Help on key patterns"));
  gbl.setConstraints(hlb,con);
  add(hlb);
  hlb.addActionListener(help);
  btnDefaultAll=new JButton(Globals.lang("Reset all"));
  con.gridx=2;
  con.gridy=2;
  con.weightx=1;
  con.weighty=0;
  con.anchor=GridBagConstraints.SOUTHEAST;
  con.insets=new Insets(20,5,0,5);
  gbl.setConstraints(btnDefaultAll,con);
  btnDefaultAll.addActionListener(new buttonHandler());
  add(btnDefaultAll);
  FormLayout layout=new FormLayout("1dlu, 8dlu, left:pref","");
  pan=new JPanel();
  DefaultFormBuilder builder=new DefaultFormBuilder(layout);
  builder.appendSeparator(Globals.lang("Key generator settings"));
  builder.nextLine();
  builder.append(pan);
  builder.append(warnBeforeOverwriting);
  builder.nextLine();
  builder.append(pan);
  builder.append(dontOverwrite);
  builder.nextLine();
  builder.getPanel().setBorder(BorderFactory.createEmptyBorder(5,5,5,5));
  con.gridx=1;
  con.gridy=3;
  con.gridwidth=GridBagConstraints.REMAINDER;
  con.weightx=1;
  con.fill=GridBagConstraints.BOTH;
  gbl.setConstraints(builder.getPanel(),con);
  add(builder.getPanel());
  dontOverwrite.addChangeListener(new ChangeListener(){
    public void stateChanged(    ChangeEvent event){
      warnBeforeOverwriting.setEnabled(!dontOverwrite.isSelected());
    }
  }
);
}
