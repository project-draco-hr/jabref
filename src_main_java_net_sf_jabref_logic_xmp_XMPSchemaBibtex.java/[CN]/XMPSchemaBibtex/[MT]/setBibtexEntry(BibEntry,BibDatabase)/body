{
  Set<String> fields=entry.getFieldNames();
  JabRefPreferences prefs=JabRefPreferences.getInstance();
  if (prefs.getBoolean(JabRefPreferences.USE_XMP_PRIVACY_FILTER)) {
    Set<String> filters=new TreeSet<>(prefs.getStringList(JabRefPreferences.XMP_PRIVACY_FILTERS));
    fields.removeAll(filters);
  }
  for (  String field : fields) {
    String value=BibDatabase.getResolvedField(field,entry,database);
    if ("author".equals(field) || "editor".equals(field)) {
      setPersonList(field,value);
    }
 else {
      setTextProperty(field,value);
    }
  }
  TypedBibEntry typedEntry=new TypedBibEntry(entry,Optional.empty());
  setTextProperty("entrytype",typedEntry.getTypeForDisplay());
}
