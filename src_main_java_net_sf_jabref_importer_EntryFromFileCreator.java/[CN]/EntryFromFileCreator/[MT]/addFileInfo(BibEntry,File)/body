{
  ExternalFileType fileType=ExternalFileTypes.getInstance().getExternalFileTypeByExt(externalFileType.getFieldName());
  String[] possibleFilePaths=JabRef.jrf.getCurrentBasePanel().metaData().getFileDirectory(Globals.FILE_FIELD);
  File shortenedFileName=FileUtil.shortenFileName(file,possibleFilePaths);
  FileListEntry fileListEntry=new FileListEntry("",shortenedFileName.getPath(),fileType);
  FileListTableModel model=new FileListTableModel();
  model.addEntry(0,fileListEntry);
  entry.setField(Globals.FILE_FIELD,model.getStringRepresentation());
}
