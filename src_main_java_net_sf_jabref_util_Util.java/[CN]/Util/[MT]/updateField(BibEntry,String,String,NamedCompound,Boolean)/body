{
  String oldValue=be.getField(field);
  if (nullFieldIfValueIsTheSame && (oldValue != null) && oldValue.equals(newValue)) {
    newValue=null;
  }
  if ((oldValue == null) && (newValue == null)) {
    return;
  }
  if ((oldValue == null) || !oldValue.equals(newValue)) {
    if (newValue == null) {
      be.clearField(field);
    }
 else {
      be.setField(field,newValue);
    }
    if (ce != null) {
      ce.addEdit(new UndoableFieldChange(be,field,oldValue,newValue));
    }
  }
}
