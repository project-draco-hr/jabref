{
  String defaultOwner=Globals.prefs.get(JabRefPreferences.DEFAULT_OWNER);
  String timestamp=net.sf.jabref.util.Util.dateFormatter.getCurrentDate();
  String timeStampField=Globals.prefs.get(JabRefPreferences.TIME_STAMP_FIELD);
  boolean setOwner=Globals.prefs.getBoolean(JabRefPreferences.USE_OWNER) && (overwriteOwner || (!entry.hasField(InternalBibtexFields.OWNER)));
  boolean setTimeStamp=Globals.prefs.getBoolean(JabRefPreferences.USE_TIME_STAMP) && (overwriteTimestamp || (!entry.hasField(timeStampField)));
  net.sf.jabref.util.Util.setAutomaticFields(entry,setOwner,defaultOwner,setTimeStamp,timeStampField,timestamp);
}
