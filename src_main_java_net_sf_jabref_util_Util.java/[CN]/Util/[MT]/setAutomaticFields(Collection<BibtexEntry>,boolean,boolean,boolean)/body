{
  String timeStampField=Globals.prefs.get(JabRefPreferences.TIME_STAMP_FIELD);
  String defaultOwner=Globals.prefs.get(JabRefPreferences.DEFAULT_OWNER);
  String timestamp=dateFormatter.getCurrentDate();
  boolean globalSetOwner=Globals.prefs.getBoolean(JabRefPreferences.USE_OWNER), globalSetTimeStamp=Globals.prefs.getBoolean(JabRefPreferences.USE_TIME_STAMP);
  if (!(globalSetOwner || globalSetTimeStamp || markEntries)) {
    return;
  }
  for (  BibtexEntry curEntry : bibs) {
    boolean setOwner=globalSetOwner && (overwriteOwner || curEntry.getField(BibtexFields.OWNER) == null);
    boolean setTimeStamp=globalSetTimeStamp && (overwriteTimestamp || curEntry.getField(timeStampField) == null);
    Util.setAutomaticFields(curEntry,setOwner,defaultOwner,setTimeStamp,timeStampField,timestamp);
    if (markEntries) {
      EntryMarker.markEntry(curEntry,EntryMarker.IMPORT_MARK_LEVEL,false,new NamedCompound(""));
    }
  }
}
