{
  if (wordsToHighlight == null || wordsToHighlight.isEmpty() || wordsToHighlight.get(0).isEmpty()) {
    return Pattern.compile("");
  }
  boolean regExSearch=Globals.prefs.getBoolean(JabRefPreferences.SEARCH_REG_EXP);
  String searchPattern="(".concat(regExSearch ? wordsToHighlight.get(0) : Pattern.quote(wordsToHighlight.get(0))).concat(")");
  for (int i=1; i < wordsToHighlight.size(); i++) {
    searchPattern=searchPattern.concat("|(").concat(regExSearch ? wordsToHighlight.get(i) : Pattern.quote(wordsToHighlight.get(i))).concat(")");
  }
  Pattern pattern;
  if (Globals.prefs.getBoolean(JabRefPreferences.SEARCH_CASE_SENSITIVE)) {
    pattern=Pattern.compile(searchPattern);
  }
 else {
    pattern=Pattern.compile(searchPattern,Pattern.CASE_INSENSITIVE);
  }
  return pattern;
}
