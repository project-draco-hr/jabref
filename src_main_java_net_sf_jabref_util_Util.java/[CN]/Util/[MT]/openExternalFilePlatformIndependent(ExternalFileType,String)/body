{
  if (OS.OS_X) {
    String[] cmd=fileType.getOpenWith() != null && !fileType.getOpenWith().isEmpty() ? new String[]{"/usr/bin/open","-a",fileType.getOpenWith(),filePath} : new String[]{"/usr/bin/open",filePath};
    Runtime.getRuntime().exec(cmd);
  }
 else   if (OS.WINDOWS) {
    if (fileType.getOpenWith() != null && !fileType.getOpenWith().isEmpty()) {
      Util.openFileWithApplicationOnWindows(filePath,fileType.getOpenWith());
    }
 else {
      Util.openFileOnWindows(filePath,true);
    }
  }
 else {
    String[] openWith;
    if (fileType.getOpenWith() != null && !fileType.getOpenWith().isEmpty()) {
      openWith=fileType.getOpenWith().split(" ");
    }
 else {
      openWith=new String[]{"xdg-open"};
    }
    String[] cmdArray=new String[openWith.length + 1];
    System.arraycopy(openWith,0,cmdArray,0,openWith.length);
    cmdArray[cmdArray.length - 1]=filePath;
    Runtime.getRuntime().exec(cmdArray);
  }
}
