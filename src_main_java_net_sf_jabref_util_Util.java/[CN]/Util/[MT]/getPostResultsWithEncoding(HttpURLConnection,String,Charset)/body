{
  source.setDoOutput(true);
  try (DataOutputStream wr=new DataOutputStream(source.getOutputStream())){
    wr.writeBytes(postData);
    wr.flush();
    wr.close();
  }
   int responseCode=source.getResponseCode();
  String inputLine;
  StringBuffer response=new StringBuffer();
  if (encoding != null) {
    try (BufferedReader in=new BufferedReader(new InputStreamReader(source.getInputStream(),encoding))){
      while ((inputLine=in.readLine()) != null) {
        response.append(inputLine);
      }
      in.close();
    }
   }
 else {
    try (BufferedReader in=new BufferedReader(new InputStreamReader(source.getInputStream()))){
      while ((inputLine=in.readLine()) != null) {
        response.append(inputLine);
      }
      in.close();
    }
   }
  return response.toString();
}
