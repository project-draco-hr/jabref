{
  splitPane=new JSplitPane(JSplitPane.VERTICAL_SPLIT);
  splitPane.setDividerSize(GUIGlobals.SPLIT_PANE_DIVIDER_SIZE);
  createMainTable();
  for (  EntryEditor ee : entryEditors.values()) {
    ee.validateAllFields();
  }
  splitPane.setTopComponent(mainTable.getPane());
  splitPane.setBorder(BorderFactory.createEmptyBorder());
  setBorder(BorderFactory.createEmptyBorder());
  if (mode == SHOWING_PREVIEW) {
    mode=SHOWING_NOTHING;
    int row=mainTable.findEntry(currentPreview.entry);
    if (row >= 0)     mainTable.setRowSelectionInterval(row,row);
  }
 else   if (mode == SHOWING_EDITOR) {
    mode=SHOWING_NOTHING;
  }
 else   splitPane.setBottomComponent(null);
  setLayout(new BorderLayout());
  removeAll();
  add(splitPane,BorderLayout.CENTER);
  instantiateSearchAutoCompleter();
  this.getDatabase().addDatabaseChangeListener(new SearchAutoCompleterUpdater());
  if (Globals.prefs.getBoolean("autoComplete")) {
    instantiateAutoCompleters();
    this.getDatabase().addDatabaseChangeListener(new AutoCompletersUpdater());
  }
  splitPane.revalidate();
  revalidate();
  repaint();
}
