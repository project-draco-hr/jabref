{
  String chosenFile=FileDialogs.getNewFile(frame,new File(Globals.prefs.get("workingDirectory")),".bib",JFileChooser.SAVE_DIALOG,false);
  if (chosenFile != null) {
    File expFile=new File(chosenFile);
    if (!expFile.exists() || (JOptionPane.showConfirmDialog(frame,"'" + expFile.getName() + "' "+ Globals.lang("exists. Overwrite file?"),Globals.lang("Save database"),JOptionPane.OK_CANCEL_OPTION) == JOptionPane.OK_OPTION)) {
      saveDatabase(expFile,true,Globals.prefs.get("defaultEncoding"),savePlainBibtex);
      frame.getFileHistory().newFile(expFile.getPath());
      frame.output(Globals.lang("Saved selected to") + " '" + expFile.getPath()+ "'.");
    }
  }
}
