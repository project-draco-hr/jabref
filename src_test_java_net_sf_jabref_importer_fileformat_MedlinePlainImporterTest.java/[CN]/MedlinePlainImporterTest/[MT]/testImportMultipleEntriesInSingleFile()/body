{
  try (InputStream is=MedlinePlainImporter.class.getResourceAsStream("MedlinePlainImporterTestMultipleEntries.txt")){
    List<BibEntry> entries=importer.importEntries(is,new OutputPrinterToNull());
    Assert.assertEquals(7,entries.size());
    BibEntry testEntry=entries.get(0);
    Assert.assertEquals(EntryTypes.getType("article"),testEntry.getType());
    Assert.assertNull(testEntry.getField("month"));
    Assert.assertEquals("Long, Vicky and Marland, Hilary",testEntry.getField("author"));
    Assert.assertEquals("From danger and motherhood to health and beauty: health advice for the factory girl in early twentieth-century Britain.",testEntry.getField("title"));
    testEntry=entries.get(1);
    Assert.assertEquals(EntryTypes.getType("Conference"),testEntry.getType());
    Assert.assertEquals("06",testEntry.getField("month"));
    Assert.assertNull(testEntry.getField("author"));
    Assert.assertNull(testEntry.getField("title"));
    testEntry=entries.get(2);
    Assert.assertEquals(EntryTypes.getType("Book"),testEntry.getType());
    Assert.assertEquals("This is a Testtitle: This title should be appended: This title should also be appended. Another append to the Title? LastTitle",testEntry.getField("title"));
    testEntry=entries.get(3);
    Assert.assertEquals(EntryTypes.getType("TechReport"),testEntry.getType());
    Assert.assertNotNull(testEntry.getField("doi"));
    testEntry=entries.get(4);
    Assert.assertEquals(EntryTypes.getType("InProceedings"),testEntry.getType());
    Assert.assertEquals("Inproceedings book title",testEntry.getField("booktitle"));
    testEntry=entries.get(5);
    Assert.assertEquals(EntryTypes.getType("Proceedings"),testEntry.getType());
    testEntry=entries.get(6);
    Assert.assertEquals(EntryTypes.getTypeOrDefault(""),testEntry.getType());
  }
 }
