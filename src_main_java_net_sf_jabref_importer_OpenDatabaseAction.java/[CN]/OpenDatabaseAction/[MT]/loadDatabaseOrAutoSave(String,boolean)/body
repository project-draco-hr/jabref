{
  LOGGER.info("Opening: " + name);
  File file=new File(name);
  if (!file.exists()) {
    ParserResult pr=new ParserResult(null,null,null);
    pr.setFile(file);
    pr.setInvalid(true);
    LOGGER.error(Localization.lang("Error") + ": " + Localization.lang("File not found"));
    return pr;
  }
  try {
    if (!ignoreAutosave) {
      boolean autoSaveFound=AutoSaveManager.newerAutoSaveExists(file);
      if (autoSaveFound) {
        ParserResult postp=new ParserResult(null,null,null);
        postp.setPostponedAutosaveFound(true);
        postp.setFile(file);
        return postp;
      }
    }
    if (!FileBasedLock.waitForFileLock(file,10)) {
      LOGGER.error(Localization.lang("Error opening file") + " '" + name+ "'. "+ "File is locked by another JabRef instance.");
      return ParserResult.getNullResult();
    }
    Charset encoding=Globals.prefs.getDefaultEncoding();
    ParserResult pr=OpenDatabaseAction.loadDatabase(file,encoding);
    pr.setFile(file);
    if (pr.hasWarnings()) {
      for (      String aWarn : pr.warnings()) {
        LOGGER.warn(aWarn);
      }
    }
    return pr;
  }
 catch (  Throwable ex) {
    ParserResult pr=new ParserResult(null,null,null);
    pr.setFile(file);
    pr.setInvalid(true);
    pr.setErrorMessage(ex.getMessage());
    LOGGER.info("Problem opening .bib-file",ex);
    return pr;
  }
}
