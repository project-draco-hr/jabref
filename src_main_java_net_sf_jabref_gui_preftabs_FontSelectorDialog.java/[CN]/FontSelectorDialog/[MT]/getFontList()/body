{
  try {
    Class<?> geClass=Class.forName("java.awt.GraphicsEnvironment");
    Object geInstance=geClass.getMethod("getLocalGraphicsEnvironment").invoke(null);
    String[] nameArray=(String[])geClass.getMethod("getAvailableFontFamilyNames").invoke(geInstance);
    List<String> nameList=new ArrayList<>(nameArray.length);
    for (int i=0, j; i < nameArray.length; i++) {
      for (j=0; j < FontSelectorDialog.HIDEFONTS.length; j++) {
        if (nameArray[i].contains(FontSelectorDialog.HIDEFONTS[j])) {
          break;
        }
      }
      if (j == FontSelectorDialog.HIDEFONTS.length) {
        nameList.add(nameArray[i]);
      }
    }
    String[] resultArray=new String[nameList.size()];
    return nameList.toArray(resultArray);
  }
 catch (  ClassNotFoundException|NoSuchMethodException|SecurityException|InvocationTargetException|IllegalAccessException|IllegalArgumentException ex) {
    return null;
  }
}
