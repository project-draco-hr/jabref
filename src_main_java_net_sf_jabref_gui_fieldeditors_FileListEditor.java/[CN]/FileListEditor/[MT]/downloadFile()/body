{
  String bibtexKey=entryEditor.getEntry().getCiteKey();
  if (bibtexKey == null) {
    int answer=JOptionPane.showConfirmDialog(frame,Localization.lang("This entry has no BibTeX key. Generate key now?"),Localization.lang("Download file"),JOptionPane.OK_CANCEL_OPTION,JOptionPane.QUESTION_MESSAGE);
    if (answer == JOptionPane.OK_OPTION) {
      ActionListener l=entryEditor.generateKeyAction;
      l.actionPerformed(null);
      bibtexKey=entryEditor.getEntry().getCiteKey();
    }
  }
  DownloadExternalFile def=new DownloadExternalFile(frame,frame.basePanel().metaData(),bibtexKey);
  try {
    def.download(this);
  }
 catch (  IOException ex) {
    ex.printStackTrace();
  }
}
