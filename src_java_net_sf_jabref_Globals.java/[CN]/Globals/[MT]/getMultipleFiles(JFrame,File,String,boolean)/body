{
  OpenFileFilter off=null;
  if (extension == null)   off=new OpenFileFilter();
 else   if (!extension.equals(NONE))   off=new OpenFileFilter(extension);
  Object files=getNewFileImpl(owner,directory,extension,null,off,JFileChooser.OPEN_DIALOG,updateWorkingdirectory,false,true);
  if (files instanceof String[]) {
    return (String[])files;
  }
  if (files != null) {
    return new String[]{(String)files};
  }
  return new String[0];
}
