{
  if (!iconOnly && (MyMetalComboBoxButton.this.comboBox != null)) {
    boolean isSetRendererOpaque=false;
    ListCellRenderer renderer=MyMetalComboBoxButton.this.comboBox.getRenderer();
    if (renderer instanceof JComponent) {
      JComponent jRenderer=(JComponent)renderer;
      if (jRenderer.isOpaque() && jRenderer.getBackground() instanceof ColorUIResource) {
        isSetRendererOpaque=true;
        jRenderer.setOpaque(false);
      }
    }
    super.paintComponent(g);
    if (isSetRendererOpaque) {
      ((JComponent)renderer).setOpaque(true);
    }
  }
 else {
    super.paintComponent(g);
  }
}
