{
  TokenWithIndex t;
  do {
    t=(TokenWithIndex)stream.nextToken();
    if (t != null) {
      t.setIndex(index);
      if (t.getType() != Token.EOF_TYPE) {
        tokens.add(t);
      }
      index++;
    }
  }
 while (t != null && discardMask.member(t.getType()));
  return t;
}
