{
  int i=0;
  while (i < history.size()) {
    if (((String)history.get(i)).equals(filename))     history.remove(i--);
    i++;
  }
  history.addFirst(filename);
  while (history.size() > prefs.getInt("historySize")) {
    history.removeLast();
  }
  setItems();
  if (!isEnabled())   setEnabled(true);
}
