{
  this.prefs=prefs;
  setLayout(new BorderLayout());
  useProxy=new JCheckBox(Localization.lang("Use custom proxy configuration"));
  defProxyHostname=new JTextField();
  defProxyHostname.setEnabled(false);
  defProxyPort=new JTextField();
  defProxyPort.setEnabled(false);
  Insets marg=new Insets(0,12,3,0);
  useProxy.setMargin(marg);
  defProxyPort.setMargin(marg);
  useProxy.addChangeListener(new ChangeListener(){
    @Override public void stateChanged(    ChangeEvent event){
      defProxyHostname.setEnabled(useProxy.isSelected());
      defProxyPort.setEnabled(useProxy.isSelected());
    }
  }
);
  FormLayout layout=new FormLayout("8dlu, left:pref, 4dlu, fill:150dlu","p, 2dlu, p, 2dlu, p, 2dlu, p");
  FormBuilder builder=FormBuilder.create().layout(layout);
  builder.addSeparator(Localization.lang("Network")).xyw(1,1,4);
  builder.add(useProxy).xyw(2,3,3);
  builder.add(Localization.lang("Host") + ':').xy(2,5);
  builder.add(defProxyHostname).xy(4,5);
  builder.add(Localization.lang("Port") + ':').xy(2,7);
  builder.add(defProxyPort).xy(4,7);
  JPanel pan=builder.getPanel();
  pan.setBorder(BorderFactory.createEmptyBorder(5,5,5,5));
  add(pan,BorderLayout.CENTER);
}
