{
  panel=frame.basePanel();
  if (panel == null) {
    return;
  }
  entries=panel.getSelectedEntries();
  if (entries.length == 0) {
    JOptionPane.showMessageDialog(frame,Localization.lang("This operation requires one or more entries to be selected."),(String)getValue(Action.NAME),JOptionPane.ERROR_MESSAGE);
    return;
  }
  if (operation.requiresBibtexKeys()) {
    for (    BibtexEntry entry : entries) {
      if (entry.getCiteKey() == null || entry.getCiteKey().trim().isEmpty()) {
        JOptionPane.showMessageDialog(frame,Localization.lang("This operation requires all selected entries to have BibTex keys defined."),(String)getValue(Action.NAME),JOptionPane.ERROR_MESSAGE);
        return;
      }
    }
  }
  JabRefExecutorService.INSTANCE.execute(this);
}
