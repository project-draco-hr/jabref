{
  File databaseFile=panel.getBibDatabaseContext().getDatabaseFile();
  File backupFile=AutoSaveManager.getAutoSaveFile(databaseFile);
  try {
    SavePreferences prefs=SavePreferences.loadForSaveFromPreferences(Globals.prefs).withMakeBackup(false).withEncoding(panel.getBibDatabaseContext().getMetaData().getEncoding());
    BibDatabaseWriter databaseWriter=new BibDatabaseWriter();
    SaveSession ss=databaseWriter.saveDatabase(panel.getBibDatabaseContext(),prefs);
    ss.commit(backupFile);
  }
 catch (  SaveException e) {
    LOGGER.error("Problem with automatic save",e);
    return false;
  }
  return true;
}
