{
  if (out instanceof Connection) {
    Object response=SQLUtil.processQueryWithResults(out,"SELECT database_id FROM jabref_database WHERE md5_path=md5('" + metaData.getFile().getAbsolutePath() + "');");
    ResultSet rs=((Statement)response).getResultSet();
    if (rs.next())     return rs.getInt("database_id");
 else {
      insertJabRefDatabase(metaData,out);
      return getDatabaseIDByPath(metaData,out);
    }
  }
 else {
    insertJabRefDatabase(metaData,out);
    return 1;
  }
}
