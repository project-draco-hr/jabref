{
  Boolean saveInOriginalOrder=Globals.prefs.getBoolean(JabRefPreferences.EXPORT_IN_ORIGINAL_ORDER);
  SaveOrderConfig saveOrder=null;
  if (!saveInOriginalOrder) {
    if (Globals.prefs.getBoolean(JabRefPreferences.EXPORT_IN_SPECIFIED_ORDER)) {
      saveOrder=SaveOrderConfig.loadExportSaveOrderFromPreferences(preferences);
    }
 else {
      saveOrder=SaveOrderConfig.loadTableSaveOrderFromPreferences(preferences);
    }
  }
  Charset encoding=preferences.getDefaultEncoding();
  Boolean makeBackup=preferences.getBoolean(JabRefPreferences.BACKUP);
  DatabaseSaveType saveType=DatabaseSaveType.ALL;
  Boolean takeMetadataSaveOrderInAccount=false;
  return new SavePreferences(saveInOriginalOrder,saveOrder,encoding,makeBackup,saveType,takeMetadataSaveOrderInAccount);
}
