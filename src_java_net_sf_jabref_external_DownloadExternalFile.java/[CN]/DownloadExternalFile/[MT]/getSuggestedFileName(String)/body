{
  String plannedName=bibtexKey;
  if (suffix.length() > 0)   plannedName+="." + suffix;
  if (Globals.ON_WIN) {
    plannedName=plannedName.replaceAll("\\?|\\*|\\<|\\>|\\||\\\"|\\:|\\.$|\\[|\\]","");
  }
 else   if (Globals.ON_MAC) {
    plannedName=plannedName.replaceAll(":","");
  }
  return plannedName;
}
