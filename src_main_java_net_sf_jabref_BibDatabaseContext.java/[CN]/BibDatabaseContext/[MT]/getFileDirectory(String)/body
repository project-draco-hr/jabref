{
  List<String> fileDirs=new ArrayList<>();
  Optional<String> userFileDirectory=metaData.getUserFileDirectory(Globals.prefs.getUser());
  if (userFileDirectory.isPresent()) {
    fileDirs.add(getFileDirectoryPath(userFileDirectory.get()));
  }
  Optional<String> metaDataDirectory=metaData.getDefaultFileDirectory();
  if (metaDataDirectory.isPresent()) {
    fileDirs.add(getFileDirectoryPath(metaDataDirectory.get()));
  }
  String dir=Globals.prefs.get(fieldName + FileLinkPreferences.DIR_SUFFIX);
  if (dir != null) {
    fileDirs.add(dir);
  }
  if (getDatabaseFile() != null) {
    String parentDir=getDatabaseFile().getParent();
    if (Globals.prefs.getBoolean(JabRefPreferences.BIB_LOC_AS_PRIMARY_DIR)) {
      fileDirs.add(0,parentDir);
    }
 else {
      fileDirs.add(parentDir);
    }
  }
  return fileDirs;
}
