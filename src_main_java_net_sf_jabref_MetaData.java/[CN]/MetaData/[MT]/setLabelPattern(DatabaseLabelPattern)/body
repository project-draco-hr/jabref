{
  Iterator<String> iterator=this.iterator();
  while (iterator.hasNext()) {
    String key=iterator.next();
    if (key.startsWith(MetaData.PREFIX_KEYPATTERN)) {
      iterator.remove();
    }
  }
  Set<String> allKeys=labelPattern.getAllKeys();
  for (  String key : allKeys) {
    String metaDataKey=MetaData.PREFIX_KEYPATTERN + key;
    if (!labelPattern.isDefaultValue(key)) {
      List<String> data=new ArrayList<>();
      data.add(labelPattern.getValue(key).get(0));
      this.putData(metaDataKey,data);
    }
  }
  if (labelPattern.getDefaultValue() == null) {
    this.remove(MetaData.KEYPATTERNDEFAULT);
  }
 else {
    List<String> data=new ArrayList<>();
    data.add(labelPattern.getDefaultValue().get(0));
    this.putData(MetaData.KEYPATTERNDEFAULT,data);
  }
  this.labelPattern=labelPattern;
}
