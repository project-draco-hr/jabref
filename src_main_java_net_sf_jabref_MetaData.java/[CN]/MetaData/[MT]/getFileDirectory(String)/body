{
  List<String> fileDirs=new ArrayList<>();
  String key=Globals.prefs.get(JabRefPreferences.USER_FILE_DIR_INDIVIDUAL);
  List<String> metaData=getData(key);
  if (metaData == null) {
    key=Globals.prefs.get(JabRefPreferences.USER_FILE_DIR);
    metaData=getData(key);
  }
  if ((metaData != null) && !metaData.isEmpty()) {
    String dir;
    dir=metaData.get(0);
    if (!new File(dir).isAbsolute() && (file != null)) {
      String relDir;
      if (".".equals(dir)) {
        relDir=file.getParent();
      }
 else {
        relDir=file.getParent() + File.separator + dir;
      }
      if (new File(relDir).exists()) {
        dir=relDir;
      }
    }
    fileDirs.add(dir);
  }
 else {
    String dir=Globals.prefs.get(fieldName + Globals.DIR_SUFFIX);
    if (dir != null) {
      fileDirs.add(dir);
    }
  }
  if (getFile() != null) {
    String parentDir=getFile().getParent();
    if (Globals.prefs.getBoolean(JabRefPreferences.BIB_LOC_AS_PRIMARY_DIR)) {
      fileDirs.add(0,parentDir);
    }
 else {
      fileDirs.add(parentDir);
    }
  }
  return fileDirs;
}
