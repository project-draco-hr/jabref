{
  PdfContentImporter contentImporter=new PdfContentImporter();
  Path filePath=Paths.get(fileName);
  ParserResult result=contentImporter.importDatabase(filePath,Globals.prefs.getDefaultEncoding());
  if (result.hasWarnings()) {
    frame.showMessage(result.getErrorMessage());
  }
  if (!result.getDatabase().hasEntries()) {
    BibEntry entry=createNewBlankEntry(fileName);
    res.add(entry);
    return;
  }
  BibEntry entry=result.getDatabase().getEntries().get(0);
  panel.getDatabase().insertEntry(entry);
  panel.markBaseChanged();
  LabelPatternUtil.makeLabel(panel.getBibDatabaseContext().getMetaData(),panel.getDatabase(),entry,LabelPatternPreferences.fromPreferences(Globals.prefs));
  DroppedFileHandler dfh=new DroppedFileHandler(frame,panel);
  dfh.linkPdfToEntry(fileName,entry);
  panel.highlightEntry(entry);
  if (Globals.prefs.getBoolean(JabRefPreferences.AUTO_OPEN_FORM)) {
    EntryEditor editor=panel.getEntryEditor(entry);
    panel.showEntryEditor(editor);
    panel.adjustSplitter();
  }
  res.add(entry);
}
