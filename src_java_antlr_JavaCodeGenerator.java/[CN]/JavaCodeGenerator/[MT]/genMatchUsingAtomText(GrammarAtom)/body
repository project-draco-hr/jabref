{
  String astArgs="";
  if (grammar instanceof TreeWalkerGrammar) {
    astArgs="_t,";
  }
  if (grammar instanceof LexerGrammar && (!saveText || atom.getAutoGenType() == GrammarElement.AUTO_GEN_BANG)) {
    println("_saveIndex=text.length();");
  }
  print(atom.not ? "matchNot(" : "match(");
  _print(astArgs);
  if (atom.atomText.equals("EOF")) {
    _print("Token.EOF_TYPE");
  }
 else {
    _print(atom.atomText);
  }
  _println(");");
  if (grammar instanceof LexerGrammar && (!saveText || atom.getAutoGenType() == GrammarElement.AUTO_GEN_BANG)) {
    println("text.setLength(_saveIndex);");
  }
}
