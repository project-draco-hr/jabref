{
  if (atom instanceof StringLiteralElement) {
    if (grammar instanceof LexerGrammar) {
      genMatchUsingAtomText(atom);
    }
 else {
      genMatchUsingAtomTokenType(atom);
    }
  }
 else   if (atom instanceof CharLiteralElement) {
    if (grammar instanceof LexerGrammar) {
      genMatchUsingAtomText(atom);
    }
 else {
      tool.error("cannot ref character literals in grammar: " + atom);
    }
  }
 else   if (atom instanceof TokenRefElement) {
    genMatchUsingAtomText(atom);
  }
}
