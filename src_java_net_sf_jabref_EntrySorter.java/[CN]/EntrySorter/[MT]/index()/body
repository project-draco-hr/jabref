{
synchronized (set) {
    if (changed) {
      Collections.sort(set,comp);
      changed=false;
    }
    int count=set.size();
    idArray=new String[count];
    entryArray=new BibtexEntry[count];
    int piv=0;
    for (Iterator<BibtexEntry> i=set.iterator(); i.hasNext(); ) {
      BibtexEntry entry=i.next();
      idArray[piv]=entry.getId();
      entryArray[piv]=entry;
      piv++;
    }
  }
}
