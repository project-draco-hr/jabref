{
synchronized (set) {
    int pos;
switch (e.getType()) {
case ADDED_ENTRY:
      pos=-Collections.binarySearch(set,e.getEntry(),comp) - 1;
    set.add(pos,e.getEntry());
  break;
case REMOVED_ENTRY:
set.remove(e.getEntry());
changed=true;
break;
case CHANGED_ENTRY:
pos=Collections.binarySearch(set,e.getEntry(),comp);
int posOld=set.indexOf(e.getEntry());
if (pos < 0) {
set.remove(posOld);
set.add(-pos - 1,e.getEntry());
}
break;
}
}
}
