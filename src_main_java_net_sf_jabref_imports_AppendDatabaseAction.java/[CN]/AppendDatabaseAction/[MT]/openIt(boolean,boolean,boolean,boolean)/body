{
  if (filesToOpen.isEmpty()) {
    return;
  }
  for (  File file : filesToOpen) {
    try {
      Globals.prefs.put(JabRefPreferences.WORKING_DIRECTORY,file.getPath());
      String encoding=Globals.prefs.get(JabRefPreferences.DEFAULT_ENCODING);
      ParserResult pr=OpenDatabaseAction.loadDatabase(file,encoding);
      AppendDatabaseAction.mergeFromBibtex(frame,panel,pr,importEntries,importStrings,importGroups,importSelectorWords);
      panel.output(Localization.lang("Imported from database") + " '" + file.getPath()+ "'");
    }
 catch (    Throwable ex) {
      ex.printStackTrace();
      JOptionPane.showMessageDialog(panel,ex.getMessage(),"Open database",JOptionPane.ERROR_MESSAGE);
    }
  }
}
