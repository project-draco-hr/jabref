{
  ArrayList<BibtexEntry> entries=new ArrayList<BibtexEntry>();
  Collections.addAll(entries,JabRef.jrf.basePanel().getSelectedEntries());
  if (entries.isEmpty()) {
    JabRef.jrf.basePanel().output(Globals.lang("No entries selected."));
    return;
  }
  JDialog diag=new JDialog(JabRef.jrf,true);
  final NamedCompound nc=new NamedCompound(Globals.lang("Automatically set file links"));
  Runnable runnable=Util.autoSetLinks(entries,nc,null,null,JabRef.jrf.basePanel().metaData(),new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      if (e.getID() > 0) {
        if (nc.hasEdits()) {
          nc.end();
          JabRef.jrf.basePanel().undoManager.addEdit(nc);
          JabRef.jrf.basePanel().markBaseChanged();
        }
        JabRef.jrf.output(Globals.lang("Finished autosetting external links."));
      }
 else {
        JabRef.jrf.output(Globals.lang("Finished autosetting external links.") + " " + Globals.lang("No files found."));
      }
    }
  }
,diag);
  JabRefExecutorService.INSTANCE.execute(runnable);
}
