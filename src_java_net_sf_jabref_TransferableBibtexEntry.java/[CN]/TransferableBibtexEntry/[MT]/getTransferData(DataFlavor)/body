{
  if (flavor.equals(entryFlavor))   return data;
 else   if (flavor.equals(DataFlavor.stringFlavor)) {
    try {
      StringWriter sw=new StringWriter();
      LatexFieldFormatter ff=new LatexFieldFormatter();
      for (int i=0; i < data.length; i++)       data[i].write(sw,ff);
      return sw.toString();
    }
 catch (    IOException ex) {
      JOptionPane.showMessageDialog(null,"Could not paste entry as text:\n" + ex.getMessage(),"Clipboard",JOptionPane.ERROR_MESSAGE);
      return "";
    }
  }
 else   throw new UnsupportedFlavorException(flavor);
}
