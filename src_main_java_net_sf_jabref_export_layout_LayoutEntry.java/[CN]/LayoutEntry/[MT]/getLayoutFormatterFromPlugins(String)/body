{
  if (LayoutEntry.pluginLayoutFormatter == null) {
    LayoutEntry.pluginLayoutFormatter=new HashMap<String,LayoutFormatter>();
    JabRefPlugin plugin=JabRefPlugin.getInstance(PluginCore.getManager());
    if (plugin != null) {
      for (      LayoutFormatterExtension e : plugin.getLayoutFormatterExtensions()) {
        LayoutFormatter formatter=e.getLayoutFormatter();
        String name=e.getName();
        if (name == null) {
          name=e.getId();
        }
        if (formatter != null) {
          LayoutEntry.pluginLayoutFormatter.put(name,formatter);
        }
      }
    }
  }
  if (LayoutEntry.pluginLayoutFormatter.containsKey(formatterName)) {
    Class<? extends LayoutFormatter> c=LayoutEntry.pluginLayoutFormatter.get(formatterName).getClass();
    try {
      return c.getConstructor().newInstance();
    }
 catch (    Throwable e) {
      e.printStackTrace();
    }
    return LayoutEntry.pluginLayoutFormatter.get(formatterName);
  }
 else {
    return null;
  }
}
