{
  this.database=database;
  List<FieldComparator> comparators=new ArrayList<FieldComparator>();
  comparators.add(new FieldComparator("author"));
  comparators.add(new FieldComparator("year"));
  comparators.add(new FieldComparator(BibtexEntry.KEY_FIELD));
  BasicEventList<BibtexEntry> entryList=new BasicEventList<BibtexEntry>();
  if (keySet == null) {
    entryList.addAll(database.getEntries());
  }
 else {
    for (    String key : keySet) {
      entryList.add(database.getEntryById(key));
    }
  }
  entries=new SortedList(entryList,new FieldComparatorStack(comparators));
}
