{
  if (label != null) {
    for (int i=0; i < ruleBlock.labeledElements.size(); i++) {
      AlternativeElement altEl=(AlternativeElement)ruleBlock.labeledElements.elementAt(i);
      String l=altEl.getLabel();
      if (l != null && l.equals(label.getText())) {
        tool.error("Label '" + label.getText() + "' has already been defined",grammar.getFilename(),label.getLine());
        return;
      }
    }
    el.setLabel(label.getText());
    ruleBlock.labeledElements.appendElement(el);
  }
}
