{
  int toDownload=0;
  for (  Map.Entry<String,Boolean> selEntry : selection.entrySet()) {
    boolean isSelected=selEntry.getValue();
    if (isSelected) {
      toDownload++;
    }
  }
  if (toDownload == 0) {
    return;
  }
  int downloaded=0;
  for (  Map.Entry<String,Boolean> selEntry : selection.entrySet()) {
    if (stopFetching) {
      break;
    }
    inspector.setProgress(downloaded,toDownload);
    boolean isSelected=selEntry.getValue();
    if (isSelected) {
      downloaded++;
      try {
        BibEntry entry=downloadEntry(selEntry.getKey());
        inspector.addEntry(entry);
      }
 catch (      IOException e) {
        LOGGER.warn("Cannot download entry from Google scholar",e);
      }
    }
  }
}
