{
  _prefs=prefs;
  setLayout(gbl);
  con.weightx=0;
  con.insets=new Insets(10,10,10,10);
  con.fill=GridBagConstraints.HORIZONTAL;
  con.gridwidth=GridBagConstraints.REMAINDER;
  autoOpenForm=new JCheckBox(Globals.lang("Open editor when a new entry is created"),_prefs.getBoolean("autoOpenForm"));
  openLast=new JCheckBox(Globals.lang("Open last edited databases at startup"),_prefs.getBoolean("openLastEdited"));
  backup=new JCheckBox(Globals.lang("Backup old file when saving"),_prefs.getBoolean("backup"));
  defSource=new JCheckBox(Globals.lang("Show source by default"),_prefs.getBoolean("defaultShowSource"));
  editSource=new JCheckBox(Globals.lang("Enable source editing"),_prefs.getBoolean("enableSourceEditing"));
  JPanel general=new JPanel();
  groupField=new JTextField(_prefs.get("groupsDefaultField"),15);
  general.setBorder(BorderFactory.createTitledBorder(BorderFactory.createEtchedBorder(),Globals.lang("Miscellaneous")));
  general.setLayout(gbl);
  gbl.setConstraints(openLast,con);
  general.add(openLast);
  gbl.setConstraints(backup,con);
  general.add(backup);
  gbl.setConstraints(autoOpenForm,con);
  general.add(autoOpenForm);
  gbl.setConstraints(defSource,con);
  general.add(defSource);
  con.gridwidth=1;
  JLabel lab=new JLabel(Globals.lang("Default grouping field") + ":");
  lab.setHorizontalAlignment(SwingConstants.LEFT);
  gbl.setConstraints(lab,con);
  general.add(lab);
  con.gridwidth=GridBagConstraints.REMAINDER;
  gbl.setConstraints(groupField,con);
  general.add(groupField);
  gbl.setConstraints(general,con);
  add(general);
}
