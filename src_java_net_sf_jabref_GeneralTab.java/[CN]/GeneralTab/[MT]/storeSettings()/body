{
  _prefs.putBoolean("autoOpenForm",autoOpenForm.isSelected());
  _prefs.putBoolean("backup",backup.isSelected());
  _prefs.putBoolean("openLastEdited",openLast.isSelected());
  _prefs.putBoolean("defaultShowSource",defSource.isSelected());
  _prefs.putBoolean("enableSourceEditing",editSource.isSelected());
  _prefs.putBoolean("disableOnMultipleSelection",disableOnMultiple.isSelected());
  _prefs.putBoolean("useOwner",useOwner.isSelected());
  _prefs.putBoolean("useTimeStamp",useTimeStamp.isSelected());
  _prefs.putBoolean("dialogWarningForDuplicateKey",keyDuplicateWarningDialog.isSelected());
  _prefs.putBoolean("dialogWarningForEmptyKey",keyEmptyWarningDialog.isSelected());
  _prefs.putBoolean("confirmDelete",confirmDelete.isSelected());
  _prefs.putBoolean("saveInStandardOrder",saveInStandardOrder.isSelected());
  _prefs.putBoolean("allowTableEditing",allowEditing.isSelected());
  _prefs.putBoolean("ctrlClick",ctrlClick.isSelected());
  _prefs.putBoolean("autoDoubleBraces",autoDoubleBraces.isSelected());
  _prefs.putBoolean("useImportInspectionDialog",useImportInspector.isSelected());
  _prefs.putBoolean("useImportInspectionDialogForSingle",useImportInspectorForSingle.isSelected());
  _prefs.putBoolean("warnAboutDuplicatesInInspection",inspectionWarnDupli.isSelected());
  _prefs.put("defaultOwner",defOwnerField.getText().trim());
  _prefs.put("timeStampFormat",timeStampFormat.getText().trim());
  _prefs.put("timeStampField",timeStampField.getText().trim());
  _prefs.put("defaultEncoding",(String)encodings.getSelectedItem());
  boolean oldShowSource=_prefs.getBoolean("showSource");
  _prefs.putBoolean("showSource",showSource.isSelected());
  if (oldShowSource != showSource.isSelected()) {
    for (int j=0; j < _frame.getTabbedPane().getTabCount(); j++) {
      BasePanel bp=(BasePanel)_frame.getTabbedPane().getComponentAt(j);
      bp.entryEditors.clear();
    }
  }
  if (!GUIGlobals.LANGUAGES.get(language.getSelectedItem()).equals(_prefs.get("language"))) {
    _prefs.put("language",GUIGlobals.LANGUAGES.get(language.getSelectedItem()).toString());
    Globals.setLanguage(GUIGlobals.LANGUAGES.get(language.getSelectedItem()).toString(),"");
    JOptionPane.showMessageDialog(null,Globals.lang("You have changed the language setting. " + "You must restart JabRef for this to come into effect."),Globals.lang("Changed language settings"),JOptionPane.WARNING_MESSAGE);
  }
  try {
    int size=Integer.parseInt(fontSize.getText());
    if (size != oldMenuFontSize) {
      _prefs.putInt("menuFontSize",size);
      JOptionPane.showMessageDialog(null,Globals.lang("You have changed the menu and label font size. " + "You must restart JabRef for this to come into effect."),Globals.lang("Changed font settings"),JOptionPane.WARNING_MESSAGE);
    }
  }
 catch (  NumberFormatException ex) {
    ex.printStackTrace();
  }
}
