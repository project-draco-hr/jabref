{
  searchButton=new JSplitButton(GUIGlobals.getImage("search"));
  searchButton.setMinimumSize(new Dimension(50,25));
  searchButton.setBackground(searchField.getBackground());
  searchButton.setContentAreaFilled(false);
  searchButton.setOpaque(true);
  searchButton.addSplitButtonActionListener(new SplitButtonActionListener(){
    public void buttonClicked(    ActionEvent e){
      actionPerformed(e);
    }
    public void splitButtonClicked(    ActionEvent e){
    }
  }
);
  popupMenu=new JPopupMenu("");
  escape=new JMenuItem(Globals.lang("Clear results"));
  escape.addActionListener(this);
  popupMenu.add(escape);
  popupMenu.addSeparator();
  initSearchModeMenu();
  for (  SearchMode mode : SearchMode.values()) {
    popupMenu.add(getSearchModeMenuItem(mode));
  }
  popupMenu.addSeparator();
  initSearchSettingsMenu();
  popupMenu.add(settings);
  JMenuItem help=new JMenuItem(Globals.lang("Help"),GUIGlobals.getImage("help"));
  help.addActionListener(new HelpAction(Globals.helpDiag,GUIGlobals.searchHelp,Globals.lang("Help")));
  popupMenu.add(help);
  searchButton.setPopupMenu(popupMenu);
}
