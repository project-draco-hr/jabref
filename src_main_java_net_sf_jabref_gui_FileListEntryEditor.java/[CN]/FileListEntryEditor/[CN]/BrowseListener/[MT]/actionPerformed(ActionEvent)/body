{
  File initial=new File(comp.getText().trim());
  if (comp.getText().trim().length() == 0) {
    initial=new File(Globals.prefs.get("fileWorkingDirectory"));
  }
  String chosen=FileDialogs.getNewFile(parent,initial,Globals.NONE,JFileChooser.OPEN_DIALOG,false);
  if (chosen != null) {
    File newFile=new File(chosen);
    Globals.prefs.put("fileWorkingDirectory",newFile.getParent());
    String[] dirsS=metaData.getFileDirectory(GUIGlobals.FILE_FIELD);
    newFile=Util.shortenFileName(newFile,dirsS);
    comp.setText(newFile.getPath());
    comp.requestFocus();
  }
}
