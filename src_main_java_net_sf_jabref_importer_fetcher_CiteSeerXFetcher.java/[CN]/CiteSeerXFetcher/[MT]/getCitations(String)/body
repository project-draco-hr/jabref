{
  String urlQuery;
  ArrayList<String> ids=new ArrayList<String>();
  try {
    urlQuery=CiteSeerXFetcher.SEARCH_URL.replace(CiteSeerXFetcher.QUERY_MARKER,URLEncoder.encode(query,"UTF-8"));
    int count=1;
    String nextPage;
    while ((nextPage=getCitationsFromUrl(urlQuery,ids)) != null && count < CiteSeerXFetcher.MAX_PAGES_TO_LOAD) {
      urlQuery=nextPage;
      count++;
      if (stopFetching) {
        break;
      }
    }
    return ids;
  }
 catch (  UnsupportedEncodingException e) {
    throw new RuntimeException(e);
  }
}
