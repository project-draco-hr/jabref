{
  keyPattern=pattern;
  LabelPattern parent=pattern.getParent();
  if (parent == null)   return;
  Preferences pre=Preferences.userNodeForPackage(net.sf.jabref.labelPattern.LabelPattern.class);
  try {
    pre.clear();
  }
 catch (  BackingStoreException ex) {
    Globals.logger("BackingStoreException in JabRefPreferences.putKeyPattern");
  }
  for (  String s : pattern.keySet()) {
    if (!(pattern.get(s)).equals(parent.get(s)))     pre.put(s,pattern.getValue(s).get(0).toString());
  }
}
