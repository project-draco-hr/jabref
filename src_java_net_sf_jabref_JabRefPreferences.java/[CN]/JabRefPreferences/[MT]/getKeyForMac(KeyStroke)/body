{
  if (ks == null)   return null;
  int keyCode=ks.getKeyCode();
  if ((ks.getModifiers() & KeyEvent.CTRL_MASK) == 0) {
    return ks;
  }
 else {
    int modifiers=0;
    if ((ks.getModifiers() & KeyEvent.SHIFT_MASK) != 0) {
      modifiers=modifiers | KeyEvent.SHIFT_MASK;
    }
    if ((ks.getModifiers() & KeyEvent.ALT_MASK) != 0) {
      modifiers=modifiers | KeyEvent.ALT_MASK;
    }
    return KeyStroke.getKeyStroke(keyCode,Globals.getShortcutMask() + modifiers);
  }
}
