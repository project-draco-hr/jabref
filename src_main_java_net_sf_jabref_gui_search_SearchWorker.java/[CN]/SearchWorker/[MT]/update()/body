{
  if (!basePanel.getSearchBar().isStillValidQuery(searchQuery)) {
    return;
  }
  for (  BibEntry entry : basePanel.getDatabase().getEntries()) {
    entry.setSearchHit(false);
  }
  for (  BibEntry entry : this.matchedEntries) {
    entry.setSearchHit(true);
  }
  basePanel.stopShowingFloatSearch();
  basePanel.getFilterSearchToggle().stop();
switch (mode) {
case FLOAT:
    basePanel.getFilterSearchToggle().stop();
  basePanel.startShowingFloatSearch();
break;
case FILTER:
basePanel.stopShowingFloatSearch();
basePanel.getFilterSearchToggle().start();
break;
}
int hits=this.matchedEntries.size();
if ((hits > 0) && (basePanel.mainTable.getRowCount() > 0)) {
basePanel.mainTable.setSelected(0);
}
basePanel.getSearchBar().updateResults(hits,searchQuery.getDescription(),searchQuery.isGrammarBasedSearch());
basePanel.getSearchBar().getSearchQueryHighlightObservable().fireSearchlistenerEvent(searchQuery);
}
