{
  if (!basePanel.getSearchBar().isStillValidQuery(searchQuery)) {
    return;
  }
  for (  BibEntry entry : basePanel.getDatabase().getEntries()) {
    entry.setSearchHit(false);
  }
  for (  BibEntry entry : matchedEntries) {
    entry.setSearchHit(true);
  }
  basePanel.mainTable.getTableModel().updateSearchState(MainTableDataModel.DisplayOption.DISABLED);
switch (mode) {
case FLOAT:
    basePanel.mainTable.getTableModel().updateSearchState(MainTableDataModel.DisplayOption.FLOAT);
  break;
case FILTER:
basePanel.mainTable.getTableModel().updateSearchState(MainTableDataModel.DisplayOption.FILTER);
break;
default :
break;
}
int hits=matchedEntries.size();
if ((hits > 0) && (basePanel.mainTable.getRowCount() > 0)) {
basePanel.mainTable.setSelected(0);
}
basePanel.getSearchBar().updateResults(hits,searchQuery.getDescription(),searchQuery.isGrammarBasedSearch());
basePanel.getSearchBar().getSearchQueryHighlightObservable().fireSearchlistenerEvent(searchQuery);
}
