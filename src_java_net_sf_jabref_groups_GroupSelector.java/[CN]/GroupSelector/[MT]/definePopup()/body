{
  gropt.add(modifyAction);
  gropt.add(new AbstractAction("Remove"){
    public void actionPerformed(    ActionEvent e){
      String gname=(String)groups.elementAt(OFFSET + DIM * (list.getSelectedIndex() - 1) + 1);
      int conf=JOptionPane.showConfirmDialog(frame,"Remove group '" + gname + "'?","Remove group",JOptionPane.YES_NO_OPTION);
      if (conf == JOptionPane.YES_OPTION) {
        try {
          int index=OFFSET + DIM * (list.getSelectedIndex() - 1);
          String field=(String)groups.elementAt(index), name=(String)groups.elementAt(index + 1), regexp=(String)groups.elementAt(index + 2);
          for (int i=0; i < DIM; i++)           groups.removeElementAt(index);
          revalidateList();
          panel.undoManager.addEdit(new UndoableAddOrRemoveGroup(ths,groups,index,false,field,name,regexp));
          panel.markBaseChanged();
          frame.output("Removed group '" + name + "'.");
        }
 catch (        ArrayIndexOutOfBoundsException ex) {
          System.err.println("Unexpected error when " + "trying to remove group.");
        }
      }
    }
  }
);
  list.addMouseListener(new MouseAdapter(){
    public void mousePressed(    MouseEvent e){
      int index=list.locationToIndex(e.getPoint());
      if (index == 0)       list.setSelectedIndex(0);
    }
    public void mouseClicked(    MouseEvent e){
      int index=list.locationToIndex(e.getPoint());
      if (e.getButton() == MouseEvent.BUTTON3) {
        if ((index > 0) && (index < list.getModel().getSize())) {
          list.setSelectedIndex(index);
          gropt.show(list,e.getPoint().x,list.indexToLocation(index).y);
        }
      }
 else {
        if ((index > 0) && (e.getClickCount() == 2)) {
          modifyAction.actionPerformed(new ActionEvent(list,0,"Modify"));
        }
      }
    }
  }
);
}
