{
  super.setActiveBasePanel(panel);
  if (panel == null) {
    if (frame.sidePaneManager.isPanelVisible("groups"))     frame.sidePaneManager.togglePanel("groups");
    return;
  }
  MetaData metaData=panel.metaData();
  if (metaData.getGroups() != null) {
    setGroups(metaData.getGroups());
  }
 else {
    metaData.setGroups(groupsRoot);
    setGroups(groupsRoot);
  }
  validateTree();
}
