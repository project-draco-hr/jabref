{
  TreePath path=groupsTree.getPathForLocation(e.getPoint().x,e.getPoint().y);
  if (path == null)   return;
  groupsTree.setSelectionPath(path);
  GroupTreeNode node=(GroupTreeNode)path.getLastPathComponent();
  AbstractGroup group=node.getGroup();
  if (group instanceof AllEntriesGroup) {
    editGroupAction.setEnabled(false);
    removeGroupAndSubgroupsAction.setEnabled(false);
    removeGroupKeepSubgroupsAction.setEnabled(false);
    moveNodeUp.setEnabled(false);
    moveNodeDown.setEnabled(false);
    moveNodeLeft.setEnabled(false);
    moveNodeRight.setEnabled(false);
  }
 else {
    editGroupAction.setEnabled(true);
    removeGroupAndSubgroupsAction.setEnabled(true);
    removeGroupKeepSubgroupsAction.setEnabled(true);
    moveNodeUp.setEnabled(node.getPreviousSibling() != null);
    moveNodeDown.setEnabled(node.getNextSibling() != null);
    moveNodeLeft.setEnabled(node.getParent() != groupsRoot);
    moveNodeRight.setEnabled(node.getPreviousSibling() != null);
  }
  groupsContextMenu.show(groupsTree,e.getPoint().x,e.getPoint().y);
}
