{
  if (e.getSource() == refresh) {
    valueChanged(new ListSelectionEvent(list,1,2,false));
  }
  if (e.getSource() == newButton) {
    GroupDialog gd=new GroupDialog(frame,groups,-1,prefs.get("groupsDefaultField"));
    gd.show();
    if (gd.okPressed()) {
      revalidateList((gd.index() - OFFSET) / DIM + 1);
      int index=gd.index();
      panel.undoManager.addEdit(new UndoableAddOrRemoveGroup(this,groups,index,true,(String)groups.elementAt(index),(String)groups.elementAt(index + 1),(String)groups.elementAt(index + 2)));
      panel.markBaseChanged();
      frame.output(Globals.lang("Created group") + " '" + gd.name()+ "'.");
    }
  }
  if (e.getSource() == autoGroup) {
    AutoGroupDialog gd=new AutoGroupDialog(frame,panel,this,groups,prefs.get("groupsDefaultField")," .,");
    gd.show();
    if (gd.okPressed()) {
    }
  }
 else   if (e.getSource() instanceof JCheckBox) {
    valueChanged(new ListSelectionEvent(list,1,2,false));
  }
}
