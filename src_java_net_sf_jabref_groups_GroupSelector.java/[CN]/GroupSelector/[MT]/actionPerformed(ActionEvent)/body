{
  if (e.getSource() == refresh) {
    valueChanged(null);
  }
 else   if (e.getSource() == newButton) {
    GroupDialog gd=new GroupDialog(frame,panel,null);
    gd.show();
    if (gd.okPressed()) {
      AbstractGroup newGroup=gd.getResultingGroup();
      GroupTreeNode newNode=new GroupTreeNode(newGroup);
      groupsRoot.add(newNode);
      revalidateGroups();
      UndoableAddOrRemoveGroup undo=new UndoableAddOrRemoveGroup(GroupSelector.this,groupsRoot,newNode,UndoableAddOrRemoveGroup.ADD_NODE);
      panel.undoManager.addEdit(undo);
      panel.markBaseChanged();
      frame.output(Globals.lang("Created group") + " '" + newGroup.getName()+ "'.");
    }
  }
 else   if (e.getSource() == autoGroup) {
    AutoGroupDialog gd=new AutoGroupDialog(frame,panel,GroupSelector.this,groupsRoot,Globals.prefs.get("groupsDefaultField")," .,",",");
    gd.show();
  }
 else   if (e.getSource() instanceof JCheckBox) {
    valueChanged(null);
  }
}
