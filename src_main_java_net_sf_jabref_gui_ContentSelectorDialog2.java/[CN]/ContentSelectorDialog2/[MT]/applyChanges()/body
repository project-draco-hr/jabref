{
  boolean changedFieldSet=false;
  for (  String fieldName : removedFields) {
    metaData.clearContentSelectors(fieldName);
    changedFieldSet=true;
  }
  for (  Map.Entry<String,DefaultListModel<String>> entry : wordListModels.entrySet()) {
    if ((entry.getKey() == null) || FIELD_FIRST_LINE.equals(entry.getKey())) {
      continue;
    }
    DefaultListModel<String> lm=entry.getValue();
    int start=0;
    if (!lm.isEmpty()) {
      while ((start < lm.size()) && lm.get(start).equals(WORD_FIRSTLINE_TEXT)) {
        start++;
      }
    }
    if (metaData.getContentSelectors(entry.getKey()).isEmpty()) {
      changedFieldSet=true;
      List<String> data=new ArrayList<>();
      for (int wrd=start; wrd < lm.size(); wrd++) {
        String word=lm.get(wrd);
        data.add(word);
      }
      metaData.setContentSelectors(entry.getKey(),data);
    }
  }
  panel.markNonUndoableBaseChanged();
  if (changedFieldSet) {
    panel.rebuildAllEntryEditors();
  }
 else {
    panel.updateAllContentSelectors();
  }
  panel.getAutoCompleters().addContentSelectorValuesToAutoCompleters(panel.getBibDatabaseContext().getMetaData());
}
