{
  MetaDataChange mdc=new MetaDataChange(inMem,inTemp);
  ArrayList<String> handledOnDisk=new ArrayList<String>();
  for (Iterator i=inTemp.iterator(); i.hasNext(); ) {
    String key=(String)i.next();
    Vector<String> vod=onDisk.getData(key);
    if (vod == null) {
      mdc.insertMetaDataRemoval(key);
    }
 else {
      Vector<String> vit=inTemp.getData(key);
      if (!vod.equals(vit))       mdc.insertMetaDataChange(key,vod);
      handledOnDisk.add(key);
    }
  }
  for (Iterator i=onDisk.iterator(); i.hasNext(); ) {
    String key=(String)i.next();
    if (!handledOnDisk.contains(key)) {
      mdc.insertMetaDataAddition(key,onDisk.getData(key));
    }
  }
  if (mdc.getChangeCount() > 0)   changes.add(mdc);
}
