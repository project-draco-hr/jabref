{
  boolean doCount=true;
  SearchResult result=new SearchResult();
  try {
    URIBuilder uriBuilder=new URIBuilder(API_MEDLINE_SEARCH);
    uriBuilder.addParameter("db","pubmed");
    uriBuilder.addParameter("retmax",Integer.toString(pacing));
    uriBuilder.addParameter("retstart",Integer.toString(start));
    uriBuilder.addParameter("term",term);
    URL ncbi=uriBuilder.build().toURL();
    BufferedReader in=new BufferedReader(new InputStreamReader(ncbi.openStream()));
    String inLine;
    while ((inLine=in.readLine()) != null) {
      Matcher idMatcher=ID_PATTERN.matcher(inLine);
      if (idMatcher.find()) {
        result.addID(idMatcher.group(1));
      }
      Matcher retMaxMatcher=RET_MAX_PATTERN.matcher(inLine);
      if (retMaxMatcher.find()) {
        result.retmax=Integer.parseInt(retMaxMatcher.group(1));
      }
      Matcher retStartMatcher=RET_START_PATTERN.matcher(inLine);
      if (retStartMatcher.find()) {
        result.retstart=Integer.parseInt(retStartMatcher.group(1));
      }
      Matcher countMatcher=COUNT_PATTERN.matcher(inLine);
      if (doCount && countMatcher.find()) {
        result.count=Integer.parseInt(countMatcher.group(1));
        doCount=false;
      }
    }
  }
 catch (  URISyntaxException|MalformedURLException e) {
    LOGGER.warn("Bad url",e);
  }
catch (  IOException e) {
    LOGGER.warn("Connection failed",e);
  }
  return result;
}
