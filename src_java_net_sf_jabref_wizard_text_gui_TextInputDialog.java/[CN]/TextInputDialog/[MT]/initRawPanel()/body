{
  rawPanel.setLayout(new BorderLayout());
  textPane=new JTextPane();
  textPane.setEditable(false);
  doc=textPane.getStyledDocument();
  addStylesToDocument(doc);
  try {
    doc.insertString(0,"",doc.getStyle("regular"));
  }
 catch (  Exception e) {
  }
  testPanel=new OverlayPanel(textPane,Globals.lang("Text_Input_Area"));
  testPanel.setPreferredSize(new Dimension(450,255));
  testPanel.setMaximumSize(new Dimension(450,Integer.MAX_VALUE));
  PasteAction pasteAction=new PasteAction();
  JMenuItem pasteMI=new JMenuItem(pasteAction);
  inputMenu.add(new MenuHeaderAction());
  inputMenu.addSeparator();
  inputMenu.add(pasteMI);
  MouseListener popupListener=new PopupListener(inputMenu);
  textPane.addMouseListener(popupListener);
  testPanel.addMouseListener(popupListener);
  JToolBar toolBar=new JToolBar();
  toolBar.add(new ClearAction());
  toolBar.setBorderPainted(false);
  toolBar.addSeparator();
  toolBar.add(pasteAction);
  toolBar.add(new LoadAction());
  JPanel leftPanel=new JPanel(new BorderLayout());
  leftPanel.add(toolBar,BorderLayout.NORTH);
  leftPanel.add(testPanel,BorderLayout.CENTER);
  JPanel inputPanel=new JPanel();
  GridBagLayout gbl=new GridBagLayout();
  GridBagConstraints con=new GridBagConstraints();
  con.weightx=0;
  con.insets=new Insets(5,5,0,5);
  con.fill=GridBagConstraints.HORIZONTAL;
  inputPanel.setLayout(gbl);
  TitledBorder titledBorder1=new TitledBorder(BorderFactory.createLineBorder(new Color(153,153,153),2),Globals.lang("Input"));
  inputPanel.setBorder(titledBorder1);
  inputPanel.setMinimumSize(new Dimension(10,10));
  fieldList=new JList(getAllFields());
  fieldList.setCellRenderer(new SimpleCellRenderer(fieldList.getFont()));
  ListSelectionModel listSelectionModel=fieldList.getSelectionModel();
  listSelectionModel.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);
  listSelectionModel.addListSelectionListener(new FieldListSelectionHandler());
  fieldList.addMouseListener(new FieldListMouseListener());
  JScrollPane fieldScroller=new JScrollPane(fieldList);
  fieldScroller.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED);
  insertButton.setText(Globals.lang("Insert"));
  insertButton.addActionListener(this);
  appRadio=new JRadioButton(Globals.lang("Append"));
  appRadio.setToolTipText("append the selected text to bibtex key");
  appRadio.setMnemonic(KeyEvent.VK_A);
  appRadio.setSelected(true);
  overRadio=new JRadioButton(Globals.lang("Override"));
  overRadio.setToolTipText("override the bibtex key by the selected text");
  overRadio.setMnemonic(KeyEvent.VK_O);
  overRadio.setSelected(false);
  ButtonGroup group=new ButtonGroup();
  group.add(appRadio);
  group.add(overRadio);
  JPanel radioPanel=new JPanel(new GridLayout(0,1));
  radioPanel.add(appRadio);
  radioPanel.add(overRadio);
  JLabel label1=new JLabel(Globals.lang("Available fields"));
  con.gridwidth=GridBagConstraints.REMAINDER;
  gbl.setConstraints(label1,con);
  inputPanel.add(label1);
  con.gridwidth=GridBagConstraints.REMAINDER;
  con.gridheight=8;
  con.weighty=1;
  con.fill=GridBagConstraints.BOTH;
  gbl.setConstraints(fieldScroller,con);
  inputPanel.add(fieldScroller);
  con.fill=GridBagConstraints.HORIZONTAL;
  con.weighty=0;
  con.gridwidth=2;
  gbl.setConstraints(radioPanel,con);
  inputPanel.add(radioPanel);
  con.gridwidth=GridBagConstraints.REMAINDER;
  gbl.setConstraints(insertButton,con);
  inputPanel.add(insertButton);
  rawPanel.add(leftPanel,BorderLayout.CENTER);
  rawPanel.add(inputPanel,BorderLayout.EAST);
  JEditorPane infoText=new JEditorPane();
  infoText.setEditable(false);
  infoText.setBackground(GUIGlobals.infoField);
  infoText.setBorder(new EtchedBorder(EtchedBorder.LOWERED));
  infoText.setPreferredSize(new Dimension(220,50));
  infoText.setMinimumSize(new Dimension(180,50));
  infoText.setText(Globals.lang("This_is_a_simple_copy_and_paste_dialog._First_load_or_paste_some_" + "text_into_the_text_input_area._After_that,_you_can_mark_text_and_assign_it_to_a_bibtex_field."));
  rawPanel.add(infoText,BorderLayout.SOUTH);
}
