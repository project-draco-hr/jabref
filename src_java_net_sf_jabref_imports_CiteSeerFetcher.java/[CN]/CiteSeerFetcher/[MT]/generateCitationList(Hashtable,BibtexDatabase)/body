{
  try {
    if ((citationHashTable != null) && (citationHashTable.size() > 0)) {
      int citationCounter=0;
      for (Enumeration e=citationHashTable.keys(); e.hasMoreElements(); ) {
        String key=(String)e.nextElement();
        String id=Util.createId(BibtexEntryType.ARTICLE,database);
        BibtexEntry newEntry=new BibtexEntry(id);
        StringBuffer citeseerURLString=new StringBuffer();
        citeseerURLString.append(OAI_URL);
        citeseerURLString.append(OAI_ACTION);
        citeseerURLString.append("&" + OAI_METADATAPREFIX);
        citeseerURLString.append("&" + "identifier=" + key);
        GetMethod citeseerMethod=new GetMethod(citeseerURLString.toString());
        citeseerHttpClient.executeMethod(citeseerMethod);
        saxParser.parse(citeseerMethod.getResponseBodyAsStream(),new CiteSeerImportHandler(newEntry));
        citeseerMethod.releaseConnection();
        database.insertEntry(newEntry);
        citationHashTable.put(key,newEntry);
        citationCounter++;
        UpdateProgressBarValue updateValue=new UpdateProgressBarValue(citationCounter);
        SwingUtilities.invokeLater(updateValue);
      }
    }
  }
 catch (  HttpException e) {
    System.out.println("HttpException: " + e.getReason());
    e.printStackTrace();
  }
catch (  SAXException e) {
    System.out.println("SAXException: " + e.getLocalizedMessage());
    e.printStackTrace();
  }
catch (  IOException e) {
    ShowNoConnectionDialog dialog=new ShowNoConnectionDialog(OAI_HOST);
    SwingUtilities.invokeLater(dialog);
  }
catch (  KeyCollisionException e) {
    e.printStackTrace();
  }
  return citationHashTable;
}
