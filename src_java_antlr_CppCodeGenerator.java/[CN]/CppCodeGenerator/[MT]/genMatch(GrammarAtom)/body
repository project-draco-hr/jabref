{
  if (atom instanceof StringLiteralElement) {
    if (grammar instanceof LexerGrammar) {
      genMatchUsingAtomText(atom);
    }
 else {
      genMatchUsingAtomTokenType(atom);
    }
  }
 else   if (atom instanceof CharLiteralElement) {
    antlrTool.error("cannot ref character literals in grammar: " + atom);
  }
 else   if (atom instanceof TokenRefElement) {
    genMatchUsingAtomTokenType(atom);
  }
 else   if (atom instanceof WildcardElement) {
    gen((WildcardElement)atom);
  }
}
