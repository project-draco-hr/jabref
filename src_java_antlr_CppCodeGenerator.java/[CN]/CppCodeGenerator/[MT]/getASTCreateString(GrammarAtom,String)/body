{
  if (atom != null && atom.getASTNodeType() != null) {
    astTypes.ensureCapacity(atom.getType());
    astTypes.setElementAt(atom.getASTNodeType(),atom.getType());
    return "astFactory->create(" + str + ")";
  }
 else {
    boolean is_constructor=false;
    if (str.indexOf(',') != -1)     is_constructor=grammar.tokenManager.tokenDefined(str.substring(0,str.indexOf(',')));
    if (usingCustomAST && (grammar instanceof TreeWalkerGrammar) && !(grammar.tokenManager.tokenDefined(str))&& !is_constructor)     return "astFactory->create(" + namespaceAntlr + "RefAST("+ str+ "))";
 else     return "astFactory->create(" + str + ")";
  }
}
