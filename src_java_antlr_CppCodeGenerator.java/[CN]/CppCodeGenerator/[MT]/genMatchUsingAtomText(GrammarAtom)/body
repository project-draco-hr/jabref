{
  String astArgs="";
  if (grammar instanceof TreeWalkerGrammar) {
    if (usingCustomAST)     astArgs=namespaceAntlr + "RefAST" + "(_t),";
 else     astArgs="_t,";
  }
  if (grammar instanceof LexerGrammar && (!saveText || atom.getAutoGenType() == GrammarElement.AUTO_GEN_BANG)) {
    println("_saveIndex = text.length();");
  }
  print(atom.not ? "matchNot(" : "match(");
  _print(astArgs);
  if (atom.atomText.equals("EOF")) {
    _print(namespaceAntlr + "Token::EOF_TYPE");
  }
 else {
    if (grammar instanceof LexerGrammar) {
      String cppstring=convertJavaToCppString(atom.atomText,false);
      _print(cppstring);
    }
 else     _print(atom.atomText);
  }
  _println(");");
  if (grammar instanceof LexerGrammar && (!saveText || atom.getAutoGenType() == GrammarElement.AUTO_GEN_BANG)) {
    println("text.erase(_saveIndex);");
  }
}
