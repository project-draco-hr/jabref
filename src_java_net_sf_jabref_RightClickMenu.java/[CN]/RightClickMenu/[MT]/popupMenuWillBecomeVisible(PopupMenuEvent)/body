{
  BibtexEntry[] bes=panel.entryTable.getSelectedEntries();
  panel.storeCurrentEdit();
  GroupTreeNode groups=metaData.getGroups();
  if (groups == null) {
    groupAddMenu.setEnabled(false);
    groupMoveMenu.setEnabled(false);
    groupRemoveMenu.setEnabled(false);
    return;
  }
  groupAddMenu.setEnabled(true);
  groupMoveMenu.setEnabled(true);
  groupRemoveMenu.setEnabled(true);
  groupAddMenu.removeAll();
  groupMoveMenu.removeAll();
  groupRemoveMenu.removeAll();
  if (bes == null)   return;
  add(groupAddMenu);
  add(groupMoveMenu);
  add(groupRemoveMenu);
  groupAddMenu.setEnabled(false);
  groupMoveMenu.setEnabled(false);
  groupRemoveMenu.setEnabled(false);
  insertNodes(groupAddMenu,metaData.getGroups(),bes,true,false);
  insertNodes(groupMoveMenu,metaData.getGroups(),bes,true,true);
  insertNodes(groupRemoveMenu,metaData.getGroups(),bes,false,false);
}
