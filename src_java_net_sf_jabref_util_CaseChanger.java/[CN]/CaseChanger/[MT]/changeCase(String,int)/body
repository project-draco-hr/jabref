{
switch (mode) {
case UPPER:
    return input.toUpperCase();
case LOWER:
  return input.toLowerCase();
case UPPER_FIRST:
{
  String s=input.toLowerCase();
  Matcher matcher=UF_PATTERN.matcher(s);
  if (matcher.find()) {
    return matcher.replaceFirst(matcher.group(0).toUpperCase());
  }
 else {
    return input;
  }
}
case UPPER_EACH_FIRST:
{
String s=input.toLowerCase();
StringBuffer sb=new StringBuffer();
boolean found=false;
Matcher matcher=UF_PATTERN.matcher(s);
while (matcher.find()) {
  matcher.appendReplacement(sb,matcher.group(0).toUpperCase());
  found=true;
}
if (found) {
  matcher.appendTail(sb);
  return sb.toString();
}
 else {
  return input;
}
}
default :
return input;
}
}
