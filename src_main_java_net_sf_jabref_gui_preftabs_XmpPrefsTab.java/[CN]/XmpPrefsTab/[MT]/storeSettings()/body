{
  if (table.isEditing()) {
    int col=table.getEditingColumn();
    int row=table.getEditingRow();
    table.getCellEditor(row,col).stopCellEditing();
  }
  if (tableChanged || (privacyFilterCheckBox.isSelected() && !Globals.prefs.hasKey(JabRefPreferences.XMP_PRIVACY_FILTERS))) {
    for (int i=tableRows.size() - 1; i >= 0; i--) {
      if (tableRows.elementAt(i).equals("")) {
        tableRows.removeElementAt(i);
      }
    }
    JabRefPreferences.getInstance().putStringArray(JabRefPreferences.XMP_PRIVACY_FILTERS,tableRows.toArray(new String[tableRows.size()]));
  }
  JabRefPreferences.getInstance().putBoolean(JabRefPreferences.USE_XMP_PRIVACY_FILTER,privacyFilterCheckBox.isSelected());
}
