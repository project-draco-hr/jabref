{
  List<BibtexString> strings=new ArrayList<BibtexString>();
  for (  String s : database.getStringKeySet()) {
    strings.add(database.getString(s));
  }
  Collections.sort(strings,new BibtexStringComparator(false));
  HashMap<String,BibtexString> remaining=new HashMap<String,BibtexString>();
  for (Iterator<BibtexString> i=strings.iterator(); i.hasNext(); ) {
    BibtexString string=i.next();
    remaining.put(string.getName(),string);
  }
  for (Iterator<BibtexString> i=strings.iterator(); i.hasNext(); ) {
    BibtexString bs=i.next();
    if (remaining.containsKey(bs.getName()))     writeString(fw,bs,remaining);
  }
}
