{
switch (c) {
case '\n':
    return "\\n";
case '\t':
  return "\\t";
case '\r':
return "\\r";
case '\\':
return "\\\\";
case '\'':
return forCharLiteral ? "\\'" : "'";
case '"':
return forCharLiteral ? "\"" : "\\\"";
default :
if (c < ' ' || c > 126) {
if (c > 255) {
String s=Integer.toString(c,16);
while (s.length() < 4) s='0' + s;
return "\\u" + s;
}
 else {
return "\\" + Integer.toString(c,8);
}
}
 else {
return String.valueOf((char)c);
}
}
}
