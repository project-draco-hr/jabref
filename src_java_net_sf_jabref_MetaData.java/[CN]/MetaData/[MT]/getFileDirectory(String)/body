{
  String key=Globals.prefs.get("userFileDir");
  String dir;
  Vector<String> vec=getData(key);
  if ((vec != null) && (vec.size() > 0)) {
    dir=vec.get(0);
    if (!(new File(dir)).isAbsolute() && (file != null)) {
      String relDir=new StringBuffer(file.getParent()).append(System.getProperty("file.separator")).append(dir).toString();
      if ((new File(relDir)).exists())       dir=relDir;
    }
  }
 else {
    dir=Globals.prefs.get(fieldName + "Directory");
  }
  return dir;
}
