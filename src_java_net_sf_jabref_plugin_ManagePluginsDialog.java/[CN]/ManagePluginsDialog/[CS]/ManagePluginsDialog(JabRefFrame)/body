{
  this.frame=frame;
  diag=new JDialog(frame,Globals.lang("Plugin manager"),false);
  table=new JTable();
  buildList();
  diag.getContentPane().add(new JScrollPane(table),BorderLayout.CENTER);
  ButtonBarBuilder b=new ButtonBarBuilder();
  b.addGlue();
  b.addGridded(install);
  b.addGridded(remove);
  b.addRelatedGap();
  b.addGridded(close);
  b.addGlue();
  b.getPanel().setBorder(BorderFactory.createEmptyBorder(5,5,5,5));
  diag.getContentPane().add(b.getPanel(),BorderLayout.SOUTH);
  diag.pack();
  diag.setLocationRelativeTo(frame);
  install.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent arg0){
      installPlugin();
    }
  }
);
  Action closeListener=new AbstractAction(){
    public void actionPerformed(    ActionEvent arg0){
      diag.dispose();
    }
  }
;
  close.addActionListener(closeListener);
  remove.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent arg0){
      removeSelected();
    }
  }
);
  ActionMap am=b.getPanel().getActionMap();
  InputMap im=b.getPanel().getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW);
  im.put(Globals.prefs.getKey("Close dialog"),"close");
  am.put("close",closeListener);
}
