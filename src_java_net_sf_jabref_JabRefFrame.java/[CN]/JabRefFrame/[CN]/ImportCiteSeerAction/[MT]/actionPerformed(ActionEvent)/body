{
  if (basePanel().citeSeerFetcher.activateImportFetcher()) {
    (new Thread(){
      BasePanel currentBp;
      String id;
      Runnable updateComponent=new Runnable(){
        public void run(){
          currentBp.citeSeerFetcher.endImportCiteSeerProgress();
          currentBp.refreshTable();
          currentBp.updateEntryEditorIfShowing();
          int row=currentBp.tableModel.getNumberFromName(id);
          currentBp.entryTable.setRowSelectionInterval(row,row);
          currentBp.entryTable.scrollTo(row);
          currentBp.markBaseChanged();
          currentBp.updateWiewToSelected();
          output(Globals.lang("Fetched all citations from target database."));
        }
      }
;
      public void run(){
        currentBp=(BasePanel)tabbedPane.getSelectedComponent();
        int clickedOn=-1;
        int rowCount=currentBp.entryTable.getSelectedRowCount();
        if (rowCount == 1) {
          clickedOn=currentBp.entryTable.getSelectedRow();
        }
 else         if (rowCount > 1) {
          JOptionPane.showMessageDialog(currentBp.frame(),"The CiteSeer import functionality is currently " + "supported for only one row at a time.","CiteSeer Import Error",JOptionPane.WARNING_MESSAGE);
        }
 else {
          JOptionPane.showMessageDialog(currentBp.frame(),"You must select a row to perform the " + "CiteSeer import operation.","CiteSeer Import Error",JOptionPane.WARNING_MESSAGE);
        }
        if (clickedOn >= 0) {
          currentBp.citeSeerFetcher.beginImportCiteSeerProgress();
          id=currentBp.tableModel.getNameFromNumber(clickedOn);
          NamedCompound citeseerNamedCompound=new NamedCompound("CiteSeer Import Fields");
          BibtexEntry be=(BibtexEntry)currentBp.database.getEntryById(id);
          boolean newValue=currentBp.citeSeerFetcher.importCiteSeerEntry(be,citeseerNamedCompound);
          if (newValue) {
            citeseerNamedCompound.end();
            currentBp.undoManager.addEdit(citeseerNamedCompound);
            SwingUtilities.invokeLater(updateComponent);
          }
 else {
            currentBp.citeSeerFetcher.endImportCiteSeerProgress();
          }
        }
        basePanel().citeSeerFetcher.deactivateImportFetcher();
      }
    }
).start();
  }
 else {
    JOptionPane.showMessageDialog((BasePanel)tabbedPane.getSelectedComponent(),"A CiteSeer import operation is currently in progress. " + "  Please wait until it has finished.","CiteSeer Import Error",JOptionPane.WARNING_MESSAGE);
  }
}
