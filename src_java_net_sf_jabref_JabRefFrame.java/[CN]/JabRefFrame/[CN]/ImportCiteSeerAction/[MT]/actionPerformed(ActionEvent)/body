{
  if (basePanel().citeSeerFetcher.activateImportFetcher()) {
    (new Thread(){
      BasePanel currentBp;
      String id;
      Runnable updateComponent=new Runnable(){
        public void run(){
          currentBp.citeSeerFetcher.endImportCiteSeerProgress();
          currentBp.refreshTable();
          int row=currentBp.tableModel.getNumberFromName(id);
          currentBp.entryTable.setRowSelectionInterval(row,row);
          currentBp.entryTable.scrollTo(row);
          currentBp.markBaseChanged();
          currentBp.updateViewToSelected();
          output(Globals.lang("Completed citation import from CiteSeer."));
        }
      }
;
      public void run(){
        currentBp=(BasePanel)tabbedPane.getSelectedComponent();
        int clickedOn=-1;
        int rowCount=currentBp.entryTable.getSelectedRowCount();
        if (rowCount == 1) {
          clickedOn=currentBp.entryTable.getSelectedRow();
        }
 else         if (rowCount > 1) {
          JOptionPane.showMessageDialog(currentBp.frame(),Globals.lang("This operation cannot work on multiple rows."),Globals.lang("CiteSeer Import Error"),JOptionPane.WARNING_MESSAGE);
        }
 else {
          JOptionPane.showMessageDialog(currentBp.frame(),Globals.lang("You must select a row to perform this operation."),Globals.lang("CiteSeer Import Error"),JOptionPane.WARNING_MESSAGE);
        }
        if (clickedOn >= 0) {
          currentBp.citeSeerFetcher.beginImportCiteSeerProgress();
          id=currentBp.tableModel.getNameFromNumber(clickedOn);
          NamedCompound citeseerNamedCompound=new NamedCompound("CiteSeer Import Fields");
          BibtexEntry be=(BibtexEntry)currentBp.database.getEntryById(id);
          boolean newValue=currentBp.citeSeerFetcher.importCiteSeerEntry(be,citeseerNamedCompound);
          if (newValue) {
            citeseerNamedCompound.end();
            currentBp.undoManager.addEdit(citeseerNamedCompound);
            SwingUtilities.invokeLater(updateComponent);
          }
 else {
            currentBp.citeSeerFetcher.endImportCiteSeerProgress();
            output(Globals.lang("Citation import from CiteSeer failed."));
          }
        }
        basePanel().citeSeerFetcher.deactivateImportFetcher();
      }
    }
).start();
  }
 else {
    JOptionPane.showMessageDialog((BasePanel)tabbedPane.getSelectedComponent(),Globals.lang("A CiteSeer import operation is currently in progress.") + "  " + Globals.lang("Please wait until it has finished."),Globals.lang("CiteSeer Import Error"),JOptionPane.WARNING_MESSAGE);
  }
}
