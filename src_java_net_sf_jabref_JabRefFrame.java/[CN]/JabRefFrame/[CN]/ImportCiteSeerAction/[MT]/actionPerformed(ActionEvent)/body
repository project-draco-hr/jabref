{
  if (citeSeerFetcher.activateImportFetcher()) {
    (new Thread(){
      BasePanel currentBp;
      BibtexEntry toShow;
      int[] clickedOn=null;
class UpdateComponent implements Runnable {
        boolean changesMade;
        UpdateComponent(        boolean changesMade){
          this.changesMade=changesMade;
        }
        public void run(){
          citeSeerFetcher.endImportCiteSeerProgress();
          if (changesMade)           currentBp.markBaseChanged();
          currentBp.refreshTable();
          output(Globals.lang("Completed Import Fields from CiteSeer."));
        }
      }
      public void run(){
        currentBp=(BasePanel)tabbedPane.getSelectedComponent();
        int rowCount=currentBp.entryTable.getSelectedRowCount();
        if (rowCount >= 1) {
          clickedOn=currentBp.entryTable.getSelectedRows();
        }
 else {
          JOptionPane.showMessageDialog(currentBp.frame(),Globals.lang("You must select at least one row to perform this operation."),Globals.lang("CiteSeer Import Error"),JOptionPane.WARNING_MESSAGE);
        }
        toShow=currentBp.database().getEntryById(currentBp.getTableModel().getIdForRow(clickedOn[0]));
        if (clickedOn != null) {
          citeSeerFetcher.beginImportCiteSeerProgress();
          NamedCompound citeseerNamedCompound=new NamedCompound(Globals.lang("CiteSeer Import Fields"));
          boolean newValues=citeSeerFetcher.importCiteSeerEntries(clickedOn,citeseerNamedCompound);
          if (newValues) {
            citeseerNamedCompound.end();
            currentBp.undoManager.addEdit(citeseerNamedCompound);
          }
          UpdateComponent updateComponent=new UpdateComponent(newValues);
          SwingUtilities.invokeLater(updateComponent);
        }
        citeSeerFetcher.deactivateImportFetcher();
      }
    }
).start();
  }
 else {
    JOptionPane.showMessageDialog(tabbedPane.getSelectedComponent(),Globals.lang("A CiteSeer import operation is currently in progress.") + "  " + Globals.lang("Please wait until it has finished."),Globals.lang("CiteSeer Import Error"),JOptionPane.WARNING_MESSAGE);
  }
}
