{
  if (basePanel().citeSeerFetcher.activateImportFetcher()) {
    (new Thread(){
      BasePanel currentBp;
      String id;
      int[] clickedOn=null;
class UpdateComponent implements Runnable {
        boolean changesMade;
        UpdateComponent(        boolean changesMade){
          this.changesMade=changesMade;
        }
        public void run(){
          currentBp.citeSeerFetcher.endImportCiteSeerProgress();
          if (changesMade)           currentBp.markBaseChanged();
          currentBp.refreshTable();
          for (int i=0; i < clickedOn.length; i++)           currentBp.entryTable.addRowSelectionInterval(i,i);
          currentBp.updateViewToSelected();
          output(Globals.lang("Completed Import Fields from CiteSeer."));
        }
      }
      public void run(){
        currentBp=(BasePanel)tabbedPane.getSelectedComponent();
        int rowCount=currentBp.entryTable.getSelectedRowCount();
        if (rowCount >= 1) {
          clickedOn=currentBp.entryTable.getSelectedRows();
        }
 else {
          JOptionPane.showMessageDialog(currentBp.frame(),Globals.lang("You must select at least one row to perform this operation."),Globals.lang("CiteSeer Import Error"),JOptionPane.WARNING_MESSAGE);
        }
        if (clickedOn != null) {
          basePanel().citeSeerFetcher.beginImportCiteSeerProgress();
          NamedCompound citeseerNamedCompound=new NamedCompound("CiteSeer Import Fields");
          boolean newValues=basePanel().citeSeerFetcher.importCiteSeerEntries(clickedOn,citeseerNamedCompound);
          if (newValues) {
            citeseerNamedCompound.end();
            currentBp.undoManager.addEdit(citeseerNamedCompound);
          }
          UpdateComponent updateComponent=new UpdateComponent(newValues);
          SwingUtilities.invokeLater(updateComponent);
        }
        basePanel().citeSeerFetcher.deactivateImportFetcher();
      }
    }
).start();
  }
 else {
    JOptionPane.showMessageDialog((BasePanel)tabbedPane.getSelectedComponent(),Globals.lang("A CiteSeer import operation is currently in progress.") + "  " + Globals.lang("Please wait until it has finished."),Globals.lang("CiteSeer Import Error"),JOptionPane.WARNING_MESSAGE);
  }
}
