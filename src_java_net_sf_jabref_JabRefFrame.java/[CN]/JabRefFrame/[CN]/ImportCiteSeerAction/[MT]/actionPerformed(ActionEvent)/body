{
  if (basePanel().citeSeerFetcher.activateImportFetcher()) {
    (new Thread(){
      BasePanel currentBp;
      String id;
      Runnable updateComponent=new Runnable(){
        public void run(){
          currentBp.citeSeerFetcher.endImportCiteSeerProgress();
          currentBp.refreshTable();
          int row=currentBp.tableModel.getNumberFromName(id);
          currentBp.entryTable.setRowSelectionInterval(row,row);
          currentBp.entryTable.scrollTo(row);
          currentBp.markBaseChanged();
          currentBp.updateViewToSelected();
          output(Globals.lang("Completed citation import from CiteSeer."));
        }
      }
;
      public void run(){
        currentBp=(BasePanel)tabbedPane.getSelectedComponent();
        int[] clickedOn=null;
        int rowCount=currentBp.entryTable.getSelectedRowCount();
        if (rowCount >= 1) {
          clickedOn=currentBp.entryTable.getSelectedRows();
        }
 else {
          JOptionPane.showMessageDialog(currentBp.frame(),Globals.lang("You must select a row to perform this operation."),Globals.lang("CiteSeer Import Error"),JOptionPane.WARNING_MESSAGE);
        }
        if (clickedOn != null) {
          Vector clickedVector=new Vector();
          for (int i=0; i < clickedOn.length; i++)           clickedVector.add(new Integer(clickedOn[i]));
          Iterator clickedIterator=clickedVector.iterator();
          NamedCompound citeseerNamedCompound=new NamedCompound("CiteSeer Import Fields");
          BooleanAssign overwriteAll=new BooleanAssign(false);
          BooleanAssign overwriteNone=new BooleanAssign(false);
          while (clickedIterator.hasNext()) {
            int currentIndex=((Integer)clickedIterator.next()).intValue();
            currentBp.citeSeerFetcher.beginImportCiteSeerProgress();
            id=currentBp.tableModel.getNameFromNumber(currentIndex);
            BibtexEntry be=(BibtexEntry)currentBp.database.getEntryById(id);
            boolean newValue=currentBp.citeSeerFetcher.importCiteSeerEntry(be,citeseerNamedCompound,overwriteAll,overwriteNone);
            if (newValue) {
              SwingUtilities.invokeLater(updateComponent);
            }
 else {
              currentBp.citeSeerFetcher.endImportCiteSeerProgress();
              output(Globals.lang("Citation import from CiteSeer failed."));
            }
          }
          citeseerNamedCompound.end();
          currentBp.undoManager.addEdit(citeseerNamedCompound);
          basePanel().citeSeerFetcher.deactivateImportFetcher();
        }
      }
    }
).start();
  }
 else {
    JOptionPane.showMessageDialog((BasePanel)tabbedPane.getSelectedComponent(),Globals.lang("A CiteSeer import operation is currently in progress.") + "  " + Globals.lang("Please wait until it has finished."),Globals.lang("CiteSeer Import Error"),JOptionPane.WARNING_MESSAGE);
  }
}
