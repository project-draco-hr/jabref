{
  if (citeSeerFetcher.activateCitationFetcher()) {
    sidePaneManager.show("CiteSeerProgress");
    (new Thread(){
      BasePanel newBp;
      BasePanel targetBp;
      BibtexDatabase newDatabase;
      BibtexDatabase targetDatabase;
      Runnable updateComponent=new Runnable(){
        private void setSortingByCitationCount(){
          newBp.sortingByCiteSeerResults=true;
        }
        public void run(){
          setSortingByCitationCount();
          tabbedPane.add(Globals.lang(GUIGlobals.untitledTitle),newBp);
          tabbedPane.setSelectedComponent(newBp);
          output(Globals.lang("Fetched all citations from target database."));
          citeSeerFetcher.deactivateCitationFetcher();
        }
      }
;
      public void run(){
        try {
          newBp=new BasePanel(ths);
          int errorCode;
          targetBp=(BasePanel)tabbedPane.getSelectedComponent();
          newDatabase=newBp.getDatabase();
          targetDatabase=targetBp.getDatabase();
          errorCode=citeSeerFetcher.populate(newDatabase,targetDatabase);
          if (newDatabase.getEntryCount() > 0) {
            SwingUtilities.invokeLater(updateComponent);
          }
 else           if (errorCode == 0) {
            SwingUtilities.invokeLater(citeSeerFetcher.getEmptyFetchSetDialog());
          }
 else {
            citeSeerFetcher.deactivateCitationFetcher();
          }
        }
 catch (        Exception ex) {
          ex.printStackTrace();
        }
      }
    }
).start();
  }
 else {
    JOptionPane.showMessageDialog(tabbedPane.getSelectedComponent(),Globals.lang("A CiteSeer fetch operation is currently in progress.") + "  " + Globals.lang("Please wait until it has finished."),Globals.lang("CiteSeer Fetch Error"),JOptionPane.WARNING_MESSAGE);
  }
}
