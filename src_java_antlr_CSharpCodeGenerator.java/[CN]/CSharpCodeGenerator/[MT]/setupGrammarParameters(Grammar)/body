{
  if (g instanceof ParserGrammar || g instanceof LexerGrammar || g instanceof TreeWalkerGrammar) {
    if (antlrTool.nameSpace != null)     nameSpace=new CSharpNameSpace(antlrTool.nameSpace.getName());
    if (g.hasOption("namespace")) {
      Token t=g.getOption("namespace");
      if (t != null) {
        nameSpace=new CSharpNameSpace(t.getText());
      }
    }
  }
  if (g instanceof ParserGrammar) {
    labeledElementASTType="AST";
    if (g.hasOption("ASTLabelType")) {
      Token tsuffix=g.getOption("ASTLabelType");
      if (tsuffix != null) {
        String suffix=StringUtils.stripFrontBack(tsuffix.getText(),"\"","\"");
        if (suffix != null) {
          usingCustomAST=true;
          labeledElementASTType=suffix;
        }
      }
    }
    labeledElementType="Token ";
    labeledElementInit="null";
    commonExtraArgs="";
    commonExtraParams="";
    commonLocalVars="";
    lt1Value="LT(1)";
    exceptionThrown="RecognitionException";
    throwNoViable="throw new NoViableAltException(LT(1), getFilename());";
  }
 else   if (g instanceof LexerGrammar) {
    labeledElementType="char ";
    labeledElementInit="'\\0'";
    commonExtraArgs="";
    commonExtraParams="bool _createToken";
    commonLocalVars="int _ttype; Token _token=null; int _begin=text.Length;";
    lt1Value="LA(1)";
    exceptionThrown="RecognitionException";
    throwNoViable="throw new NoViableAltForCharException((char)LA(1), getFilename(), getLine(), getColumn());";
  }
 else   if (g instanceof TreeWalkerGrammar) {
    labeledElementASTType="AST";
    labeledElementType="AST";
    if (g.hasOption("ASTLabelType")) {
      Token tsuffix=g.getOption("ASTLabelType");
      if (tsuffix != null) {
        String suffix=StringUtils.stripFrontBack(tsuffix.getText(),"\"","\"");
        if (suffix != null) {
          usingCustomAST=true;
          labeledElementASTType=suffix;
          labeledElementType=suffix;
        }
      }
    }
    if (!g.hasOption("ASTLabelType")) {
      g.setOption("ASTLabelType",new Token(ANTLRTokenTypes.STRING_LITERAL,"AST"));
    }
    labeledElementInit="null";
    commonExtraArgs="_t";
    commonExtraParams="AST _t";
    commonLocalVars="";
    if (usingCustomAST)     lt1Value="(_t==ASTNULL) ? null : (" + labeledElementASTType + ")_t";
 else     lt1Value="_t";
    exceptionThrown="RecognitionException";
    throwNoViable="throw new NoViableAltException(_t);";
  }
 else {
    antlrTool.panic("Unknown grammar type");
  }
}
