{
  super(owner,Globals.lang("Select file from ZIP-archive"),false);
  this.importCustomizationDialog=owner;
  this.zipFileChooser=this;
  cancelButton.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      dispose();
    }
  }
);
  okButton.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      int row=table.getSelectedRow();
      if (row != -1) {
        ZipFileChooserTableModel model=(ZipFileChooserTableModel)table.getModel();
        ZipEntry tempZipEntry=model.getZipEntry(row);
        CustomImportList.Importer importer=prefs.customImports.new Importer();
        importer.setBasePath(model.getZipFile().getName());
        String className=tempZipEntry.getName().substring(0,tempZipEntry.getName().lastIndexOf('.'));
        importer.setClassName(className);
        try {
          ImportFormat importFormat=importer.getInstance();
          importer.setName(importFormat.getFormatName());
          importer.setCliId(importFormat.getCLIId());
          importCustomizationDialog.addOrReplaceImporter(importer);
          dispose();
        }
 catch (        Exception exc) {
          exc.printStackTrace();
          JOptionPane.showMessageDialog(zipFileChooser,Globals.lang("Could not instantiate %0 %1",importer.getName() + ":\n",exc.getMessage()));
        }
      }
 else {
        JOptionPane.showMessageDialog(zipFileChooser,Globals.lang("Please select an importer."));
      }
    }
  }
);
  ZipFileChooserTableModel tableModel=new ZipFileChooserTableModel(zipFile,getSelectableZipEntries(zipFile));
  table=new JTable(tableModel);
  TableColumnModel cm=table.getColumnModel();
  cm.getColumn(0).setPreferredWidth(200);
  cm.getColumn(1).setPreferredWidth(150);
  cm.getColumn(2).setPreferredWidth(100);
  JScrollPane sp=new JScrollPane(table,JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED,JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);
  table.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);
  table.setPreferredScrollableViewportSize(new Dimension(500,150));
  if (table.getRowCount() > 0) {
    table.setRowSelectionInterval(0,0);
  }
  JPanel mainPanel=new JPanel();
  mainPanel.setLayout(new BorderLayout());
  mainPanel.add(sp,BorderLayout.CENTER);
  JPanel optionsPanel=new JPanel();
  optionsPanel.add(okButton);
  optionsPanel.add(cancelButton);
  optionsPanel.add(Box.createHorizontalStrut(5));
  getContentPane().add(mainPanel,BorderLayout.CENTER);
  getContentPane().add(optionsPanel,BorderLayout.SOUTH);
  this.setSize(getSize());
  pack();
  Util.placeDialog(this,owner);
  new FocusRequester(table);
}
