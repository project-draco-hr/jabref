{
  JPanel leftPan=new JPanel();
  leftPan.setLayout(new BorderLayout());
  JToolBar tlb=new JToolBar(SwingConstants.VERTICAL);
  tlb.setBorder(null);
  tlb.setRollover(true);
  tlb.setMargin(new Insets(0,0,0,2));
  ActionMap am=tlb.getActionMap();
  InputMap im=tlb.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW);
  im.put(prefs.getKey("Close entry editor"),"close");
  am.put("close",closeAction);
  im.put(prefs.getKey("Entry editor, store field"),"store");
  am.put("store",storeFieldAction);
  im.put(prefs.getKey("Autogenerate BibTeX keys"),"generateKey");
  am.put("generateKey",generateKeyAction);
  im.put(prefs.getKey("Automatically link files"),"autoLink");
  am.put("autoLink",autoLinkAction);
  im.put(prefs.getKey("Entry editor, previous entry"),"prev");
  am.put("prev",prevEntryAction);
  im.put(prefs.getKey("Entry editor, next entry"),"next");
  am.put("next",nextEntryAction);
  im.put(prefs.getKey("Undo"),"undo");
  am.put("undo",undoAction);
  im.put(prefs.getKey("Redo"),"redo");
  am.put("redo",redoAction);
  im.put(prefs.getKey("Help"),"help");
  am.put("help",helpAction);
  tlb.setFloatable(false);
  JButton closeBut=new JButton(closeAction);
  closeBut.setText(null);
  closeBut.setBorder(null);
  closeBut.setMargin(new Insets(8,0,8,0));
  leftPan.add(closeBut,BorderLayout.NORTH);
  leftPan.add(new TypeLabel(entry.getType().getName()),BorderLayout.CENTER);
  TypeButton typeButton=new TypeButton(entry.getType().getName());
  tlb.add(typeButton);
  tlb.add(generateKeyAction);
  tlb.add(autoLinkAction);
  tlb.add(writeXmp);
  tlb.addSeparator();
  tlb.add(deleteAction);
  tlb.add(prevEntryAction);
  tlb.add(nextEntryAction);
  tlb.addSeparator();
  tlb.add(helpAction);
  Component[] comps=tlb.getComponents();
  for (  Component comp : comps) {
    ((JComponent)comp).setOpaque(false);
  }
  leftPan.add(tlb,BorderLayout.SOUTH);
  add(leftPan,BorderLayout.WEST);
}
