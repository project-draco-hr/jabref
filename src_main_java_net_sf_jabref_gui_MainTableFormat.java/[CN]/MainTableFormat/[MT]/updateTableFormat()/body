{
  String[] colSettings=Globals.prefs.getStringArray("columnNames");
  columns=new String[colSettings.length][];
  for (int i=0; i < colSettings.length; i++) {
    String[] fields=colSettings[i].split(COL_DEFINITION_FIELD_SEPARATOR);
    columns[i]=new String[fields.length];
    System.arraycopy(fields,0,columns[i],0,fields.length);
  }
  showShort=Globals.prefs.getBoolean("showShort");
  namesNatbib=Globals.prefs.getBoolean("namesNatbib");
  namesLastOnly=Globals.prefs.getBoolean("namesLastOnly");
  namesAsIs=Globals.prefs.getBoolean("namesAsIs");
  abbr_names=Globals.prefs.getBoolean("abbrAuthorNames");
  namesFf=Globals.prefs.getBoolean("namesFf");
  namesLf=!(namesAsIs || namesFf || namesNatbib|| namesLastOnly);
  iconCols.clear();
  int coln=1;
  if (Globals.prefs.getBoolean(SpecialFieldsUtils.PREF_SPECIALFIELDSENABLED)) {
    if (Globals.prefs.getBoolean(SpecialFieldsUtils.PREF_SHOWCOLUMN_RANKING))     iconCols.put(coln++,RANKING);
    if (Globals.prefs.getBoolean(SpecialFieldsUtils.PREF_SHOWCOLUMN_RELEVANCE))     iconCols.put(coln++,RELEVANCE);
    if (Globals.prefs.getBoolean(SpecialFieldsUtils.PREF_SHOWCOLUMN_QUALITY))     iconCols.put(coln++,QUALITY);
    if (Globals.prefs.getBoolean(SpecialFieldsUtils.PREF_SHOWCOLUMN_PRIORITY))     iconCols.put(coln++,PRIORITY);
  }
  if (Globals.prefs.getBoolean("fileColumn"))   iconCols.put(coln++,FILE);
  if (Globals.prefs.getBoolean("pdfColumn"))   iconCols.put(coln++,PDF);
  if (Globals.prefs.getBoolean("urlColumn")) {
    if (Globals.prefs.getBoolean("preferUrlDoi")) {
      iconCols.put(coln++,DOI_FIRST);
    }
 else {
      iconCols.put(coln++,URL_FIRST);
    }
  }
  if (Globals.prefs.getBoolean("arxivColumn"))   iconCols.put(coln++,ARXIV);
  if (Globals.prefs.getBoolean("extraFileColumns")) {
    String[] desiredColumns=Globals.prefs.getStringArray("listOfFileColumns");
    for (int i=0; i < desiredColumns.length; i++) {
      iconCols.put(coln++,new String[]{GUIGlobals.FILE_FIELD,desiredColumns[i]});
    }
  }
  padleft=1 + iconCols.size();
  Vector<int[]> tmp=new Vector<int[]>(2,1);
  for (int i=0; i < columns.length; i++) {
    for (int j=0; j < columns[i].length; j++) {
      if (columns[i][j].equals("author") || columns[i][j].equals("editor")) {
        tmp.add(new int[]{i,j});
      }
    }
  }
  nameCols=new int[tmp.size()][];
  for (int i=0; i < nameCols.length; i++) {
    nameCols[i]=tmp.elementAt(i);
  }
}
