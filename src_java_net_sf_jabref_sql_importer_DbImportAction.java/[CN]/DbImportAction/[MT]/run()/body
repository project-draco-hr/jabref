{
  if (connectToDB) {
    try {
      frame.output(Globals.lang("Attempting SQL import..."));
      DBExporterAndImporterFactory factory=new DBExporterAndImporterFactory();
      DBImporter importer=factory.getImporter(dbs.getServerType());
      databases=importer.performImport(null,dbs);
      for (      Object[] res : databases) {
        database=(BibtexDatabase)res[0];
        metaData=(MetaData)res[1];
        dbs.isConfigValid(true);
      }
      JOptionPane.showMessageDialog(frame,databases.size() + " databases will be imported","Database Import",JOptionPane.INFORMATION_MESSAGE);
    }
 catch (    Exception ex) {
      String preamble="Could not import from SQL database for the following reason:";
      errorMessage=SQLUtil.getExceptionMessage(ex);
      dbs.isConfigValid(false);
      JOptionPane.showMessageDialog(frame,Globals.lang(preamble) + "\n" + errorMessage,Globals.lang("Export to SQL database"),JOptionPane.ERROR_MESSAGE);
      frame.output(Globals.lang("Error importing from database"));
      ex.printStackTrace();
    }
  }
}
