{
  String chosenFile=FileDialogs.getNewFile(frame,new File(Globals.prefs.get(JabRefPreferences.WORKING_DIRECTORY)),Collections.singletonList(".bib"),JFileChooser.SAVE_DIALOG,false);
  if (chosenFile != null) {
    File expFile=new File(chosenFile);
    if (!expFile.exists() || (JOptionPane.showConfirmDialog(frame,Localization.lang("'%0' exists. Overwrite file?",expFile.getName()),Localization.lang("Save database"),JOptionPane.OK_CANCEL_OPTION) == JOptionPane.OK_OPTION)) {
      saveDatabase(expFile,true,Globals.prefs.getDefaultEncoding(),saveType);
      frame.getFileHistory().newFile(expFile.getPath());
      frame.output(Localization.lang("Saved selected to '%0'.",expFile.getPath()));
    }
  }
}
