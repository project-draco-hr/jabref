{
  String chosenFile=FileDialogs.getNewFile(frame,new File(Globals.prefs.get(JabRefPreferences.WORKING_DIRECTORY)),".bib",JFileChooser.SAVE_DIALOG,false);
  if (chosenFile != null) {
    File expFile=new File(chosenFile);
    if (!expFile.exists() || (JOptionPane.showConfirmDialog(frame,'\'' + expFile.getName() + "' "+ Localization.lang("exists. Overwrite file?"),Localization.lang("Save database"),JOptionPane.OK_CANCEL_OPTION) == JOptionPane.OK_OPTION)) {
      saveDatabase(expFile,true,Globals.prefs.get(JabRefPreferences.DEFAULT_ENCODING),saveType);
      frame.getFileHistory().newFile(expFile.getPath());
      frame.output(Localization.lang("Saved selected to") + " '" + expFile.getPath()+ "'.");
    }
  }
}
