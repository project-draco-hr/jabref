{
  AutoCompletePreferences preferences=mock(AutoCompletePreferences.class);
  BibtexKeyAutoCompleter autoCompleter=new BibtexKeyAutoCompleter(preferences);
  BibEntry entryOne=new BibEntry();
  entryOne.setField(BibEntry.KEY_FIELD,"testKeyOne");
  autoCompleter.addBibtexEntry(entryOne);
  BibEntry entryTwo=new BibEntry();
  entryTwo.setField(BibEntry.KEY_FIELD,"testKeyTwo");
  autoCompleter.addBibtexEntry(entryTwo);
  List<String> result=autoCompleter.complete("testKey");
  Assert.assertEquals(Arrays.asList("testKeyOne","testKeyTwo"),result);
}
