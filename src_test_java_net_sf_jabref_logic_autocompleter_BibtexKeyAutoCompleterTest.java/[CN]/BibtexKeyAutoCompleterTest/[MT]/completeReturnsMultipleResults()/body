{
  AutoCompletePreferences preferences=mock(AutoCompletePreferences.class);
  BibtexKeyAutoCompleter autoCompleter=new BibtexKeyAutoCompleter(preferences);
  BibtexEntry entryOne=new BibtexEntry();
  entryOne.setField(BibtexEntry.KEY_FIELD,"testKeyOne");
  autoCompleter.addBibtexEntry(entryOne);
  BibtexEntry entryTwo=new BibtexEntry();
  entryTwo.setField(BibtexEntry.KEY_FIELD,"testKeyTwo");
  autoCompleter.addBibtexEntry(entryTwo);
  String[] result=autoCompleter.complete("testKey");
  Assert.assertEquals(2,result.length);
  Assert.assertEquals("testKeyOne",result[0]);
  Assert.assertEquals("testKeyTwo",result[1]);
}
