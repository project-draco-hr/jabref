{
  Object o=be.getField(field);
  if (o == null) {
    return 0;
  }
  String txt=o.toString();
  StringBuilder sb=new StringBuilder();
  int ind;
  int piv=0;
  int counter=0;
  int len1=s1.length();
  while ((ind=txt.indexOf(s1,piv)) >= 0) {
    counter++;
    sb.append(txt.substring(piv,ind));
    sb.append(s2);
    piv=ind + len1;
  }
  sb.append(txt.substring(piv));
  String newStr=sb.toString();
  be.setField(field,newStr);
  ce.addEdit(new UndoableFieldChange(be,field,txt,newStr));
  return counter;
}
