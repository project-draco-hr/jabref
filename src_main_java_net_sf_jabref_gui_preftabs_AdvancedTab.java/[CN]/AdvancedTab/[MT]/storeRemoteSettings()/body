{
  Optional<Integer> newPort=getPortAsInt();
  if (newPort.isPresent() && remotePreferences.isDifferentPort(newPort.get())) {
    remotePreferences.setPort(newPort.get());
    if (remotePreferences.useRemoteServer()) {
      JOptionPane.showMessageDialog(null,Localization.lang("Remote server port").concat(" ").concat(Localization.lang("You must restart JabRef for this to come into effect.")),Localization.lang("Remote server port"),JOptionPane.WARNING_MESSAGE);
    }
  }
  remotePreferences.setUseRemoteServer(useRemoteServer.isSelected());
  if (remotePreferences.useRemoteServer()) {
    Globals.remoteListener.openAndStart(new JabRefMessageHandler(jabRef),remotePreferences.getPort());
  }
 else {
    Globals.remoteListener.stop();
  }
}
