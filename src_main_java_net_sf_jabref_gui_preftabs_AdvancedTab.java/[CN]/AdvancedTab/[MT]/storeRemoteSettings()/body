{
  Optional<Integer> newPort=getPortAsInt();
  if (newPort.isPresent()) {
    if (remotePreferences.isDifferentPort(newPort.get())) {
      remotePreferences.setPort(newPort.get());
      if (remotePreferences.useRemoteServer()) {
        JOptionPane.showMessageDialog(null,Globals.lang("Remote server port").concat(" ").concat("You must restart JabRef for this change to come into effect."),Globals.lang("Remote server port"),JOptionPane.WARNING_MESSAGE);
      }
    }
  }
  remotePreferences.setUseRemoteServer(useRemoteServer.isSelected());
  if (remotePreferences.useRemoteServer()) {
    Globals.remoteListener.openAndStart(new JabRefMessageHandler(jabRef),remotePreferences.getPort());
  }
 else {
    Globals.remoteListener.stop();
  }
}
