{
  String field=entry.getField(name);
  if (!Strings.nullToEmpty(field).trim().isEmpty() || includeEmptyFields) {
    if (prependWhiteSpace) {
      out.write(',' + Globals.NEWLINE);
    }
    out.write("  " + getFieldDisplayName(name) + " = ");
    try {
      out.write(fieldFormatter.format(field,name));
    }
 catch (    IOException ex) {
      throw new IOException("Error in field '" + name + "': "+ ex.getMessage());
    }
    return true;
  }
 else {
    return false;
  }
}
