{
  NamedCompound ce=new NamedCompound(Localization.lang("Move external links to 'file' field"));
  UpgradePdfPsToFileCleanup cleanupJob=new UpgradePdfPsToFileCleanup(Arrays.asList(fields));
  for (  BibEntry entry : database.getEntryMap().values()) {
    List<FieldChange> changes=cleanupJob.cleanup(entry);
    for (    FieldChange change : changes) {
      ce.addEdit(new UndoableFieldChange(change));
    }
  }
  ce.end();
  return ce;
}
