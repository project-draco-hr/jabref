{
  super(_baseFrame,true);
  setTitle(Localization.lang("Select entry type"));
  addWindowListener(new WindowAdapter(){
    @Override public void windowClosing(    WindowEvent e){
      cancelAction.actionPerformed(null);
    }
  }
);
  getContentPane().setLayout(new BorderLayout());
  JPanel panel=new JPanel();
  getContentPane().add(panel,BorderLayout.CENTER);
  JPanel buttons=new JPanel();
  JButton cancel=new JButton(Localization.lang("Cancel"));
  cancel.addActionListener(this);
  cancel.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(_baseFrame.prefs.getKey(KeyBinds.CLOSE_DIALOG),"close");
  cancel.getActionMap().put("close",cancelAction);
  ButtonBarBuilder bb=new ButtonBarBuilder(buttons);
  bb.addGlue();
  bb.addButton(cancel);
  bb.addGlue();
  getContentPane().add(buttons,BorderLayout.SOUTH);
  addEntryTypeGroup(panel,EntryTypes.getAllValues());
  pack();
  setResizable(false);
}
