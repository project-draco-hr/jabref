{
  if ((name == null) || name.isEmpty()) {
    return null;
  }
  File file=new File(name);
  if (!file.exists() && (dir != null)) {
    if (dir.endsWith(FILE_SEPARATOR)) {
      name=dir + name;
    }
 else {
      name=dir + FILE_SEPARATOR + name;
    }
    if (OS.WINDOWS) {
      name=SLASH.matcher(name).replaceAll("\\\\");
    }
 else {
      name=BACKSLASH.matcher(name).replaceAll("/");
    }
    file=new File(name);
    if (!file.exists()) {
      file=null;
    }
  }
  return file;
}
