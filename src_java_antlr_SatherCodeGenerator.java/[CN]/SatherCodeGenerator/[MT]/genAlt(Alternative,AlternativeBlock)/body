{
  boolean savegenAST=genAST;
  genAST=genAST && alt.getAutoGen();
  boolean oldsaveTest=saveText;
  saveText=saveText && alt.getAutoGen();
  Hashtable saveMap=treeVariableMap;
  treeVariableMap=new Hashtable();
  if (alt.exceptionSpec != null) {
    println("protect -- for error handling");
    tabs++;
  }
  AlternativeElement elem=alt.head;
  while (!(elem instanceof BlockEndElement)) {
    elem.generate();
    elem=elem.next;
  }
  if (genAST) {
    if (blk instanceof RuleBlock) {
      RuleBlock rblk=(RuleBlock)blk;
      println(rblk.getRuleName() + "_ast := current_ast.root;");
    }
 else     if (blk.getLabel() != null) {
    }
  }
  if (alt.exceptionSpec != null) {
    tabs--;
    genErrorHandler(alt.exceptionSpec);
  }
  genAST=savegenAST;
  saveText=oldsaveTest;
  treeVariableMap=saveMap;
}
