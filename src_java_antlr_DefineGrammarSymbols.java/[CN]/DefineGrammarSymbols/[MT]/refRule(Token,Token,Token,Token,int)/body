{
  String id=r.getText();
  if (r.type == ANTLRTokenTypes.TOKEN_REF) {
    id=CodeGenerator.lexerRuleName(id);
  }
  if (!grammar.isDefined(id)) {
    grammar.define(new RuleSymbol(id));
  }
}
