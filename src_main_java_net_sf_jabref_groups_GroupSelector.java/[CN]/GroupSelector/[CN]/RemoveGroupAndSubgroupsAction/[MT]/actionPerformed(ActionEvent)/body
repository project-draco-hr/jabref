{
  final GroupTreeNode node=getNodeToUse();
  final AbstractGroup group=node.getGroup();
  int conf=JOptionPane.showConfirmDialog(frame,Globals.lang("Remove group \"%0\" and its subgroups?",group.getName()),Globals.lang("Remove group and subgroups"),JOptionPane.YES_NO_OPTION);
  if (conf == JOptionPane.YES_OPTION) {
    final UndoableAddOrRemoveGroup undo=new UndoableAddOrRemoveGroup(GroupSelector.this,groupsRoot,node,UndoableAddOrRemoveGroup.REMOVE_NODE_AND_CHILDREN);
    node.removeFromParent();
    revalidateGroups();
    panel.undoManager.addEdit(undo);
    panel.markBaseChanged();
    frame.output(Globals.lang("Removed group \"%0\" and its subgroups.",group.getName()));
  }
}
