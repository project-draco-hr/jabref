{
  final SearchRuleSet searchRules=SearchRuleSets.build(andCb.isSelected() ? SearchRuleSets.RuleSetType.AND : SearchRuleSets.RuleSetType.OR);
  TreePath[] selection=groupsTree.getSelectionPaths();
  for (  TreePath aSelection : selection) {
    SearchRule searchRule=((GroupTreeNode)aSelection.getLastPathComponent()).getSearchRule();
    searchRules.addRule(searchRule);
  }
  SearchRule searchRule=invCb.isSelected() ? new InvertSearchRule(searchRules) : searchRules;
  GroupingWorker worker=new GroupingWorker(searchRule,SearchRule.DUMMY_QUERY);
  worker.getWorker().run();
  worker.getCallBack().update();
}
