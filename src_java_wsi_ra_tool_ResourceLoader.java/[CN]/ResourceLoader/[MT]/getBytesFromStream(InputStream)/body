{
  BufferedInputStream bis=new BufferedInputStream(stream);
  try {
    int size=(int)bis.available();
    byte[] b=new byte[size];
    int rb=0;
    int chunk=0;
    while (((int)size - rb) > 0) {
      chunk=bis.read(b,rb,(int)size - rb);
      if (chunk == -1) {
        break;
      }
      rb+=chunk;
    }
    return b;
  }
 catch (  Exception e) {
    return null;
  }
}
