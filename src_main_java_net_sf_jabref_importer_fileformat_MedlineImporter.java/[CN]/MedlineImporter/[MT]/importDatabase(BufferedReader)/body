{
  Objects.requireNonNull(reader);
  SAXParserFactory parserFactory=SAXParserFactory.newInstance();
  parserFactory.setValidating(true);
  parserFactory.setNamespaceAware(true);
  List<BibEntry> bibItems=new ArrayList<>();
  try {
    SAXParser parser=parserFactory.newSAXParser();
    MedlineHandler handler=new MedlineHandler();
    parser.parse(new InputSource(reader),handler);
    if (false) {
      reader.reset();
      try (FileOutputStream out=new FileOutputStream(new File("/home/alver/ut.txt"))){
        int c;
        while ((c=reader.read()) != -1) {
          out.write((char)c);
        }
      }
     }
    bibItems.addAll(handler.getItems());
  }
 catch (  javax.xml.parsers.ParserConfigurationException e) {
    LOGGER.error("Error with XML parser configuration",e);
    return ParserResult.fromErrorMessage(e.getLocalizedMessage());
  }
catch (  org.xml.sax.SAXException e) {
    LOGGER.error("Error during XML parsing",e);
    return ParserResult.fromErrorMessage(e.getLocalizedMessage());
  }
catch (  IOException e) {
    LOGGER.error("Error during file import",e);
    return ParserResult.fromErrorMessage(e.getLocalizedMessage());
  }
  return new ParserResult(bibItems);
}
