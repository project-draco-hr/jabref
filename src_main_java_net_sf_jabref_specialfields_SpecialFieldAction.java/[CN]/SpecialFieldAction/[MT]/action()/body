{
  try {
    List<BibEntry> bes=frame.getCurrentBasePanel().getSelectedEntries();
    if ((bes == null) || bes.isEmpty()) {
      return;
    }
    NamedCompound ce=new NamedCompound(undoText);
    for (    BibEntry be : bes) {
      SpecialFieldsUtils.updateField(c,value,be,ce,nullFieldIfValueIsTheSame);
    }
    ce.end();
    if (ce.hasEdits()) {
      frame.getCurrentBasePanel().undoManager.addEdit(ce);
      frame.getCurrentBasePanel().markBaseChanged();
      frame.getCurrentBasePanel().updateEntryEditorIfShowing();
      String outText;
      if (nullFieldIfValueIsTheSame) {
        outText=Localization.lang(doneTextPattern,Integer.toString(bes.size()));
      }
 else {
        outText=Localization.lang(doneTextPattern,value,Integer.toString(bes.size()));
      }
      frame.output(outText);
    }
 else {
    }
  }
 catch (  Throwable ex) {
    LOGGER.error("Problem setting special fields",ex);
  }
}
