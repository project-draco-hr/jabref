{
  FontMetrics metrics=getFontMetrics(getFont());
  setRowHeight(Math.max(getRowHeight(),metrics.getHeight()));
  this.groupSelector=groupSelector;
  DragGestureRecognizer dgr=DragSource.getDefaultDragSource().createDefaultDragGestureRecognizer(this,DnDConstants.ACTION_MOVE,this);
  dgr.setSourceActions(dgr.getSourceActions() & ~InputEvent.BUTTON3_MASK);
  new DropTarget(this,this);
  setCellRenderer(cellRenderer);
  setFocusable(false);
  setToggleClickCount(0);
  ToolTipManager.sharedInstance().registerComponent(this);
  setShowsRootHandles(false);
  setVisibleRowCount(Globals.prefs.getInt("groupsVisibleRows"));
  getSelectionModel().setSelectionMode(TreeSelectionModel.DISCONTIGUOUS_TREE_SELECTION);
}
