{
  IsiImporter importer=new IsiImporter();
  try (InputStream is=IsiImporterTest.class.getResourceAsStream("IsiImporterTestInspec.isi")){
    List<BibEntry> entries=importer.importEntries(is,new OutputPrinterToNull());
    Assert.assertEquals(2,entries.size());
    BibEntry a=entries.get(0);
    BibEntry b=entries.get(1);
    if (a.getField("title").equals("Optical and photoelectric spectroscopy of photorefractive Sn$_2$P$_2$S$_6$ crystals")) {
      BibEntry tmp=a;
      a=b;
      b=tmp;
    }
    Assert.assertEquals("Second harmonic generation of continuous wave ultraviolet light and production of beta -BaB$_2$O$_4$ optical waveguides",a.getField("title"));
    Assert.assertEquals("article",a.getType());
    Assert.assertEquals("Degl'Innocenti, R. and Guarino, A. and Poberaj, G. and Gunter, P.",a.getField("author"));
    Assert.assertEquals("Applied Physics Letters",a.getField("journal"));
    Assert.assertEquals("2006",a.getField("year"));
    Assert.assertEquals("#jul#",a.getField("month"));
    Assert.assertEquals("89",a.getField("volume"));
    Assert.assertEquals("4",a.getField("number"));
    Assert.assertEquals("Lorem ipsum abstract",a.getField("abstract"));
    Assert.assertEquals("Aip",a.getField("publisher"));
    Assert.assertEquals("Optical and photoelectric spectroscopy of photorefractive Sn$_2$P$_2$S$_6$ crystals",b.getField("title"));
    Assert.assertEquals("article",b.getType());
  }
 }
