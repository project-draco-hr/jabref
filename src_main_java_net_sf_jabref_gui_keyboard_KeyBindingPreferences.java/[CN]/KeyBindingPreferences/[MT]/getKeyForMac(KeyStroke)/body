{
  if (ks == null) {
    return null;
  }
  int keyCode=ks.getKeyCode();
  if ((ks.getModifiers() & InputEvent.CTRL_MASK) == 0) {
    return ks;
  }
 else {
    int modifiers=0;
    if ((ks.getModifiers() & InputEvent.SHIFT_MASK) != 0) {
      modifiers=modifiers | InputEvent.SHIFT_MASK;
    }
    if ((ks.getModifiers() & InputEvent.ALT_MASK) != 0) {
      modifiers=modifiers | InputEvent.ALT_MASK;
    }
    if (SHORTCUT_MASK == -1) {
      try {
        SHORTCUT_MASK=Toolkit.getDefaultToolkit().getMenuShortcutKeyMask();
      }
 catch (      AWTError|HeadlessException ignored) {
      }
    }
    return KeyStroke.getKeyStroke(keyCode,SHORTCUT_MASK + modifiers);
  }
}
