{
  BibtexEntry be=null;
  BibtexEntry[] bes=entryTable.getSelectedEntries();
  if ((bes != null) && (bes.length > 0))   be=bes[0];
 else   if (showing != null)   return;
  if (showing != null) {
    showEntry(be);
    return;
  }
  if (!previewEnabled || be == null) {
    splitPane.setBottomComponent(null);
    return;
  }
  if (previewPanel[activePreview] == null) {
    previewPanel[activePreview]=new PreviewPanel(database,be,prefs.get("preview" + activePreview));
  }
 else   previewPanel[activePreview].setEntry(be);
  splitPane.setBottomComponent(previewPanel[activePreview].getPane());
  int prevSize=Math.min(splitPane.getHeight() / 2,previewPanel[activePreview].getPane().getPreferredSize().height + GUIGlobals.PREVIEW_PANEL_PADDING);
  splitPane.setDividerLocation(splitPane.getHeight() - prevSize);
}
