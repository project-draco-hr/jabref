{
  if (Globals.prefs.getBoolean("autoAssignGroup")) {
    if (frame.groupToggle.isSelected()) {
      BibtexEntry[] entries={bibEntry};
      TreePath[] selection=frame.groupSelector.getGroupsTree().getSelectionPaths();
      if (selection != null) {
        for (        TreePath tree : selection) {
          ((GroupTreeNode)(tree.getLastPathComponent())).addToGroup(entries);
        }
      }
      this.updateEntryEditorIfShowing();
      this.getGroupSelector().valueChanged(null);
    }
  }
}
