{
  int oldSplitterLocation=-1;
  if (mode == SHOWING_EDITOR)   oldSplitterLocation=splitPane.getDividerLocation();
 else   if (mode == SHOWING_PREVIEW)   Globals.prefs.putInt("previewPanelHeight",splitPane.getHeight() - splitPane.getDividerLocation());
  boolean adjustSplitter=(mode == WILL_SHOW_EDITOR);
  mode=SHOWING_EDITOR;
  currentEditor=editor;
  splitPane.setBottomComponent(editor);
  if (editor.getEntry() != getShowing())   newEntryShowing(editor.getEntry());
  if (oldSplitterLocation > 0)   splitPane.setDividerLocation(oldSplitterLocation);
  if (adjustSplitter) {
    adjustSplitter();
  }
}
