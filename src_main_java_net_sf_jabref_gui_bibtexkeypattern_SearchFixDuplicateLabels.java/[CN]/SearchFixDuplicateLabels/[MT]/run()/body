{
  dupes=new HashMap<>();
  Map<String,BibEntry> foundKeys=new HashMap<>();
  BibDatabase db=panel.getDatabase();
  for (  BibEntry entry : db.getEntries()) {
    String key=entry.getCiteKey();
    if ((key != null) && !key.isEmpty()) {
      if (foundKeys.containsKey(key)) {
        if (dupes.containsKey(key)) {
          dupes.get(key).add(entry);
        }
 else {
          List<BibEntry> al=new ArrayList<>();
          al.add(foundKeys.get(key));
          al.add(entry);
          dupes.put(key,al);
        }
      }
 else {
        foundKeys.put(key,entry);
      }
    }
  }
}
