{
  AbstractWorker worker=new AbstractWorker(){
    public void run(){
      for (int i=0; i < tabbed.getTabCount(); i++) {
        if (!((PrefsTab)tabbed.getComponentAt(i)).readyToClose())         return;
      }
      for (int i=0; i < tabbed.getTabCount(); i++) {
        ((PrefsTab)tabbed.getComponentAt(i)).storeSettings();
      }
    }
    public void update(){
      dispose();
      frame.setupAllTables();
      frame.output(Globals.lang("Preferences recorded."));
    }
  }
;
  worker.getWorker().run();
  worker.getCallBack().update();
}
