{
  String[] nav=PluginInstaller.getNameAndVersion(f);
  if (nav == null) {
    return PluginInstaller.UNKNOWN_VERSION;
  }
  VersionNumber vn=new VersionNumber(nav[1]);
  Map<VersionNumber,File> versions=PluginInstaller.getInstalledVersions(nav[0]);
  if (versions.size() == 0) {
    return PluginInstaller.NO_VERSIONS_INSTALLED;
  }
  VersionNumber thenum=versions.keySet().iterator().next();
  boolean hasSame=vn.compareTo(thenum) == 0;
  boolean hasNewer=vn.compareTo(thenum) > 0;
  if (hasNewer) {
    return PluginInstaller.NEWER_VERSION_INSTALLED;
  }
  if (hasSame) {
    return PluginInstaller.SAME_VERSION_INSTALLED;
  }
  return PluginInstaller.OLDER_VERSION_INSTALLED;
}
