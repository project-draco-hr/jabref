{
  if (filesToOpen.isEmpty()) {
    return;
  }
  for (  File file : filesToOpen) {
    try {
      Globals.prefs.put(JabRefPreferences.WORKING_DIRECTORY,file.getPath());
      Charset encoding=Globals.prefs.getDefaultEncoding();
      ParserResult pr=OpenDatabaseAction.loadDatabase(file,encoding);
      AppendDatabaseAction.mergeFromBibtex(frame,panel,pr,importEntries,importStrings,importGroups,importSelectorWords);
      panel.output(Localization.lang("Imported from database") + " '" + file.getPath()+ "'");
    }
 catch (    Throwable ex) {
      LOGGER.warn("Could not open database",ex);
      JOptionPane.showMessageDialog(panel,ex.getMessage(),Localization.lang("Open database"),JOptionPane.ERROR_MESSAGE);
    }
  }
}
