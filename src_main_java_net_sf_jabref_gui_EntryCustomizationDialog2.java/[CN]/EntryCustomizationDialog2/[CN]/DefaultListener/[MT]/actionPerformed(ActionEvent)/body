{
  if (lastSelected == null) {
    return;
  }
  defaulted.add(lastSelected);
  EntryType type=EntryTypes.getStandardType(lastSelected);
  if (type != null) {
    List<String> of=type.getOptionalFields();
    List<String> req=type.getRequiredFields();
    List<String> opt1=new ArrayList<>();
    List<String> opt2=new ArrayList<>();
    if (biblatexMode) {
      if (of.size() != 0) {
        opt1=type.getPrimaryOptionalFields();
        opt2=type.getSecondaryOptionalFields();
      }
    }
 else {
      if (of.size() != 0) {
        opt1=of;
      }
    }
    reqComp.setFields(req);
    reqComp.setEnabled(true);
    optComp.setFields(opt1);
    if (biblatexMode) {
      optComp2.setFields(opt2);
    }
  }
}
