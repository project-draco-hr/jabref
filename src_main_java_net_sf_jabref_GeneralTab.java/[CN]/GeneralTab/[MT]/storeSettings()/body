{
  _prefs.putBoolean(JabRefPreferences.USE_OWNER,useOwner.isSelected());
  _prefs.putBoolean(JabRefPreferences.OVERWRITE_OWNER,overwriteOwner.isSelected());
  _prefs.putBoolean(JabRefPreferences.USE_TIME_STAMP,useTimeStamp.isSelected());
  _prefs.putBoolean(JabRefPreferences.OVERWRITE_TIME_STAMP,overwriteTimeStamp.isSelected());
  _prefs.putBoolean(JabRefPreferences.UPDATE_TIMESTAMP,updateTimeStamp.isSelected());
  _prefs.putBoolean(JabRefPreferences.DIALOG_WARNING_FOR_DUPLICATE_KEY,keyDuplicateWarningDialog.isSelected());
  _prefs.putBoolean(JabRefPreferences.DIALOG_WARNING_FOR_EMPTY_KEY,keyEmptyWarningDialog.isSelected());
  _prefs.putBoolean(JabRefPreferences.ENFORCE_LEGAL_BIBTEX_KEY,enforceLegalKeys.isSelected());
  if (_prefs.getBoolean(JabRefPreferences.MEMORY_STICK_MODE) && !memoryStick.isSelected()) {
    JOptionPane.showMessageDialog(null,Globals.lang("To disable the memory stick mode" + " rename or remove the jabref.xml file in the same folder as JabRef."),Globals.lang("Memory Stick Mode"),JOptionPane.INFORMATION_MESSAGE);
  }
  _prefs.putBoolean(JabRefPreferences.MEMORY_STICK_MODE,memoryStick.isSelected());
  _prefs.putBoolean(JabRefPreferences.CONFIRM_DELETE,confirmDelete.isSelected());
  _prefs.putBoolean(JabRefPreferences.ALLOW_TABLE_EDITING,allowEditing.isSelected());
  _prefs.putBoolean(JabRefPreferences.CTRL_CLICK,ctrlClick.isSelected());
  _prefs.putBoolean(JabRefPreferences.USE_IMPORT_INSPECTION_DIALOG,useImportInspector.isSelected());
  _prefs.putBoolean(JabRefPreferences.USE_IMPORT_INSPECTION_DIALOG_FOR_SINGLE,useImportInspectorForSingle.isSelected());
  _prefs.putBoolean(JabRefPreferences.WARN_ABOUT_DUPLICATES_IN_INSPECTION,inspectionWarnDupli.isSelected());
  String owner=defOwnerField.getText().trim();
  _prefs.put(JabRefPreferences.DEFAULT_OWNER,owner);
  _prefs.WRAPPED_USERNAME='[' + owner + ']';
  _prefs.put(JabRefPreferences.TIME_STAMP_FORMAT,timeStampFormat.getText().trim());
  _prefs.put(JabRefPreferences.TIME_STAMP_FIELD,timeStampField.getText().trim());
  _prefs.put(JabRefPreferences.DEFAULT_ENCODING,(String)encodings.getSelectedItem());
  _prefs.putBoolean(JabRefPreferences.MARK_IMPORTED_ENTRIES,markImportedEntries.isSelected());
  _prefs.putBoolean(JabRefPreferences.UNMARK_ALL_ENTRIES_BEFORE_IMPORTING,unmarkAllEntriesBeforeImporting.isSelected());
  if (!GUIGlobals.LANGUAGES.get(language.getSelectedItem()).equals(_prefs.get(JabRefPreferences.LANGUAGE))) {
    _prefs.put(JabRefPreferences.LANGUAGE,GUIGlobals.LANGUAGES.get(language.getSelectedItem()));
    Globals.setLanguage(GUIGlobals.LANGUAGES.get(language.getSelectedItem()),"");
    Globals.prefs.setLanguageDependentDefaultValues();
    JOptionPane.showMessageDialog(null,Globals.lang("You have changed the language setting.").concat(" ").concat(Globals.lang("You must restart JabRef for this to come into effect.")),Globals.lang("Changed language settings"),JOptionPane.WARNING_MESSAGE);
  }
}
