{
  setGrammar(g);
  antlrTool.reportProgress("Generating " + grammar.getClassName() + TokenTypesFileExt);
  currentOutput=antlrTool.openOutputFile(grammar.getClassName() + TokenTypesFileExt);
  tabs=0;
  doingLexRules=true;
  genHeader();
  println("");
  if (grammar.comment != null) {
    _println(HTMLEncode(grammar.comment));
  }
  println("Definition of lexer " + grammar.getClassName() + ", which is a subclass of "+ grammar.getSuperClass()+ ".");
  genNextToken();
  Enumeration ids=grammar.rules.elements();
  while (ids.hasMoreElements()) {
    RuleSymbol rs=(RuleSymbol)ids.nextElement();
    if (!rs.id.equals("mnextToken")) {
      genRule(rs);
    }
  }
  currentOutput.close();
  currentOutput=null;
  doingLexRules=false;
}
