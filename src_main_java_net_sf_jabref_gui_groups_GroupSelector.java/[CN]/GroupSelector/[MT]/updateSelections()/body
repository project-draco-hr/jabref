{
  final MatcherSet searchRules=MatcherSets.build(andCb.isSelected() ? MatcherSets.MatcherType.AND : MatcherSets.MatcherType.OR);
  TreePath[] selection=groupsTree.getSelectionPaths();
  if (selection == null) {
    selection=new TreePath[0];
  }
  for (  TreePath aSelection : selection) {
    SearchMatcher searchRule=((GroupTreeNode)aSelection.getLastPathComponent()).getSearchRule();
    searchRules.addRule(searchRule);
  }
  SearchMatcher searchRule=invCb.isSelected() ? new NotMatcher(searchRules) : searchRules;
  GroupingWorker worker=new GroupingWorker(searchRule);
  worker.getWorker().run();
  worker.getCallBack().update();
}
