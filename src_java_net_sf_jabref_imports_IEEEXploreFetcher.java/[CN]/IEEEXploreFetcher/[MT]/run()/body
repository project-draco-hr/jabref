{
  frame.block();
  shouldContinue=true;
  parsed=0;
  unparseable=0;
  String address=makeUrl(0);
  try {
    URL url=new URL(address);
    String page=getResults(url);
    frame.unblock();
    if (page.indexOf("You have entered an invalid search") >= 0) {
      dialog.dispose();
      JOptionPane.showMessageDialog(frame,Globals.lang("You have entered an invalid search '%0'.",terms),Globals.lang("Search IEEEXplore"),JOptionPane.INFORMATION_MESSAGE);
      return;
    }
    if (page.indexOf("No results") >= 0) {
      dialog.dispose();
      JOptionPane.showMessageDialog(frame,Globals.lang("No entries found for the search string '%0'",terms),Globals.lang("Search IEEEXplore"),JOptionPane.INFORMATION_MESSAGE);
      return;
    }
    hits=getNumberOfHits(page,"Your search matched",hitsPattern);
    int maxHits=getNumberOfHits(page,"A maximum of",maxHitsPattern);
    if (hits > maxHits)     hits=maxHits;
    fetchingAbstracts=fetchAstracts.isSelected();
    if (hits > MAX_RIS_FETCH) {
      if (fetchingAbstracts == true) {
        JOptionPane.showMessageDialog(frame,Globals.lang("%0 entries found. To reduce server load, " + "only %1 will be downloaded.",new String[]{String.valueOf(hits),String.valueOf(MAX_RIS_FETCH)}),Globals.lang("Search IEEEXplore"),JOptionPane.INFORMATION_MESSAGE);
        fetchRis=true;
        hits=MAX_RIS_FETCH;
      }
 else {
        fetchRis=false;
      }
    }
    dialog.setVisible(true);
    parse(dialog,page,0,1);
    int firstEntry=perPage;
    while (shouldContinue && (firstEntry < hits)) {
      address=makeUrl(firstEntry);
      page=getResults(new URL(address));
      if (!shouldContinue)       break;
      parse(dialog,page,0,1 + firstEntry);
      firstEntry+=perPage;
    }
    dialog.entryListComplete();
  }
 catch (  MalformedURLException e) {
    e.printStackTrace();
  }
catch (  ConnectException e) {
    JOptionPane.showMessageDialog(frame,Globals.lang("Connection to IEEEXplore failed"),Globals.lang("Search IEEExplore"),JOptionPane.ERROR_MESSAGE);
  }
catch (  IOException e) {
    e.printStackTrace();
  }
 finally {
    frame.unblock();
  }
}
