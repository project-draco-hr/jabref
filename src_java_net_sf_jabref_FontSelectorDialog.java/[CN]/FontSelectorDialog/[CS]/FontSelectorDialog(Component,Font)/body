{
  super(JOptionPane.getFrameForComponent(comp),"FontSelector",true);
  JPanel content=new JPanel(new BorderLayout());
  content.setBorder(new EmptyBorder(12,12,12,12));
  setContentPane(content);
  JPanel listPanel=new JPanel(new GridLayout(1,3,6,6));
  JPanel familyPanel=createTextFieldAndListPanel("Font Family",familyField=new JTextField(),familyList=new JList(getFontList()));
  listPanel.add(familyPanel);
  String[] sizes={"9","10","12","14","16","18","24"};
  JPanel sizePanel=createTextFieldAndListPanel("Font Size",sizeField=new JTextField(),sizeList=new JList(sizes));
  listPanel.add(sizePanel);
  String[] styles={PLAIN,BOLD,ITALIC,BOLD_ITALIC};
  JPanel stylePanel=createTextFieldAndListPanel("Font Style",styleField=new JTextField(),styleList=new JList(styles));
  styleField.setEditable(false);
  listPanel.add(stylePanel);
  familyList.setSelectedValue(font.getFamily(),true);
  familyField.setText(font.getFamily());
  sizeList.setSelectedValue(String.valueOf(font.getSize()),true);
  sizeField.setText(String.valueOf(font.getSize()));
  styleList.setSelectedIndex(font.getStyle());
  styleField.setText((String)styleList.getSelectedValue());
  ListHandler listHandler=new ListHandler();
  familyList.addListSelectionListener(listHandler);
  sizeList.addListSelectionListener(listHandler);
  styleList.addListSelectionListener(listHandler);
  content.add(BorderLayout.NORTH,listPanel);
  preview=new JLabel("Font Preview");
  preview.setBorder(new TitledBorder("Font Preview"));
  updatePreview();
  Dimension prefSize=preview.getPreferredSize();
  prefSize.height=50;
  preview.setPreferredSize(prefSize);
  content.add(BorderLayout.CENTER,preview);
  JPanel buttons=new JPanel();
  buttons.setLayout(new BoxLayout(buttons,BoxLayout.X_AXIS));
  buttons.setBorder(new EmptyBorder(12,0,0,0));
  buttons.add(Box.createGlue());
  ok=new JButton("OK");
  ok.addActionListener(new ActionHandler());
  getRootPane().setDefaultButton(ok);
  buttons.add(ok);
  buttons.add(Box.createHorizontalStrut(6));
  cancel=new JButton("Cancel");
  cancel.addActionListener(new ActionHandler());
  buttons.add(cancel);
  buttons.add(Box.createGlue());
  content.add(BorderLayout.SOUTH,buttons);
  pack();
  setLocationRelativeTo(JOptionPane.getFrameForComponent(comp));
  show();
}
