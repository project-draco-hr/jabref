{
  if (DEBUG_ANALYZER)   System.out.println("lookRuleName(" + k + ","+ rule+ ")");
  RuleSymbol rs=(RuleSymbol)grammar.getSymbol(rule);
  RuleBlock rb=rs.getBlock();
  if (rb.lock[k]) {
    if (DEBUG_ANALYZER)     System.out.println("infinite recursion to rule " + rb.getRuleName());
    return new Lookahead(rule);
  }
  if (rb.cache[k] != null) {
    if (DEBUG_ANALYZER) {
      System.out.println("found depth " + k + " result in FIRST "+ rule+ " cache: "+ rb.cache[k].toString(",",charFormatter,grammar));
    }
    return (Lookahead)rb.cache[k].clone();
  }
  rb.lock[k]=true;
  Lookahead p=look(k,(RuleBlock)rb);
  rb.lock[k]=false;
  rb.cache[k]=(Lookahead)p.clone();
  if (DEBUG_ANALYZER) {
    System.out.println("saving depth " + k + " result in FIRST "+ rule+ " cache: "+ rb.cache[k].toString(",",charFormatter,grammar));
  }
  return p;
}
