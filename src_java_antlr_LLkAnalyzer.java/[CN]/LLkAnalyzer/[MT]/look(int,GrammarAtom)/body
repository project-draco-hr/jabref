{
  if (DEBUG_ANALYZER)   System.out.println("look(" + k + ","+ atom+ "["+ atom.getType()+ "])");
  if (lexicalAnalysis) {
    tool.panic("token reference found in lexer");
  }
  if (k > 1) {
    return atom.next.look(k - 1);
  }
  Lookahead l=Lookahead.of(atom.getType());
  if (atom.not) {
    int maxToken=grammar.tokenManager.maxTokenType();
    l.fset.notInPlace(Token.MIN_USER_TYPE,maxToken);
    removeCompetingPredictionSets(l.fset,atom);
  }
  return l;
}
