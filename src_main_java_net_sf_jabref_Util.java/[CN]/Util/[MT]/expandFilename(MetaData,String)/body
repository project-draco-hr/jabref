{
  int pos=name.lastIndexOf('.');
  String extension=((pos >= 0) && (pos < (name.length() - 1))) ? name.substring(pos + 1).trim().toLowerCase() : null;
  String[] dir=metaData.getFileDirectory(extension);
  String[] fileDir=metaData.getFileDirectory(GUIGlobals.FILE_FIELD);
  ArrayList<String> al=new ArrayList<String>();
  for (  String aDir : dir) {
    if (!al.contains(aDir)) {
      al.add(aDir);
    }
  }
  for (  String aFileDir : fileDir) {
    if (!al.contains(aFileDir)) {
      al.add(aFileDir);
    }
  }
  String[] dirs=al.toArray(new String[al.size()]);
  return Util.expandFilename(name,dirs);
}
