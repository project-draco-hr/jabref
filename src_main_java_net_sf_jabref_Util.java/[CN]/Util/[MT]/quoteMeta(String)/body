{
  int i=s.length() - 1;
  StringBuffer bs=new StringBuffer("");
  while ((i >= 0) && (s.charAt(i) == '\\')) {
    --i;
    bs.append("\\\\");
  }
  s=s.substring(0,i + 1);
  return "\\Q" + s.replaceAll("\\\\E","\\\\E\\\\\\\\E\\\\Q") + "\\E"+ bs.toString();
}
