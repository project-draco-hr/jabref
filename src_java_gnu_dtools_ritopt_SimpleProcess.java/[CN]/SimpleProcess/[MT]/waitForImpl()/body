{
  process=process;
  in=new StreamPrinter(processInput,new PrintStream(process.getOutputStream()));
  in.setFlush(true);
  out=new StreamPrinter(process.getInputStream(),yourOutput);
  error=new StreamPrinter(process.getErrorStream(),yourError);
  in.start();
  out.start();
  error.start();
  out.join();
  error.join();
  return process.waitFor();
}
