{
  Pattern pattern;
  try {
    pattern=Pattern.compile(query,caseSensitive ? 0 : Pattern.CASE_INSENSITIVE);
  }
 catch (  PatternSyntaxException ex) {
    return false;
  }
  for (  String field : bibEntry.getFieldNames()) {
    Optional<String> fieldOptional=bibEntry.getField(field);
    if (fieldOptional.isPresent()) {
      String fieldContent=RegexBasedSearchRule.LATEX_TO_UNICODE_FORMATTER.format(fieldOptional.get());
      String fieldContentNoBrackets=RegexBasedSearchRule.LATEX_TO_UNICODE_FORMATTER.format(fieldContent);
      Matcher m=pattern.matcher(fieldContentNoBrackets);
      if (m.find()) {
        return true;
      }
    }
  }
  return false;
}
