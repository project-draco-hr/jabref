{
  super(panel.frame(),Localization.lang("Merge entry with DOI information"),true);
  this.panel=panel;
  if (panel.getSelectedEntries().size() != 1) {
    JOptionPane.showMessageDialog(panel.frame(),Localization.lang("Select one entry."),Localization.lang("Merge entry from DOI"),JOptionPane.INFORMATION_MESSAGE);
    this.dispose();
    return;
  }
  this.originalEntry=panel.getSelectedEntries().get(0);
  panel.output(Localization.lang("Fetching info based on DOI"));
  this.doiEntry=doiFetcher.getEntryFromDOI(this.originalEntry.getField("doi"),null);
  if (this.doiEntry == null) {
    panel.output("");
    JOptionPane.showMessageDialog(panel.frame(),Localization.lang("Cannot get info based on given DOI: %0",this.originalEntry.getField("doi")),Localization.lang("Merge entry from DOI"),JOptionPane.INFORMATION_MESSAGE);
    this.dispose();
    return;
  }
  panel.output(Localization.lang("Opening dialog"));
  init();
}
