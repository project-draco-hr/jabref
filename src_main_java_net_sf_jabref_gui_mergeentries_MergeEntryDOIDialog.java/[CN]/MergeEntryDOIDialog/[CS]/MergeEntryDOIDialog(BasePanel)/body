{
  super(panel.frame(),Localization.lang("Merge entry with DOI information"),true);
  this.panel=panel;
  if (panel.getSelectedEntries().size() != 1) {
    JOptionPane.showMessageDialog(panel.frame(),Localization.lang("This operation requires exactly one item to be selected."),Localization.lang("Merge entry with DOI information"),JOptionPane.INFORMATION_MESSAGE);
    this.dispose();
    return;
  }
  this.originalEntry=panel.getSelectedEntries().get(0);
  panel.output(Localization.lang("Fetching info based on DOI"));
  Optional<String> doi=this.originalEntry.getFieldOptional(FieldName.DOI);
  if (doi.isPresent()) {
    this.doiEntry=doiFetcher.getEntryFromDOI(doi.get()).orElse(null);
  }
  if (this.doiEntry == null) {
    panel.output("");
    JOptionPane.showMessageDialog(panel.frame(),Localization.lang("Cannot get info based on given DOI: %0",doi.orElse(Localization.lang("No DOI found"))),Localization.lang("Merge entry with DOI information"),JOptionPane.INFORMATION_MESSAGE);
    this.dispose();
    return;
  }
  panel.output(Localization.lang("Opening dialog"));
  init();
}
