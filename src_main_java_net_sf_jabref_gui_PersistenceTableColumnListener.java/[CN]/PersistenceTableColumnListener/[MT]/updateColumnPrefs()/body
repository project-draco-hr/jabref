{
  final int columnCount=mainTable.getColumnCount();
  Vector<String> storedColumns=new Vector<>(columnCount - 1);
  Vector<String> columnsWidths=new Vector<>(columnCount - 1);
  int ncWidth=-1;
  for (int i=0; i < columnCount; i++) {
    final String name=mainTable.getColumnName(i);
    if ((name != null) && !name.isEmpty()) {
      if ("#".equals(name)) {
        ncWidth=mainTable.getColumnModel().getColumn(i).getWidth();
      }
 else {
        storedColumns.add(name.toLowerCase());
        columnsWidths.add(String.valueOf(mainTable.getColumnModel().getColumn(i).getWidth()));
      }
    }
  }
  Globals.prefs.putStringArray(JabRefPreferences.COLUMN_NAMES,storedColumns.toArray(new String[storedColumns.size()]));
  Globals.prefs.putStringArray(JabRefPreferences.COLUMN_WIDTHS,columnsWidths.toArray(new String[columnsWidths.size()]));
  Globals.prefs.putInt(JabRefPreferences.NUMBER_COL_WIDTH,ncWidth);
}
